<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/uploads/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/uploads/favicon.ico">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous" defer></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"dunwu.github.io","root":"/blog/","images":"/blog/images","scheme":"Pisces","darkmode":true,"version":"8.25.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"atom-one-light","dark":"atom-one-dark"},"prism":{"light":"atom-one-light","dark":"atom-one-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":true,"nav":null,"activeClass":"gitalk"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/blog/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src="/blog/js/config.js" defer></script>

    <meta name="description" content="如何优雅的玩转 GitGit 简介Git 是什么Git 是一个开源的分布式版本控制系统。 Git 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方式。 从概念上来说，其它大部分系统以文件变更列表的方式存储信息，而 Git 是把数据看作是对小型文件系统的一系列快照。 什么是版本控制版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的">
<meta property="og:type" content="article">
<meta property="og:title" content="如何优雅的玩转 Git">
<meta property="og:url" content="https://dunwu.github.io/blog/pages/88c215b7/index.html">
<meta property="og:site_name" content="Dunwu Blog">
<meta property="og:description" content="如何优雅的玩转 GitGit 简介Git 是什么Git 是一个开源的分布式版本控制系统。 Git 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方式。 从概念上来说，其它大部分系统以文件变更列表的方式存储信息，而 Git 是把数据看作是对小型文件系统的一系列快照。 什么是版本控制版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://git-scm.com/figures/18333fig0102-tn.png">
<meta property="og:image" content="https://git-scm.com/figures/18333fig0103-tn.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419093855.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/cs/web/git/git-theory.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419110634.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419113532.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419114042.png">
<meta property="og:image" content="https://nvie.com/img/hotfix-branches@2x.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420194518.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420152215.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420151352.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419145223.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419145327.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420114644.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420141838.png">
<meta property="article:published_time" content="2019-03-08T16:25:13.000Z">
<meta property="article:modified_time" content="2025-09-13T09:56:53.728Z">
<meta property="article:author" content="钝悟 ◾ Dunwu">
<meta property="article:tag" content="DevOps">
<meta property="article:tag" content="Git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://git-scm.com/figures/18333fig0102-tn.png">


<link rel="canonical" href="https://dunwu.github.io/blog/pages/88c215b7/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://dunwu.github.io/blog/pages/88c215b7/","path":"/pages/88c215b7/","title":"如何优雅的玩转 Git"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>如何优雅的玩转 Git | Dunwu Blog</title>
  








  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/blog/js/utils.js" defer></script><script src="/blog/js/motion.js" defer></script><script src="/blog/js/sidebar.js" defer></script><script src="/blog/js/next-boot.js" defer></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.5.0/dist/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/blog/js/third-party/search/local-search.js" defer></script>





  <script src="/blog/js/third-party/pace.js" defer></script>


  





  <noscript>
    <link rel="stylesheet" href="/blog/css/noscript.css">
  </noscript>
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Dunwu Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">大道至简，知易行难</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">428</span></a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">124</span></a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">508</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%8E%A9%E8%BD%AC-Git"><span class="nav-number">1.</span> <span class="nav-text">如何优雅的玩转 Git</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-%E7%AE%80%E4%BB%8B"><span class="nav-number">1.1.</span> <span class="nav-text">Git 简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">1.1.1.</span> <span class="nav-text">Git 是什么</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6"><span class="nav-number">1.1.2.</span> <span class="nav-text">什么是版本控制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9B%86%E4%B8%AD%E5%8C%96%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">集中化的版本控制系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">分布式版本控制系统</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8-Git"><span class="nav-number">1.1.3.</span> <span class="nav-text">为什么使用 Git</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="nav-number">1.1.4.</span> <span class="nav-text">Git 的工作原理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E5%BA%93"><span class="nav-number">1.1.4.1.</span> <span class="nav-text">版本库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%93%88%E5%B8%8C%E5%80%BC"><span class="nav-number">1.1.4.2.</span> <span class="nav-text">哈希值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%8A%B6%E6%80%81"><span class="nav-number">1.1.4.3.</span> <span class="nav-text">文件状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%9F%9F"><span class="nav-number">1.1.4.4.</span> <span class="nav-text">工作区域</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86"><span class="nav-number">1.2.</span> <span class="nav-text">分支管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Flow"><span class="nav-number">1.2.1.</span> <span class="nav-text">Git Flow</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-%E4%B8%BB%E5%B9%B2%E5%88%86%E6%94%AF"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">2.1. 主干分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-feature-%E5%88%86%E6%94%AF"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">2.2. feature 分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-release-%E5%88%86%E6%94%AF"><span class="nav-number">1.2.1.3.</span> <span class="nav-text">2.3. release 分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-hotfix-%E5%88%86%E6%94%AF"><span class="nav-number">1.2.1.4.</span> <span class="nav-text">2.4. hotfix 分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-%E5%A6%82%E4%BD%95%E5%BA%94%E7%94%A8-Git-Flow"><span class="nav-number">1.2.1.5.</span> <span class="nav-text">2.5. 如何应用 Git Flow</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Github-Flow"><span class="nav-number">1.2.2.</span> <span class="nav-text">Github Flow</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Commit-%E8%A7%84%E8%8C%83"><span class="nav-number">1.3.</span> <span class="nav-text">Git Commit 规范</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Commit-message-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">1.3.1.</span> <span class="nav-text">Commit message 的作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Commit-message-%E7%9A%84%E8%A7%84%E8%8C%83"><span class="nav-number">1.3.2.</span> <span class="nav-text">Commit message 的规范</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Commit-Template"><span class="nav-number">1.3.3.</span> <span class="nav-text">Git Commit Template</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E6%88%90-Change-log"><span class="nav-number">1.3.4.</span> <span class="nav-text">生成 Change log</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7"><span class="nav-number">1.4.</span> <span class="nav-text">Git 奇技淫巧</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E6%88%90-SSH-%E5%85%AC%E9%92%A5"><span class="nav-number">1.4.1.</span> <span class="nav-text">生成 SSH 公钥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-gitignore-%E5%BF%BD%E7%95%A5%E4%B8%8D%E5%BF%85%E6%8F%90%E4%BA%A4%E5%86%85%E5%AE%B9"><span class="nav-number">1.4.2.</span> <span class="nav-text">使用 .gitignore 忽略不必提交内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-gitattributes-%E8%A7%A3%E5%86%B3-LF-%E5%92%8C-CRLF-%E9%97%AE%E9%A2%98"><span class="nav-number">1.4.3.</span> <span class="nav-text">使用 .gitattributes 解决 LF 和 CRLF 问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E6%97%B6%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%E5%88%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-number">1.4.4.</span> <span class="nav-text">同时提交代码到不同的远程仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Github-Issue-%E5%92%8C-Gitlab-Issue"><span class="nav-number">1.4.5.</span> <span class="nav-text">Github Issue 和 Gitlab Issue</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Github-Issue-%E6%A8%A1%E6%9D%BF"><span class="nav-number">1.4.5.1.</span> <span class="nav-text">Github Issue 模板</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Gitlab-Issue-%E6%A8%A1%E6%9D%BF"><span class="nav-number">1.4.5.2.</span> <span class="nav-text">Gitlab Issue 模板</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Hook"><span class="nav-number">1.4.6.</span> <span class="nav-text">Git Hook</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Javascript-%E5%BA%94%E7%94%A8-Git-Hook"><span class="nav-number">1.4.6.1.</span> <span class="nav-text">Javascript 应用 Git Hook</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">1.5.</span> <span class="nav-text">参考资料</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="钝悟 ◾ Dunwu"
      src="/blog/uploads/avatar.gif">
  <p class="site-author-name" itemprop="name">钝悟 ◾ Dunwu</p>
  <div class="site-description" itemprop="description">钝悟的个人博客</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/blog/archives/">
          <span class="site-state-item-count">508</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/blog/categories/">
        <span class="site-state-item-count">124</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/blog/tags/">
        <span class="site-state-item-count">428</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/dunwu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;dunwu" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:forbreak@163.com" title="E-Mail → mailto:forbreak@163.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/pages/88c215b7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="钝悟 ◾ Dunwu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunwu Blog">
      <meta itemprop="description" content="钝悟的个人博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="如何优雅的玩转 Git | Dunwu Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          如何优雅的玩转 Git<a href="https://github.com/dunwu/blog/blob/master/source/_posts/04.DevOps/99.%E5%B7%A5%E5%85%B7/01.Git/01.%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E7%8E%A9%E8%BD%ACGit.md" class="post-edit-link" title="编辑" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a>
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-03-09 00:25:13" itemprop="dateCreated datePublished" datetime="2019-03-09T00:25:13+08:00">2019-03-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-09-13 17:56:53" itemprop="dateModified" datetime="2025-09-13T17:56:53+08:00">2025-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/DevOps/" itemprop="url" rel="index"><span itemprop="name">DevOps</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/DevOps/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/DevOps/%E5%B7%A5%E5%85%B7/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>12k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>11 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="如何优雅的玩转-Git"><a href="#如何优雅的玩转-Git" class="headerlink" title="如何优雅的玩转 Git"></a>如何优雅的玩转 Git</h1><h2 id="Git-简介"><a href="#Git-简介" class="headerlink" title="Git 简介"></a>Git 简介</h2><h3 id="Git-是什么"><a href="#Git-是什么" class="headerlink" title="Git 是什么"></a>Git 是什么</h3><p>Git 是一个开源的分布式版本控制系统。</p>
<p>Git 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方式。 从概念上来说，其它大部分系统以文件变更列表的方式存储信息，而 Git 是把数据看作是对小型文件系统的一系列快照。</p>
<h3 id="什么是版本控制"><a href="#什么是版本控制" class="headerlink" title="什么是版本控制"></a>什么是版本控制</h3><p>版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。</p>
<h4 id="集中化的版本控制系统"><a href="#集中化的版本控制系统" class="headerlink" title="集中化的版本控制系统"></a>集中化的版本控制系统</h4><p>介绍分布式版本控制系统前，有必要先了解一下传统的集中式版本控制系统。</p>
<p><strong>集中化的版本控制系统</strong>，诸如 CVS，Subversion 等，都有一个单一的集中管理的服务器，保存所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或者提交更新。</p>
<p>这么做最显而易见的缺点是中央服务器的单点故障。如果宕机一小时，那么在这一小时内，谁都无法提交更新，也就无法协同工作。要是中央服务器的磁盘发生故障，碰巧没做备份，或者备份不够及时，就会有丢失数据的风险。最坏的情况是彻底丢失整个项目的所有历史更改记录。</p>
<p><img src="https://git-scm.com/figures/18333fig0102-tn.png" alt="img"></p>
<h4 id="分布式版本控制系统"><a href="#分布式版本控制系统" class="headerlink" title="分布式版本控制系统"></a>分布式版本控制系统</h4><p><strong>分布式版本控制系统</strong>的客户端并不只提取最新版本的文件快照，而是把代码仓库完整地镜像下来。这么一来，任何一处协同工作用的服务器发生故障，事后都可以用任何一个镜像出来的本地仓库恢复。因为每一次的提取操作，实际上都是一次对代码仓库的完整备份。</p>
<p><img src="https://git-scm.com/figures/18333fig0103-tn.png" alt="img"></p>
<h3 id="为什么使用-Git"><a href="#为什么使用-Git" class="headerlink" title="为什么使用 Git"></a>为什么使用 Git</h3><p>Git 是分布式的。这是 Git 和其它非分布式的版本控制系统（例如 svn，cvs 等），最核心的区别。分布式带来以下好处：</p>
<ul>
<li><strong>工作时不需要联网</strong> - 首先，分布式版本控制系统根本没有“中央服务器”，每个人的电脑上都是一个完整的版本库，这样，你工作的时候，就不需要联网了，因为版本库就在你自己的电脑上。既然每个人电脑上都有一个完整的版本库，那多个人如何协作呢？比方说你在自己电脑上改了文件 A，你的同事也在他的电脑上改了文件 A，这时，你们俩之间只需把各自的修改推送给对方，就可以互相看到对方的修改了。</li>
<li><strong>更加安全</strong><ul>
<li>集中式版本控制系统，一旦中央服务器出了问题，所有人都无法工作。</li>
<li>分布式版本控制系统，每个人电脑中都有完整的版本库，所以某人的机器挂了，并不影响其它人。</li>
</ul>
</li>
</ul>
<h3 id="Git-的工作原理"><a href="#Git-的工作原理" class="headerlink" title="Git 的工作原理"></a>Git 的工作原理</h3><p>个人认为，对于 Git 这个版本工具，再不了解原理的情况下，直接去学习命令行，可能会一头雾水。所以，本文特意将原理放在命令使用章节之前讲解。</p>
<h4 id="版本库"><a href="#版本库" class="headerlink" title="版本库"></a>版本库</h4><p>当你一个项目到本地或创建一个 git 项目，项目目录下会有一个隐藏的 <code>.git</code> 子目录。这个目录是 git 用来跟踪管理版本库的，如果不熟悉其工作机制，千万不要手动修改。</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419093855.png" alt="img"></p>
<ul>
<li><code>hooks</code> 目录：包含客户端或服务端的钩子脚本（hook scripts）</li>
<li><code>info</code> 目录：包含一个全局性排除（global exclude）文件， 用以放置那些不希望被记录在 <code>.gitignore</code> 文件中的忽略模式（ignored patterns）。</li>
<li><code>objects</code> 目录：存储所有数据内容。</li>
<li><code>refs</code> 目录：存储指向数据（分支、远程仓库和标签等）的提交对象的指针</li>
<li><code>HEAD</code> 文件：指向目前被检出的分支。</li>
<li><code>index</code> 文件保存暂存区信息。</li>
<li><code>config</code> 文件：包含项目特有的配置选项。</li>
<li><code>description</code> 文件：<code>description</code> 文件仅供 GitWeb 程序使用，我们无需关心。</li>
</ul>
<h4 id="哈希值"><a href="#哈希值" class="headerlink" title="哈希值"></a>哈希值</h4><p>Git 中所有数据在存储前都计算校验和，然后以校验和来引用。 这意味着不可能在 Git 不知情时更改任何文件内容或目录内容。 这个功能构筑在 Git 底层，是 Git 的关键组件。 若你在传送过程中丢失信息或损坏文件，Git 就能发现。</p>
<p>Git 计算校验和的使用 SHA-1 哈希算法。 这是一个由 40 个十六进制字符（0-9 和 a-f）组成字符串，基于 Git 中文件的内容或目录结构计算出来。 SHA-1 哈希值看起来是这样：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24b9da6552252987aa493b52f8696cd6d3b00373</span><br></pre></td></tr></table></figure>

<p>Git 中使用这种哈希值的情况很多，你将经常看到这种哈希值。 实际上，Git 数据库中保存的信息都是以文件内容的哈希值来索引，而不是文件名。</p>
<h4 id="文件状态"><a href="#文件状态" class="headerlink" title="文件状态"></a>文件状态</h4><p>在 GIt 中，你的文件可能会处于三种状态之一：</p>
<ul>
<li><strong>已修改（modified）</strong> - 已修改表示修改了文件，但还没保存到数据库中。</li>
<li><strong>已暂存（staged）</strong> - 已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。</li>
<li><strong>已提交（committed）</strong> - 已提交表示数据已经安全的保存在本地数据库中。</li>
</ul>
<h4 id="工作区域"><a href="#工作区域" class="headerlink" title="工作区域"></a>工作区域</h4><p>与文件状态对应的，不同状态的文件在 Git 中处于不同的工作区域。</p>
<ul>
<li><strong>工作区（working）</strong> - 当你 <code>git clone</code> 一个项目到本地，相当于在本地克隆了项目的一个副本。工作区是对项目的某个版本独立提取出来的内容。 这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘上供你使用或修改。</li>
<li><strong>暂存区（staging）</strong> - 暂存区是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中。 有时候也被称作&#96;‘索引’’，不过一般说法还是叫暂存区。</li>
<li><strong>本地仓库（local）</strong> - 提交更新，找到暂存区域的文件，将快照永久性存储到 Git 本地仓库。</li>
<li><strong>远程仓库（remote）</strong> - 以上几个工作区都是在本地。为了让别人可以看到你的修改，你需要将你的更新推送到远程仓库。同理，如果你想同步别人的修改，你需要从远程仓库拉取更新。</li>
</ul>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/web/git/git-theory.png" alt="img"></p>
<h2 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h2><h3 id="Git-Flow"><a href="#Git-Flow" class="headerlink" title="Git Flow"></a>Git Flow</h3><p>Git Flow 应该是目前流传最广的 Git 分支管理策略。Git Flow 围绕的核心点是版本发布（release），它适用于迭代版本较长的项目。</p>
<blockquote>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419110634.png" alt="img"></p>
</blockquote>
<blockquote>
<p>详细内容，可以参考这篇文章：<a target="_blank" rel="noopener" href="http://www.cnblogs.com/cnblogsfans/p/5075073.html">Git 在团队中的最佳实践–如何正确使用 Git Flow</a></p>
</blockquote>
<p>Git Flow 常用分支：</p>
<ul>
<li><strong><code>master</code></strong> - 主线分支</li>
<li><strong><code>develop</code></strong> - 开发分支</li>
<li><strong><code>feature</code></strong> - 特性分支</li>
<li><strong><code>release</code></strong> - 发布分支</li>
<li><strong><code>hotfix</code></strong> - 问题修复分支</li>
</ul>
<p>Git Flow 工作流程</p>
<h4 id="2-1-主干分支"><a href="#2-1-主干分支" class="headerlink" title="2.1. 主干分支"></a>2.1. 主干分支</h4><p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419113532.png" alt="img"></p>
<p>主干分支有两个，它们是伴随着项目生命周期长期存在的分支。</p>
<ul>
<li><code>master</code> - 这个分支对应发布到生产环境的代码。这个分支<strong>只允许从其他分支合入代码</strong>，不能在这个分支直接修改。所有在 master 分支上的 Commit 都应该打 Tag。</li>
<li><code>develop</code> - 这个分支包含所有要发布到下一个 release 的代码，这个分支<strong>主要是从其他分支合入代码</strong>，比如 feature 分支。</li>
</ul>
<h4 id="2-2-feature-分支"><a href="#2-2-feature-分支" class="headerlink" title="2.2. feature 分支"></a>2.2. <code>feature</code> 分支</h4><p>这个分支主要是用来开发一个新的功能，一旦开发完成，我们合并回 develop 分支进入下一个 release。feature 分支开发结束后，必须合并回 develop 分支, 合并完分支后一般会删点这个 feature 分支，但是我们也可以保留。</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419114042.png" alt="img"></p>
<h4 id="2-3-release-分支"><a href="#2-3-release-分支" class="headerlink" title="2.3. release 分支"></a>2.3. <strong><code>release</code> 分支</strong></h4><p>release 分支基于 develop 分支创建，创建后，我们可以在这个 release 分支上进行测试，修复 Bug 等工作。同时，其它开发人员可以基于它开发新的 feature (记住：一旦创建了 release 分支之后不要从 develop 分支上合并新的改动到 release 分支)。</p>
<p>发布 release 分支时，合并 release 到 master 和 develop， 同时在 master 分支上打个 Tag 记住 release 版本号，然后可以删除 release 分支了。</p>
<h4 id="2-4-hotfix-分支"><a href="#2-4-hotfix-分支" class="headerlink" title="2.4. hotfix 分支"></a>2.4. <code>hotfix</code> 分支</h4><p>当出现线上 bug 时，也意味着 master 存在 Bug。这时，我们需要基于 master 创建一个 hotfix 分支，在此分支上完成 bug 修复。修复后，我们应该将此分支合并回 master 和 develop 分支，同时在 master 上打一个 tag。所以，hotfix 的改动会进入下一个 release。</p>
<p><img src="https://nvie.com/img/hotfix-branches@2x.png" alt="img"></p>
<h4 id="2-5-如何应用-Git-Flow"><a href="#2-5-如何应用-Git-Flow" class="headerlink" title="2.5. 如何应用 Git Flow"></a>2.5. 如何应用 Git Flow</h4><p>在实际开发中，如何具体落地 Git Flow 流程呢？</p>
<p>git 提供了 <code>git flow</code> 命令来手动管理，但是比较麻烦，所以还是建议使用 Git Flow 的 GUI 工具。比如：<a target="_blank" rel="noopener" href="https://www.sourcetreeapp.com/">SourceTree</a>、<a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=vs-publisher-57624.GitFlowforVisualStudio">VScode 的 GitFlow 插件</a>、Intellij 的 GitFlow 插件等。</p>
<blockquote>
<p>想了解更详细的 Git Flow 介绍，可以参考：</p>
<p><a target="_blank" rel="noopener" href="http://nvie.com/posts/a-successful-git-branching-model/">A Successful Git Branching Model</a></p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/cnblogsfans/p/5075073.html">Git 在团队中的最佳实践–如何正确使用 Git Flow</a></p>
</blockquote>
<h3 id="Github-Flow"><a href="#Github-Flow" class="headerlink" title="Github Flow"></a>Github Flow</h3><p>对于简单且迭代频繁的项目来说，Git Flow 可能有些太复杂了。这时，可以考虑 Github Flow。</p>
<p>在 Github Flow 策略中，所有分支都是基于 master 创建。在 Feature 或 Bugfix 分支中完成工作后，将其合入 master，然后继续迭代。</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420194518.png" alt="img"></p>
<blockquote>
<p>想了解更详细的 Github Flow 介绍，可以参考：<a target="_blank" rel="noopener" href="http://scottchacon.com/2011/08/31/github-flow.html">GitHub Flow</a></p>
</blockquote>
<h2 id="Git-Commit-规范"><a href="#Git-Commit-规范" class="headerlink" title="Git Commit 规范"></a>Git Commit 规范</h2><p>Git 每次提交代码，都要写 Commit message（提交说明），否则就不允许提交。</p>
<p>好的 Commit message 可以让人一眼就明白提交者修改了什么内容，有什么影响；而不好的 Commit message 写了和没写一样，甚至还可能误导别人。</p>
<p>先来看下图中不好的 Commit message 范例，从提交信息完全看不出来修改了什么。</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420152215.png" alt="img"></p>
<p>再来一张较好的 Commit message 范例，每次提交的是什么内容，做了什么一目了然。</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420151352.png" alt="img"></p>
<h3 id="Commit-message-的作用"><a href="#Commit-message-的作用" class="headerlink" title="Commit message 的作用"></a>Commit message 的作用</h3><p>从前面，我们不难看出，完善的 Commit message 非常有利于项目维护。即时是个人维护的项目，时间久了，可能也会忘记当初自己改了什么。</p>
<p>Commit message 的作用还不仅仅是理解历史信息，它的主要作用如下：</p>
<p>（1）提供易于理解的历史信息，方便检索</p>
<p>（2）可以过滤某些 commit（比如文档改动），便于快速查找信息。</p>
<p>（3）可以直接从 commit 生成 Change log。</p>
<h3 id="Commit-message-的规范"><a href="#Commit-message-的规范" class="headerlink" title="Commit message 的规范"></a>Commit message 的规范</h3><p>开源社区有很多 Commit message 的规范，个人推荐使用 <a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0">Angular Git Commit 规范</a>，这是目前使用最广的写法，比较合理和系统化，并且有配套的工具。</p>
<p>它主要有以下组成部分：</p>
<ul>
<li>标题行：必填, 描述主要修改类型和内容</li>
<li>主题内容：描述为什么修改, 做了什么样的修改, 以及开发的思路等等</li>
<li>页脚注释：放 Breaking Changes 或 Closed Issues</li>
</ul>
<p>常用的修改项</p>
<ul>
<li><code>type</code>：commit 的类型</li>
<li><code>feat</code>：新特性</li>
<li><code>fix</code>：修改问题</li>
<li><code>refactor</code>：代码重构</li>
<li><code>docs</code>：文档修改</li>
<li><code>style</code>：代码格式修改, 注意不是 css 修改</li>
<li><code>test</code>：测试用例修改</li>
<li><code>chore</code>：其他修改, 比如构建流程, 依赖管理.</li>
<li><code>scope</code>：commit 影响的范围, 比如：route, component, utils, build…</li>
<li><code>subject</code>：commit 的概述</li>
<li><code>body</code>：commit 具体修改内容, 可以分为多行</li>
<li><code>footer</code>：一些备注, 通常是 BREAKING CHANGE 或修复的 bug 的链接</li>
</ul>
<h3 id="Git-Commit-Template"><a href="#Git-Commit-Template" class="headerlink" title="Git Commit Template"></a>Git Commit Template</h3><p>Intellij 中有集成 <a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0">Angular Git Commit 规范</a> 的插件，可以帮助我们快速创建符合 <a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0">Angular Git Commit 规范</a> 的 Git Commit Message。</p>
<p>其使用步骤如下：</p>
<p>第一步，安装插件</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419145223.png" alt="img"></p>
<p>第二步，提交代码时，按照模板填写 commit message</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419145327.png" alt="img"></p>
<h3 id="生成-Change-log"><a href="#生成-Change-log" class="headerlink" title="生成 Change log"></a>生成 Change log</h3><p>如果你的所有 Commit 都符合 <a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0">Angular Git Commit 规范</a>，那么发布新版本时，就可以用脚本自动生成 Change log。</p>
<p>生成的文档包括以下三个部分。</p>
<ul>
<li>New features</li>
<li>Bug fixes</li>
<li>Breaking changes.</li>
</ul>
<p>每个部分都会罗列相关的 commit ，并且有指向这些 commit 的链接。当然，生成的文档允许手动修改，所以发布前，你还可以添加其他内容。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ajoslin/conventional-changelog">conventional-changelog</a> 就是生成 Change log 的工具，运行下面的命令即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g conventional-changelog</span><br><span class="line">$ <span class="built_in">cd</span> my-project</span><br><span class="line">$ conventional-changelog -p angular -i CHANGELOG.md -w</span><br></pre></td></tr></table></figure>

<p>上面命令不会覆盖以前的 Change log，只会在<code>CHANGELOG.md</code>的头部加上自从上次发布以来的变动。</p>
<p>如果你想生成所有发布的 Change log，要改为运行下面的命令。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conventional-changelog -p angular -i CHANGELOG.md -w -r 0</span><br></pre></td></tr></table></figure>

<p>为了方便使用，可以将其写入<code>package.json</code>的<code>scripts</code>字段。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;changelog&quot;</span>: <span class="string">&quot;conventional-changelog -p angular -i CHANGELOG.md -w -r 0&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以后，直接运行下面的命令即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run changelog</span><br></pre></td></tr></table></figure>

<h2 id="Git-奇技淫巧"><a href="#Git-奇技淫巧" class="headerlink" title="Git 奇技淫巧"></a>Git 奇技淫巧</h2><h3 id="生成-SSH-公钥"><a href="#生成-SSH-公钥" class="headerlink" title="生成 SSH 公钥"></a>生成 SSH 公钥</h3><p>许多 Git 服务器都使用 SSH 公钥进行认证。 为了向 Git 服务器提供 SSH 公钥，如果某系统用户尚未拥有密钥，必须事先为其生成一份。 这个过程在所有操作系统上都是相似的。 首先，你需要确认自己是否已经拥有密钥。 默认情况下，用户的 SSH 密钥存储在其 <code>~/.ssh</code> 目录下。 进入该目录并列出其中内容，你便可以快速确认自己是否已拥有密钥：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> ~/.ssh</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span></span></span><br><span class="line">authorized_keys2  id_dsa       known_hosts</span><br><span class="line">config            id_dsa.pub</span><br></pre></td></tr></table></figure>

<p>我们需要寻找一对以 <code>id_dsa</code> 或 <code>id_rsa</code> 命名的文件，其中一个带有 <code>.pub</code> 扩展名。 <code>.pub</code> 文件是你的公钥，另一个则是私钥。 如果找不到这样的文件（或者根本没有 <code>.ssh</code> 目录），你可以通过运行 <code>ssh-keygen</code> 程序来创建它们。在 Linux&#x2F;Mac 系统中，<code>ssh-keygen</code> 随 SSH 软件包提供；在 Windows 上，该程序包含于 MSysGit 软件包中。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh-keygen</span></span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/home/schacon/.ssh/id_rsa):</span><br><span class="line">Created directory &#x27;/home/schacon/.ssh&#x27;.</span><br><span class="line">Enter passphrase (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved in /home/schacon/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved in /home/schacon/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">d0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local</span><br></pre></td></tr></table></figure>

<p>首先 <code>ssh-keygen</code> 会确认密钥的存储位置（默认是 <code>.ssh/id_rsa</code>），然后它会要求你输入两次密钥口令。如果你不想在使用密钥时输入口令，将其留空即可。</p>
<p>现在，进行了上述操作的用户需要将各自的公钥发送给任意一个 Git 服务器管理员（假设服务器正在使用基于公钥的 SSH 验证设置）。 他们所要做的就是复制各自的 <code>.pub</code> 文件内容，并将其通过邮件发送。 公钥看起来是这样的：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> ~/.ssh/id_rsa.pub</span></span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU</span><br><span class="line">GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3</span><br><span class="line">Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA</span><br><span class="line">t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En</span><br><span class="line">mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx</span><br><span class="line">NrRFi9wrf+M7Q== schacon@mylaptop.local</span><br></pre></td></tr></table></figure>

<p>在你的 Github 账户中，依次点击 <strong>Settings</strong> &gt; <strong>SSH and GPG keys</strong> &gt; <strong>New SSH key</strong></p>
<p>然后，将上面生成的公钥内容粘贴到 <code>Key</code> 编辑框并保存。至此大功告成。</p>
<p>后面，你在克隆你的 Github 项目时使用 SSH 方式即可。</p>
<p>如果觉得我的讲解还不够细致，可以参考：<a target="_blank" rel="noopener" href="https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/">adding-a-new-ssh-key-to-your-github-account</a></p>
<h3 id="使用-gitignore-忽略不必提交内容"><a href="#使用-gitignore-忽略不必提交内容" class="headerlink" title="使用 .gitignore 忽略不必提交内容"></a>使用 .gitignore 忽略不必提交内容</h3><p><code>.gitignore</code> 文件可能从字面含义也不难猜出：这个文件里配置的文件或目录，会自动被 git 所忽略，不纳入版本控制。</p>
<p>在日常开发中，我们的项目经常会产生一些临时文件，如编译 Java 产生的 <code>*.class</code> 文件，又或是 IDE 自动生成的隐藏目录（Intellij 的 <code>.idea</code> 目录、Eclipse 的 <code>.settings</code> 目录等）等等。这些文件或目录实在没必要纳入版本管理。在这种场景下，你就需要用到 <code>.gitignore</code> 配置来过滤这些文件或目录。</p>
<p><code>.gitignore</code> 配置的规则很简单，也没什么可说的，看几个例子，自然就明白了。</p>
<p>【示例】一份 Java 的 .gitignore</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Compiled class file</span></span><br><span class="line">*<span class="string">.class</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Log file</span></span><br><span class="line">*<span class="string">.log</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># BlueJ files</span></span><br><span class="line">*<span class="string">.ctxt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Mobile Tools for Java (J2ME)</span></span><br><span class="line"><span class="string">.mtj.tmp/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Package Files #</span></span><br><span class="line">*<span class="string">.jar</span></span><br><span class="line">*<span class="string">.war</span></span><br><span class="line">*<span class="string">.nar</span></span><br><span class="line">*<span class="string">.ear</span></span><br><span class="line">*<span class="string">.zip</span></span><br><span class="line">*<span class="string">.tar.gz</span></span><br><span class="line">*<span class="string">.rar</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml</span></span><br><span class="line">hs_err_pid*</span><br></pre></td></tr></table></figure>

<blockquote>
<p>【推荐】这里推荐一个 Github 的开源项目：<a target="_blank" rel="noopener" href="https://github.com/github/gitignore">gitignore</a>，在这里，你可以找到很多常用的 .gitignore 模板，如：Java、Nodejs、C++ 的 <code>.gitignore</code> 模板等等。</p>
</blockquote>
<h3 id="使用-gitattributes-解决-LF-和-CRLF-问题"><a href="#使用-gitattributes-解决-LF-和-CRLF-问题" class="headerlink" title="使用 .gitattributes 解决 LF 和 CRLF 问题"></a>使用 .gitattributes 解决 LF 和 CRLF 问题</h3><p>你有没有在和多人协同开发时遇到过以下烦恼？</p>
<p>开发者们分别使用不同的操作系统进行开发，有的人用 Windows，有的人用 Linux&#x2F;MacOS。众所周知，不同操作系统默认的文件结尾行是不同的：在 Windows 上默认的是回车换行（Carriage Return Line Feed, CRLF），然而，在 Linux&#x2F;MacOS 上则是换行（Line Feed, LF）。这就可能导致这种情况：明明文件内容一模一样，但是版本比对时仍然存在版本差异。</p>
<p>那么如何解决这个问题呢？Git 提供了 <code>.gitattributes</code> 配置文件，它允许使用者指定由 git 使用的文件和路径的属性。</p>
<p>在 Git 库中，一个普通文本文件的行尾默认是 <code>LF</code>。对于工作目录，除了 <code>text</code> 属性之外，还可以设置 <code>eol</code> 属性或 <code>core.eol</code> 配置变量。</p>
<p><code>.gitattributes</code> 文件中，可以用 text 属性指定某类文件或目录下的文件，控制它的行结束标准化。当一个文本文件被标准化时，它的行尾将在存储库中转换为 <code>LF</code>。要控制工作目录中使用的行结束风格，请使用单个文件的<code>eol</code>属性和所有文本文件的 <code>core.eol</code> 配置变量。</p>
<p>【示例】一份 .gitattributes 示例</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">* text=auto eol=lf</span><br><span class="line"></span><br><span class="line">*<span class="string">.txt</span> text</span><br><span class="line">*<span class="string">.java</span> text</span><br><span class="line">*<span class="string">.scala</span> text</span><br><span class="line">*<span class="string">.groovy</span> text</span><br><span class="line">*<span class="string">.gradle</span> text</span><br><span class="line">*<span class="string">.properties</span> text</span><br><span class="line"></span><br><span class="line"><span class="comment"># unix style</span></span><br><span class="line">*<span class="string">.sh</span> text eol=lf</span><br><span class="line"></span><br><span class="line"><span class="comment"># win style</span></span><br><span class="line">*<span class="string">.bat</span> text eol=crlf</span><br><span class="line"></span><br><span class="line"><span class="comment"># binary</span></span><br><span class="line">*<span class="string">.jar</span> binary</span><br><span class="line">*<span class="string">.war</span> binary</span><br><span class="line">*<span class="string">.zip</span> binary</span><br><span class="line">*<span class="string">.tar</span> binary</span><br><span class="line">*<span class="string">.tar.gz</span> binary</span><br><span class="line">*<span class="string">.gz</span> binary</span><br><span class="line">*<span class="string">.apk</span> binary</span><br><span class="line">*<span class="string">.bin</span> binary</span><br><span class="line">*<span class="string">.exe</span> binary</span><br></pre></td></tr></table></figure>

<blockquote>
<p>【推荐】这里推荐一个 Github 的开源项目：<a target="_blank" rel="noopener" href="https://github.com/alexkaratarakis/gitattributes">gitignore</a>，在这里，你可以找到很多常用的 .gitignore 模板，如：Java、Nodejs、C++ 的 <code>.gitignore</code> 模板等等。</p>
</blockquote>
<h3 id="同时提交代码到不同的远程仓库"><a href="#同时提交代码到不同的远程仓库" class="headerlink" title="同时提交代码到不同的远程仓库"></a>同时提交代码到不同的远程仓库</h3><p>如果，你在不同的 Git 远程仓库中维护同一个项目，你可能会有这样的需求：能不能一次提交，同时 push 到多个远程仓库中呢？</p>
<p>这个可以有，解决方案如下：</p>
<p>比如，我有一个 blog 项目，同时维护在 Github 和 Gitee 上。</p>
<p>（1）首先，在 Github 和 Gitee 上配置本地的 ssh 公钥（如果是 Gitlab，也同样如此），这样中央仓库就能识别本地。</p>
<p>生成 SSH 公钥的方法，请参考上文的 “生成 SSH 公钥” 章节。</p>
<p>（2）进入 git 项目的隐藏目录 <code>.git</code>，打开 config 文件，参考下面配置进行编辑：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[core]</span></span><br><span class="line">	<span class="attr">repositoryformatversion</span> = <span class="number">0</span></span><br><span class="line">	<span class="attr">filemode</span> = <span class="literal">false</span></span><br><span class="line">	<span class="attr">bare</span> = <span class="literal">false</span></span><br><span class="line">	<span class="attr">logallrefupdates</span> = <span class="literal">true</span></span><br><span class="line">	<span class="attr">symlinks</span> = <span class="literal">false</span></span><br><span class="line">	<span class="attr">ignorecase</span> = <span class="literal">true</span></span><br><span class="line"><span class="section">[remote &quot;origin&quot;]</span></span><br><span class="line">	<span class="attr">url</span> = git@github.com:dunwu/blog.git</span><br><span class="line">	<span class="attr">url</span> = git@gitee.com:turnon/blog.git</span><br><span class="line">	<span class="attr">fetch</span> = +refs/heads/*:refs/remotes/origin/*</span><br><span class="line"><span class="section">[branch &quot;master&quot;]</span></span><br><span class="line">	<span class="attr">remote</span> = origin</span><br><span class="line">	<span class="attr">merge</span> = refs/heads/master</span><br><span class="line"><span class="section">[user]</span></span><br><span class="line">	<span class="attr">name</span> = dunwu</span><br><span class="line">	<span class="attr">email</span> = forbreak@<span class="number">163</span>.com</span><br></pre></td></tr></table></figure>

<p>重点在于 <code>remote &quot;origin&quot;</code>，同时配置了两个 url。配置后，一旦触发 push 远程仓库的动作，就会同时推送提交记录到配置的远程仓库。</p>
<h3 id="Github-Issue-和-Gitlab-Issue"><a href="#Github-Issue-和-Gitlab-Issue" class="headerlink" title="Github Issue 和 Gitlab Issue"></a>Github Issue 和 Gitlab Issue</h3><p>开发软件，Bug 再所难免，出现问题不可怕，可怕的是放任不管；所以，优秀的软件项目，都应该管理好问题追踪。软件的使用者，在使用中，可能会遇到形形色色的问题，难以解决，需要向维护者寻求帮助。</p>
<p>问题追踪如此重要，所以各种代码托管平台都会提供 Issue 维护机制，如 Github Issue 和 Gitlab Issue。</p>
<p>如果一个项目的开源社区很活跃，在没有任何约束的前提下，提问肯定是五花八门的，让维护者难以招架。</p>
<p>其实，提问也是一门艺术，如果提问者的问题长篇大幅，言不达意，让别人难以理解，就很难得到有效帮助。关于如何高效的提问，推荐参考 <a target="_blank" rel="noopener" href="https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way">提问的智慧</a> 这篇文章，作者整理的非常好。</p>
<p>作为开发者，你不能期望所有提问者都是训练有素的提问者。所以，使用规范化的 Issue 模板来引导提问者提问，可以大大减轻开发者的负担。</p>
<h4 id="Github-Issue-模板"><a href="#Github-Issue-模板" class="headerlink" title="Github Issue 模板"></a>Github Issue 模板</h4><p>如何在 Github Issue 平台上创建 Issue 模板呢？方法如下：</p>
<p>（1）在仓库根目录创建新目录 <code>.github</code></p>
<p>（2）在 <code>.github</code> 目录中添加 <code>ISSUE_TEMPLATE</code> 目录，在其中添加的 md 文件都会被 Github 自动识，并将其作为 issue 的默认模板。</p>
<p>示例，下面是携程 <a target="_blank" rel="noopener" href="https://github.com/ctripcorp/apollo">apollo</a> 的一个 Issue 模板，要求提问者填充 bug 描述、复现步骤、期望、截图、日志等细节。</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420114644.png" alt="img"></p>
<blockquote>
<p>更多模板：<a target="_blank" rel="noopener" href="https://github.com/stevemao/github-issue-templates">Github issue_templates 模板</a></p>
</blockquote>
<h4 id="Gitlab-Issue-模板"><a href="#Gitlab-Issue-模板" class="headerlink" title="Gitlab Issue 模板"></a>Gitlab Issue 模板</h4><p>如何在 Gitlab Issue 平台上创建 Issue 模板呢？方法如下：</p>
<p>（1）在仓库根目录创建新目录 <code>.gitlab</code></p>
<p>（2）在 <code>.gitlab</code> 目录中添加 <code>issue_templates</code> 目录，在其中添加的 md 文件都会被 Gitlab 自动识，并将其作为 issue 的默认模板。</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420141838.png" alt="img"></p>
<blockquote>
<p>更多模板：<a target="_blank" rel="noopener" href="https://gitlab.com/gitlab-org/gitlab/-/tree/master/.gitlab/issue_templates">Gitlab 官方 issue_templates 模板</a></p>
</blockquote>
<h3 id="Git-Hook"><a href="#Git-Hook" class="headerlink" title="Git Hook"></a>Git Hook</h3><p>在执行提交代码（git commit），推送代码（git push）等行为时，我们可能希望做一些代码检查性工作，例如：代码 lint 检查、代码格式化等。当检查发现代码存在问题时，就拒绝代码提交，从而保证项目质量。</p>
<p>Git 提供了 Git Hook 机制，允许使用者在特定的重要动作发生时触发自定义脚本。有两类钩子：客户端钩子和服务器端钩子。客户端钩子由诸如提交和合并等操作所触发调用，而服务器端钩子作用于诸如接收被推送的提交这样的联网操作。钩子都被存储在 Git 项目目录下的 <code>.git/hooks</code> 子目录中。Git 在这个目录下放置了一些示例，这些示例的名字都是以 <code>.sample</code> 结尾，如果想启用它们，得先移除这个后缀。</p>
<p>常用的客户端钩子：</p>
<ul>
<li><code>pre-commit</code> 钩子：在提交信息前运行。 它用于检查即将提交的快照，例如，检查是否有所遗漏，确保测试运行，以及核查代码。 如果该钩子以非零值退出，Git 将放弃此次提交，不过你可以用 <code>git commit --no-verify</code> 来绕过这个环节。 你可以利用该钩子，来检查代码风格是否一致（运行类似 <code>lint</code> 的程序）、尾随空白字符是否存在（自带的钩子就是这么做的），或新方法的文档是否适当。</li>
<li><code>prepare-commit-msg</code> 钩子：在启动提交信息编辑器之前，默认信息被创建之后运行。 它允许你编辑提交者所看到的默认信息。 该钩子接收一些选项：存有当前提交信息的文件的路径、提交类型和修补提交的提交的 SHA-1 校验。 它对一般的提交来说并没有什么用；然而对那些会自动产生默认信息的提交，如提交信息模板、合并提交、压缩提交和修订提交等非常实用。 你可以结合提交模板来使用它，动态地插入信息。</li>
<li><code>commit-msg</code> 钩子：接收一个参数，此参数即上文提到的，存有当前提交信息的临时文件的路径。 如果该钩子脚本以非零值退出，Git 将放弃提交，因此，可以用来在提交通过前验证项目状态或提交信息。 在本章的最后一节，我们将展示如何使用该钩子来核对提交信息是否遵循指定的模板。</li>
<li><code>post-commit</code> 钩子：在整个提交过程完成后运行。它不接收任何参数，但你可以很容易地通过运行 <code>git log -1 HEAD</code> 来获得最后一次的提交信息。 该钩子一般用于通知之类的事情。</li>
<li><code>pre-push</code> 钩子：会在 <code>git push</code> 运行期间， 更新了远程引用但尚未传送对象时被调用。 它接受远程分支的名字和位置作为参数，同时从标准输入中读取一系列待更新的引用。 你可以在推送开始之前，用它验证对引用的更新操作（一个非零的退出码将终止推送过程）。</li>
</ul>
<h4 id="Javascript-应用-Git-Hook"><a href="#Javascript-应用-Git-Hook" class="headerlink" title="Javascript 应用 Git Hook"></a>Javascript 应用 Git Hook</h4><p>想在 JavaScript 应用中使用 Git Hook，推荐使用 <a target="_blank" rel="noopener" href="https://github.com/typicode/husky">husky</a> ，可以很方便的编写钩子处理命令。</p>
<p>使用方法很简单，先安装 husky</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> i -D husky</span><br></pre></td></tr></table></figure>

<p>然后，在 package.json 中添加配置：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;husky&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;hooks&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;pre-commit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lint-staged&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;lint-staged&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;src/**/*.&#123;js,vue&#125;&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;eslint --fix&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;git add&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p>以上配置的作用是，当提交代码前（ <code>pre-commit</code> ），先执行 <code>lint-staged</code>；</p>
<p><code>lint-staged</code> 中执行的动作是，对 src 目录的所有 js、vue 文件进行 eslint 检查，并尝试修复。如果修复后没有问题，就 git add 添加修改后的文件；如果修复失败，则拒绝提交代码。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><strong>官方资源</strong><ul>
<li><a target="_blank" rel="noopener" href="https://git-scm.com/">Git 官网</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/git/git">Git Github</a></li>
<li><a target="_blank" rel="noopener" href="https://guides.github.com/">Github 官方教程</a></li>
</ul>
</li>
<li><strong>模板</strong><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/github/gitignore">gitignore 模板</a> - .gitignore 文件模板</li>
<li><a target="_blank" rel="noopener" href="https://github.com/alexkaratarakis/gitattributes">gitattributes 模板</a> - .gitattributes 文件模板</li>
<li><a target="_blank" rel="noopener" href="https://github.com/tiimgreen/github-cheat-sheet">github-cheat-sheet</a> - git 命令简略图表</li>
</ul>
</li>
<li><strong>Git 教程</strong><ul>
<li><a target="_blank" rel="noopener" href="https://learngitbranching.js.org/">Learn Git branching</a> - 交互式教程</li>
<li><a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2">Git 官方推荐教程</a> - Scott Chacon 的 Git 书。<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/k88hudson/git-flight-rules">git-flight-rules</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/521xueweihan/git-tips">git-tips</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/geeeeeeeeek/git-recipes">Git 中文教程</a></li>
<li><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000">廖雪峰的 Git 教程</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/xirong/my-git">有关 git 的学习资源</a></li>
</ul>
</li>
<li><strong>文章</strong><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/k88hudson/git-flight-rules/blob/master/README_zh-CN.md">Git Cookbook</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/521xueweihan/git-tips">Git 奇技淫巧</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/aseaday/git-style-guide">Git 风格指南</a></li>
<li><a target="_blank" rel="noopener" href="http://www.cnblogs.com/cnblogsfans/p/5075073.html">Git 在团队中的最佳实践–如何正确使用 Git Flow</a></li>
<li><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html">Commit message 和 Change log 编写指南</a></li>
</ul>
</li>
<li><strong>Git 工具</strong><ul>
<li><a target="_blank" rel="noopener" href="https://git-scm.com/downloads/guis">guis</a> - Git 官网展示的客户端工具列表。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/gogits/gogs">gogs</a> - 极易搭建的自助 Git 服务。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/nvie/gitflow">gitflow</a> - 应用 <a target="_blank" rel="noopener" href="http://nvie.com/posts/a-successful-git-branching-model/">fit-flow</a> 模型的工具。</li>
<li><a target="_blank" rel="noopener" href="http://firstaidgit.io/">firstaidgit.io</a> 一个可搜索的最常被问到的 Git 的问题</li>
<li><a target="_blank" rel="noopener" href="https://github.com/unixorn/git-extra-commands">git-extra-commands</a> - 一堆有用的额外的 Git 脚本</li>
<li><a target="_blank" rel="noopener" href="https://github.com/tj/git-extras">git-extras</a> - GIT 工具集 – repo summary, repl, changelog population, author commit percentages and more</li>
<li><a target="_blank" rel="noopener" href="https://github.com/qw3rtman/git-fire">git-fire</a> - git-fire 是一个 Git 插件，用于帮助在紧急情况下添加所有当前文件, 做提交(committing), 和推(push)到一个新分支(阻止合并冲突)。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/git-tips/tips">git-tips</a> - Git 小提示</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Originate/git-town">git-town</a> - 通用，高级 Git 工作流支持！</li>
</ul>
</li>
<li><strong>GUI 客户端</strong><ul>
<li><a target="_blank" rel="noopener" href="https://www.gitkraken.com/">GitKraken</a> - 豪华的 Git 客户端 Windows, Mac &amp; Linux</li>
<li><a target="_blank" rel="noopener" href="https://git-cola.github.io/">git-cola</a> - 另外一个 Git 客户端 Windows &amp; OS X</li>
<li><a target="_blank" rel="noopener" href="https://github.com/git-up/GitUp">GitUp</a> - 一个新的 Git 客户端，在处理 Git 的复杂性上有自己的特点</li>
<li><a target="_blank" rel="noopener" href="https://rowanj.github.io/gitx/">gitx-dev</a> - 图形化的 Git 客户端 OS X</li>
<li><a target="_blank" rel="noopener" href="https://www.sourcetreeapp.com/">Source Tree</a> - 免费的图形化 Git 客户端 Windows &amp; OS X</li>
<li><a target="_blank" rel="noopener" href="http://www.git-tower.com/">Tower</a> - 图形化 Git 客户端 OS X(付费)</li>
</ul>
</li>
<li><strong>git cheat sheet</strong><ul>
<li><a target="_blank" rel="noopener" href="https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf">github-git-cheat-sheet</a></li>
</ul>
</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>钝悟 ◾ Dunwu
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://dunwu.github.io/blog/pages/88c215b7/" title="如何优雅的玩转 Git">https://dunwu.github.io/blog/pages/88c215b7/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/blog/tags/DevOps/" rel="tag"># DevOps</a>
              <a href="/blog/tags/Git/" rel="tag"># Git</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/blog/pages/88d3215a/" rel="prev" title="UML 快速入门">
                  <i class="fa fa-angle-left"></i> UML 快速入门
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/blog/pages/5f8d7c84/" rel="next" title="代码工程规范">
                  代码工程规范 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2015 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">钝悟 ◾ Dunwu</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">4.5m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">68:08</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/dunwu/blog" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: '🌓',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"dunwu","repo":"blog","client_id":"c45bc13ca1d3d3aa4836","client_secret":"1907a9f0c22087badad3938e1d7dcba9078f88ac","admin_user":"dunwu","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"zh-CN","js":{"url":"https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"e73ffcf0f2076a082d32ddc71d7390e3"}</script>
<script src="/blog/js/third-party/comments/gitalk.js" defer></script>

</body>
</html>
