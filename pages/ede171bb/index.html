<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/uploads/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/uploads/favicon.ico">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous" defer></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"dunwu.github.io","root":"/blog/","images":"/blog/images","scheme":"Pisces","darkmode":true,"version":"8.25.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"atom-one-light","dark":"atom-one-dark"},"prism":{"light":"atom-one-light","dark":"atom-one-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":true,"nav":null,"activeClass":"gitalk"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/blog/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src="/blog/js/config.js" defer></script>

    <meta name="description" content="《极客时间教程 - 玩转 Spring 全家桶》笔记第一章：初识 Spring (4 讲)01 | Spring 课程介绍02 | 一起认识 Spring 家族的主要成员Spring Framework - 用于构建企业级应用的轻量级一站式解决方案 Spring Boot - 快速构建基于 Spring 的应用程序 Spring Cloud - 简化分布式系统的开发 03 | 跟着 Spring">
<meta property="og:type" content="article">
<meta property="og:title" content="《极客时间教程 - 玩转 Spring 全家桶》笔记">
<meta property="og:url" content="https://dunwu.github.io/blog/pages/ede171bb/index.html">
<meta property="og:site_name" content="Dunwu Blog">
<meta property="og:description" content="《极客时间教程 - 玩转 Spring 全家桶》笔记第一章：初识 Spring (4 讲)01 | Spring 课程介绍02 | 一起认识 Spring 家族的主要成员Spring Framework - 用于构建企业级应用的轻量级一站式解决方案 Spring Boot - 快速构建基于 Spring 的应用程序 Spring Cloud - 简化分布式系统的开发 03 | 跟着 Spring">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20230806142644.png">
<meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20230729155944.svg">
<meta property="article:published_time" content="2023-07-29T07:25:09.000Z">
<meta property="article:modified_time" content="2025-09-13T09:56:53.692Z">
<meta property="article:author" content="钝悟 ◾ Dunwu">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="框架">
<meta property="article:tag" content="Spring">
<meta property="article:tag" content="SpringBoot">
<meta property="article:tag" content="SpringCloud">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20230806142644.png">


<link rel="canonical" href="https://dunwu.github.io/blog/pages/ede171bb/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://dunwu.github.io/blog/pages/ede171bb/","path":"/pages/ede171bb/","title":"《极客时间教程 - 玩转 Spring 全家桶》笔记"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>《极客时间教程 - 玩转 Spring 全家桶》笔记 | Dunwu Blog</title>
  








  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/blog/js/utils.js" defer></script><script src="/blog/js/motion.js" defer></script><script src="/blog/js/sidebar.js" defer></script><script src="/blog/js/next-boot.js" defer></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.5.0/dist/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/blog/js/third-party/search/local-search.js" defer></script>





  <script src="/blog/js/third-party/pace.js" defer></script>


  





  <noscript>
    <link rel="stylesheet" href="/blog/css/noscript.css">
  </noscript>
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Dunwu Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">大道至简，知易行难</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">428</span></a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">124</span></a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">508</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E3%80%8A%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4%E6%95%99%E7%A8%8B-%E7%8E%A9%E8%BD%AC-Spring-%E5%85%A8%E5%AE%B6%E6%A1%B6%E3%80%8B%E7%AC%94%E8%AE%B0"><span class="nav-number">1.</span> <span class="nav-text">《极客时间教程 - 玩转 Spring 全家桶》笔记</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9A%E5%88%9D%E8%AF%86-Spring-4-%E8%AE%B2"><span class="nav-number">1.1.</span> <span class="nav-text">第一章：初识 Spring (4 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#01-Spring-%E8%AF%BE%E7%A8%8B%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.1.1.</span> <span class="nav-text">01 | Spring 课程介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#02-%E4%B8%80%E8%B5%B7%E8%AE%A4%E8%AF%86-Spring-%E5%AE%B6%E6%97%8F%E7%9A%84%E4%B8%BB%E8%A6%81%E6%88%90%E5%91%98"><span class="nav-number">1.1.2.</span> <span class="nav-text">02 | 一起认识 Spring 家族的主要成员</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#03-%E8%B7%9F%E7%9D%80-Spring-%E4%BA%86%E8%A7%A3%E6%8A%80%E6%9C%AF%E8%B6%8B%E5%8A%BF"><span class="nav-number">1.1.3.</span> <span class="nav-text">03 | 跟着 Spring 了解技术趋势</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#04-%E7%BC%96%E5%86%99%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA-Spring-%E7%A8%8B%E5%BA%8F"><span class="nav-number">1.1.4.</span> <span class="nav-text">04 | 编写你的第一个 Spring 程序</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%9AJDBC-%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A-10-%E8%AE%B2"><span class="nav-number">1.2.</span> <span class="nav-text">第二章：JDBC 必知必会 (10 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#05-%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E5%8D%95%E6%95%B0%E6%8D%AE%E6%BA%90"><span class="nav-number">1.2.1.</span> <span class="nav-text">05 | 如何配置单数据源</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%B4%E6%8E%A5%E9%85%8D%E7%BD%AE%E6%89%80%E9%9C%80%E7%9A%84-Bean"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">直接配置所需的 Bean</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Boot-%E5%81%9A%E4%BA%86%E5%93%AA%E4%BA%9B%E9%85%8D%E7%BD%AE"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">Spring Boot 做了哪些配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%BA%90%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="nav-number">1.2.1.3.</span> <span class="nav-text">数据源相关配置属性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#06-%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90"><span class="nav-number">1.2.2.</span> <span class="nav-text">06 | 如何配置多数据源</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">配置多数据源的注意事项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Boot-%E4%B8%AD%E7%9A%84%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">Spring Boot 中的多数据源配置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#07-%E9%82%A3%E4%BA%9B%E5%A5%BD%E7%94%A8%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%B1%A0%E4%BB%AC%EF%BC%9AHikariCP"><span class="nav-number">1.2.3.</span> <span class="nav-text">07 | 那些好用的连接池们：HikariCP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8-Spring-Boot-%E4%B8%AD%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">在 Spring Boot 中的配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8-HikariCP-%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">常用 HikariCP 配置参数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#08-%E9%82%A3%E4%BA%9B%E5%A5%BD%E7%94%A8%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%B1%A0%E4%BB%AC%EF%BC%9AAlibaba-Druid"><span class="nav-number">1.2.4.</span> <span class="nav-text">08 | 那些好用的连接池们：Alibaba Druid</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE"><span class="nav-number">1.2.4.1.</span> <span class="nav-text">数据源配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Druid-Filter"><span class="nav-number">1.2.4.2.</span> <span class="nav-text">Druid Filter</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#09-%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87-Spring-JDBC-%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.2.5.</span> <span class="nav-text">09 | 如何通过 Spring JDBC 访问数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-%E7%9A%84-JDBC-%E6%93%8D%E4%BD%9C%E7%B1%BB"><span class="nav-number">1.2.5.1.</span> <span class="nav-text">Spring 的 JDBC 操作类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84-Bean-%E6%B3%A8%E8%A7%A3"><span class="nav-number">1.2.5.2.</span> <span class="nav-text">常用的 Bean 注解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84-JDBC-%E6%93%8D%E4%BD%9C"><span class="nav-number">1.2.5.3.</span> <span class="nav-text">简单的 JDBC 操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SQL-%E6%89%B9%E5%A4%84%E7%90%86"><span class="nav-number">1.2.5.4.</span> <span class="nav-text">SQL 批处理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-%E4%BB%80%E4%B9%88%E6%98%AF-Spring-%E7%9A%84%E4%BA%8B%E5%8A%A1%E6%8A%BD%E8%B1%A1%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.2.6.</span> <span class="nav-text">10 | 什么是 Spring 的事务抽象（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-%E4%BB%80%E4%B9%88%E6%98%AF-Spring-%E7%9A%84%E4%BA%8B%E5%8A%A1%E6%8A%BD%E8%B1%A1%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.2.7.</span> <span class="nav-text">11 | 什么是 Spring 的事务抽象（下）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-%E7%9A%84%E4%BA%8B%E5%8A%A1%E6%8A%BD%E8%B1%A1"><span class="nav-number">1.2.7.1.</span> <span class="nav-text">Spring 的事务抽象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E6%8A%BD%E8%B1%A1%E7%9A%84%E6%A0%B8%E5%BF%83%E6%8E%A5%E5%8F%A3"><span class="nav-number">1.2.7.2.</span> <span class="nav-text">事务抽象的核心接口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E7%89%B9%E6%80%A7"><span class="nav-number">1.2.7.3.</span> <span class="nav-text">事务传播特性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%89%B9%E6%80%A7"><span class="nav-number">1.2.7.4.</span> <span class="nav-text">事务隔离特性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%96%E7%A8%8B%E5%BC%8F%E4%BA%8B%E5%8A%A1"><span class="nav-number">1.2.7.5.</span> <span class="nav-text">编程式事务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1"><span class="nav-number">1.2.7.6.</span> <span class="nav-text">声明式事务</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-%E4%BA%86%E8%A7%A3-Spring-%E7%9A%84-JDBC-%E5%BC%82%E5%B8%B8%E6%8A%BD%E8%B1%A1"><span class="nav-number">1.2.8.</span> <span class="nav-text">12 | 了解 Spring 的 JDBC 异常抽象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-%E7%9A%84-JDBC-%E5%BC%82%E5%B8%B8%E6%8A%BD%E8%B1%A1"><span class="nav-number">1.2.8.1.</span> <span class="nav-text">Spring 的 JDBC 异常抽象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-%E6%98%AF%E6%80%8E%E4%B9%88%E8%AE%A4%E8%AF%86%E9%82%A3%E4%BA%9B%E9%94%99%E8%AF%AF%E7%A0%81%E7%9A%84"><span class="nav-number">1.2.8.2.</span> <span class="nav-text">Spring 是怎么认识那些错误码的</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-%E8%AF%BE%E7%A8%8B%E7%AD%94%E7%96%91%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.2.9.</span> <span class="nav-text">13 | 课程答疑（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-%E8%AF%BE%E7%A8%8B%E7%AD%94%E7%96%91%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.2.10.</span> <span class="nav-text">14 | 课程答疑（下）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9AO-R-Mapping-%E5%AE%9E%E8%B7%B5-9-%E8%AE%B2"><span class="nav-number">1.3.</span> <span class="nav-text">第三章：O&#x2F;R Mapping 实践 (9 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#15-%E8%AE%A4%E8%AF%86-Spring-Data-JPA"><span class="nav-number">1.3.1.</span> <span class="nav-text">15 | 认识 Spring Data JPA</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Java-Persistence-API"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">Java Persistence API</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Data"><span class="nav-number">1.3.1.2.</span> <span class="nav-text">Spring Data</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-%E5%AE%9A%E4%B9%89-JPA-%E7%9A%84%E5%AE%9E%E4%BD%93%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.3.2.</span> <span class="nav-text">16 | 定义 JPA 的实体对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8-JPA-%E6%B3%A8%E8%A7%A3"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">常用 JPA 注解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Lombok"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">Lombok</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-%E5%BC%80%E5%A7%8B%E6%88%91%E4%BB%AC%E7%9A%84%E7%BA%BF%E4%B8%8A%E5%92%96%E5%95%A1%E9%A6%86%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%EF%BC%9ASpringBucks"><span class="nav-number">1.3.3.</span> <span class="nav-text">17 | 开始我们的线上咖啡馆实战项目：SpringBucks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-%E9%80%9A%E8%BF%87-Spring-Data-JPA-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.3.4.</span> <span class="nav-text">18 | 通过 Spring Data JPA 操作数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Repository"><span class="nav-number">1.3.4.1.</span> <span class="nav-text">Repository</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.3.4.2.</span> <span class="nav-text">定义查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.3.4.3.</span> <span class="nav-text">分页查询</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-Spring-Data-JPA-%E7%9A%84-Repository-%E6%98%AF%E6%80%8E%E4%B9%88%E4%BB%8E%E6%8E%A5%E5%8F%A3%E5%8F%98%E6%88%90-Bean-%E7%9A%84"><span class="nav-number">1.3.5.</span> <span class="nav-text">19 | Spring Data JPA 的 Repository 是怎么从接口变成 Bean 的</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Repository-Bean-%E6%98%AF%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E7%9A%84"><span class="nav-number">1.3.5.1.</span> <span class="nav-text">Repository Bean 是如何创建的</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E8%A7%A3%E9%87%8A%E7%9A%84"><span class="nav-number">1.3.5.2.</span> <span class="nav-text">接口中的方法是如何被解释的</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20-%E9%80%9A%E8%BF%87-MyBatis-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.3.6.</span> <span class="nav-text">20 | 通过 MyBatis 操作数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21-%E8%AE%A9-MyBatis-%E6%9B%B4%E5%A5%BD%E7%94%A8%E7%9A%84%E9%82%A3%E4%BA%9B%E5%B7%A5%E5%85%B7%EF%BC%9AMyBatis-Generator"><span class="nav-number">1.3.7.</span> <span class="nav-text">21 | 让 MyBatis 更好用的那些工具：MyBatis Generator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22-%E8%AE%A9-MyBatis-%E6%9B%B4%E5%A5%BD%E7%94%A8%E7%9A%84%E9%82%A3%E4%BA%9B%E5%B7%A5%E5%85%B7%EF%BC%9AMyBatis-PageHelper"><span class="nav-number">1.3.8.</span> <span class="nav-text">22 | 让 MyBatis 更好用的那些工具：MyBatis PageHelper</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#23-SpringBucks-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E5%B0%8F%E7%BB%93"><span class="nav-number">1.3.9.</span> <span class="nav-text">23 | SpringBucks 实战项目进度小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0%EF%BC%9ANoSQL-%E5%AE%9E%E8%B7%B5-7-%E8%AE%B2"><span class="nav-number">1.4.</span> <span class="nav-text">第四章：NoSQL 实践 (7 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#24-%E9%80%9A%E8%BF%87-Docker-%E8%BE%85%E5%8A%A9%E5%BC%80%E5%8F%91"><span class="nav-number">1.4.1.</span> <span class="nav-text">24 | 通过 Docker 辅助开发</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Docker-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">Docker 常用命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#docker-run-%E7%9A%84%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">docker run 的常用选项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%BD%E5%86%85-Docker-%E9%95%9C%E5%83%8F%E9%85%8D%E7%BD%AE"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">国内 Docker 镜像配置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#25-%E5%9C%A8-Spring-%E4%B8%AD%E8%AE%BF%E9%97%AE-MongoDB"><span class="nav-number">1.4.2.</span> <span class="nav-text">25 | 在 Spring 中访问 MongoDB</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-%E5%AF%B9-MongoDB-%E7%9A%84%E6%94%AF%E6%8C%81"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">Spring 对 MongoDB 的支持</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Data-MongoDB-%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">Spring Data MongoDB 的基本用法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Data-MongoDB-%E7%9A%84-Repository"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">Spring Data MongoDB 的 Repository</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#26-%E5%9C%A8-Spring-%E4%B8%AD%E8%AE%BF%E9%97%AE-Redis"><span class="nav-number">1.4.3.</span> <span class="nav-text">26 | 在 Spring 中访问 Redis</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-%E5%AF%B9-Redis-%E7%9A%84%E6%94%AF%E6%8C%81"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">Spring 对 Redis 的支持</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Jedis-%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">Jedis 客户端的简单使用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-Redis-%E7%9A%84%E5%93%A8%E5%85%B5%E4%B8%8E%E9%9B%86%E7%BE%A4%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.4.4.</span> <span class="nav-text">27 | Redis 的哨兵与集群模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#28-%E4%BA%86%E8%A7%A3-Spring-%E7%9A%84%E7%BC%93%E5%AD%98%E6%8A%BD%E8%B1%A1"><span class="nav-number">1.4.5.</span> <span class="nav-text">28 | 了解 Spring 的缓存抽象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-%E7%9A%84%E7%BC%93%E5%AD%98%E6%8A%BD%E8%B1%A1"><span class="nav-number">1.4.5.1.</span> <span class="nav-text">Spring 的缓存抽象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E7%9A%84%E7%BC%93%E5%AD%98"><span class="nav-number">1.4.5.2.</span> <span class="nav-text">基于注解的缓存</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#29-Redis-%E5%9C%A8-Spring-%E4%B8%AD%E7%9A%84%E5%85%B6%E4%BB%96%E7%94%A8%E6%B3%95"><span class="nav-number">1.4.6.</span> <span class="nav-text">29 | Redis 在 Spring 中的其他用法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8E-Redis-%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.4.6.1.</span> <span class="nav-text">与 Redis 建立连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB"><span class="nav-number">1.4.6.2.</span> <span class="nav-text">读写分离</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RedisTemplate"><span class="nav-number">1.4.6.3.</span> <span class="nav-text">RedisTemplate</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Redis-Repository"><span class="nav-number">1.4.6.4.</span> <span class="nav-text">Redis Repository</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%BA%90%E7%9A%84-Repository"><span class="nav-number">1.4.6.5.</span> <span class="nav-text">处理不同类型数据源的 Repository</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#30-SpringBucks-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E5%B0%8F%E7%BB%93"><span class="nav-number">1.4.7.</span> <span class="nav-text">30 | SpringBucks 实战项目进度小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E8%BF%9B%E9%98%B6-8-%E8%AE%B2"><span class="nav-number">1.5.</span> <span class="nav-text">第五章：数据访问进阶 (8 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#31-Project-Reactor-%E4%BB%8B%E7%BB%8D%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.5.1.</span> <span class="nav-text">31 | Project Reactor 介绍（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#32-Project-Reactor-%E4%BB%8B%E7%BB%8D%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.5.2.</span> <span class="nav-text">32 | Project Reactor 介绍（下）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#33-%E9%80%9A%E8%BF%87-Reactive-%E7%9A%84%E6%96%B9%E5%BC%8F%E8%AE%BF%E9%97%AE-Redis"><span class="nav-number">1.5.3.</span> <span class="nav-text">33 | 通过 Reactive 的方式访问 Redis</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Data-Redis"><span class="nav-number">1.5.3.1.</span> <span class="nav-text">Spring Data Redis</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#34-%E9%80%9A%E8%BF%87-Reactive-%E7%9A%84%E6%96%B9%E5%BC%8F%E8%AE%BF%E9%97%AE-MongoDB"><span class="nav-number">1.5.4.</span> <span class="nav-text">34 | 通过 Reactive 的方式访问 MongoDB</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Data-MongoDB"><span class="nav-number">1.5.4.1.</span> <span class="nav-text">Spring Data MongoDB</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#35-%E9%80%9A%E8%BF%87-Reactive-%E7%9A%84%E6%96%B9%E5%BC%8F%E8%AE%BF%E9%97%AE-RDBMS"><span class="nav-number">1.5.5.</span> <span class="nav-text">35 | 通过 Reactive 的方式访问 RDBMS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Data-R2DBC"><span class="nav-number">1.5.5.1.</span> <span class="nav-text">Spring Data R2DBC</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#36-%E9%80%9A%E8%BF%87-AOP-%E6%89%93%E5%8D%B0%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E5%B1%82%E7%9A%84%E6%91%98%E8%A6%81%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.5.6.</span> <span class="nav-text">36 | 通过 AOP 打印数据访问层的摘要（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#37-%E9%80%9A%E8%BF%87-AOP-%E6%89%93%E5%8D%B0%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E5%B1%82%E7%9A%84%E6%91%98%E8%A6%81%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.5.7.</span> <span class="nav-text">37 | 通过 AOP 打印数据访问层的摘要（下）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-AOP-%E7%9A%84%E4%B8%80%E4%BA%9B%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="nav-number">1.5.7.1.</span> <span class="nav-text">Spring AOP 的一些核心概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3"><span class="nav-number">1.5.7.2.</span> <span class="nav-text">常用注解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%89%93%E5%8D%B0-SQL"><span class="nav-number">1.5.7.3.</span> <span class="nav-text">如何打印 SQL</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#38-SpringBucks-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E5%B0%8F%E7%BB%93"><span class="nav-number">1.5.8.</span> <span class="nav-text">38 | SpringBucks 实战项目进度小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0%EF%BC%9ASpring-MVC-%E5%AE%9E%E8%B7%B5-14-%E8%AE%B2"><span class="nav-number">1.6.</span> <span class="nav-text">第六章：Spring MVC 实践 (14 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#39-%E7%BC%96%E5%86%99%E7%AC%AC%E4%B8%80%E4%B8%AA-Spring-MVC-Controller"><span class="nav-number">1.6.1.</span> <span class="nav-text">39 | 编写第一个 Spring MVC Controller</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A4%E8%AF%86-Spring-MVC"><span class="nav-number">1.6.2.</span> <span class="nav-text">认识 Spring MVC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-MVC-%E4%B8%AD%E7%9A%84%E5%B8%B8%E2%BD%A4%E7%94%A8%E6%B3%A8%E8%A7%A3"><span class="nav-number">1.6.3.</span> <span class="nav-text">Spring MVC 中的常⽤用注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#40-%E7%90%86%E8%A7%A3-Spring-%E7%9A%84%E5%BA%94%E7%94%A8%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="nav-number">1.6.4.</span> <span class="nav-text">40 | 理解 Spring 的应用上下文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-%E7%9A%84%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="nav-number">1.6.5.</span> <span class="nav-text">Spring 的应用程序上下文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#41-%E7%90%86%E8%A7%A3%E8%AF%B7%E6%B1%82%E7%9A%84%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6"><span class="nav-number">1.6.6.</span> <span class="nav-text">41 | 理解请求的处理机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#42-%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.6.7.</span> <span class="nav-text">42 | 如何定义处理方法（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB"><span class="nav-number">1.6.8.</span> <span class="nav-text">定义映射关系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95"><span class="nav-number">1.6.9.</span> <span class="nav-text">定义处理方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-number">1.6.10.</span> <span class="nav-text">定义类型转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E6%A0%A1%E9%AA%8C"><span class="nav-number">1.6.11.</span> <span class="nav-text">定义校验</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Multipart-%E4%B8%8A%E4%BC%A0"><span class="nav-number">1.6.12.</span> <span class="nav-text">Multipart 上传</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#43-%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.6.13.</span> <span class="nav-text">43 | 如何定义处理方法（下）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#44-Spring-MVC-%E4%B8%AD%E7%9A%84%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E6%9C%BA%E5%88%B6%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.6.14.</span> <span class="nav-text">44 | Spring MVC 中的视图解析机制（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#45-Spring-MVC-%E4%B8%AD%E7%9A%84%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E6%9C%BA%E5%88%B6%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.6.15.</span> <span class="nav-text">45 | Spring MVC 中的视图解析机制（下）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%9F%BA%E7%A1%80"><span class="nav-number">1.6.15.1.</span> <span class="nav-text">视图解析的实现基础</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DispatcherServlet-%E4%B8%AD%E7%9A%84%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E9%80%BB%E8%BE%91"><span class="nav-number">1.6.15.2.</span> <span class="nav-text">DispatcherServlet 中的视图解析逻辑</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">1.6.15.3.</span> <span class="nav-text">重定向</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#46-Spring-MVC-%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E8%A7%86%E5%9B%BE%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.6.16.</span> <span class="nav-text">46 | Spring MVC 中的常用视图（上）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-MVC-%E6%94%AF%E6%8C%81%E7%9A%84%E8%A7%86%E5%9B%BE"><span class="nav-number">1.6.16.1.</span> <span class="nav-text">Spring MVC 支持的视图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-MessageConverter"><span class="nav-number">1.6.16.2.</span> <span class="nav-text">配置 MessageConverter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Boot-%E5%AF%B9-Jackson-%E7%9A%84%E6%94%AF%E6%8C%81"><span class="nav-number">1.6.16.3.</span> <span class="nav-text">Spring Boot 对 Jackson 的支持</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#47-Spring-MVC-%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E8%A7%86%E5%9B%BE%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.6.17.</span> <span class="nav-text">47 | Spring MVC 中的常用视图（下）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Thymeleaf"><span class="nav-number">1.6.17.1.</span> <span class="nav-text">使用 Thymeleaf</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Thymeleaf-%E7%9A%84%E4%B8%80%E4%BA%9B%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE"><span class="nav-number">1.6.17.1.1.</span> <span class="nav-text">Thymeleaf 的一些默认配置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#48-%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E4%B8%8E%E7%BC%93%E5%AD%98"><span class="nav-number">1.6.18.</span> <span class="nav-text">48 | 静态资源与缓存</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Boot-%E4%B8%AD%E7%9A%84%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE"><span class="nav-number">1.6.18.1.</span> <span class="nav-text">Spring Boot 中的静态资源配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Boot-%E4%B8%AD%E7%9A%84%E7%BC%93%E5%AD%98%E9%85%8D%E7%BD%AE"><span class="nav-number">1.6.18.2.</span> <span class="nav-text">Spring Boot 中的缓存配置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#49-Spring-MVC-%E4%B8%AD%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6"><span class="nav-number">1.6.19.</span> <span class="nav-text">49 | Spring MVC 中的异常处理机制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-MVC-%E7%9A%84%E5%BC%82%E5%B8%B8%E8%A7%A3%E6%9E%90"><span class="nav-number">1.6.19.1.</span> <span class="nav-text">Spring MVC 的异常解析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95"><span class="nav-number">1.6.19.2.</span> <span class="nav-text">异常处理方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#50-%E4%BA%86%E8%A7%A3-Spring-MVC-%E7%9A%84%E5%88%87%E5%85%A5%E7%82%B9"><span class="nav-number">1.6.20.</span> <span class="nav-text">50 | 了解 Spring MVC 的切入点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-MVC-%E7%9A%84%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="nav-number">1.6.20.1.</span> <span class="nav-text">Spring MVC 的拦截器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F"><span class="nav-number">1.6.20.2.</span> <span class="nav-text">拦截器的配置方式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#51-SpringBucks-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E5%B0%8F%E7%BB%93"><span class="nav-number">1.6.21.</span> <span class="nav-text">51 | SpringBucks 实战项目进度小结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#52-%E8%AF%BE%E7%A8%8B%E7%AD%94%E7%96%91"><span class="nav-number">1.6.22.</span> <span class="nav-text">52 | 课程答疑</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0%EF%BC%9A%E8%AE%BF%E9%97%AE-Web-%E8%B5%84%E6%BA%90-5-%E8%AE%B2"><span class="nav-number">1.7.</span> <span class="nav-text">第七章：访问 Web 资源 (5 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#53-%E9%80%9A%E8%BF%87-RestTemplate-%E8%AE%BF%E9%97%AE-Web-%E8%B5%84%E6%BA%90"><span class="nav-number">1.7.1.</span> <span class="nav-text">53 | 通过 RestTemplate 访问 Web 资源</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Boot-%E4%B8%AD%E7%9A%84-RestTemplate"><span class="nav-number">1.7.1.1.</span> <span class="nav-text">Spring Boot 中的 RestTemplate</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">1.7.1.2.</span> <span class="nav-text">常用方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%84%E9%80%A0-URI"><span class="nav-number">1.7.1.3.</span> <span class="nav-text">构造 URI</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#54-RestTemplate-%E7%9A%84%E9%AB%98%E9%98%B6%E7%94%A8%E6%B3%95"><span class="nav-number">1.7.2.</span> <span class="nav-text">54 | RestTemplate 的高阶用法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#55-%E7%AE%80%E5%8D%95%E5%AE%9A%E5%88%B6-RestTemplate"><span class="nav-number">1.7.3.</span> <span class="nav-text">55 | 简单定制 RestTemplate</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#RestTemplate-%E2%BD%80%E6%94%AF%E6%8C%81%E7%9A%84-HTTP-%E5%BA%93"><span class="nav-number">1.7.3.1.</span> <span class="nav-text">RestTemplate ⽀支持的 HTTP 库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%98%E5%8C%96%E5%BA%95%E5%B1%82%E8%AF%B7%E6%B1%82%E7%AD%96%E7%95%A5"><span class="nav-number">1.7.3.2.</span> <span class="nav-text">优化底层请求策略</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#56-%E9%80%9A%E8%BF%87-WebClient-%E8%AE%BF%E9%97%AE-Web-%E8%B5%84%E6%BA%90"><span class="nav-number">1.7.4.</span> <span class="nav-text">56 | 通过 WebClient 访问 Web 资源</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%86%E8%A7%A3-WebClient"><span class="nav-number">1.7.4.1.</span> <span class="nav-text">了解 WebClient</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WebClient-%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="nav-number">1.7.4.2.</span> <span class="nav-text">WebClient 的基本用法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#57-SpringBucks-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E5%B0%8F%E7%BB%93"><span class="nav-number">1.7.5.</span> <span class="nav-text">57 | SpringBucks 实战项目进度小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%85%AB%E7%AB%A0%EF%BC%9A-Web-%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6-9-%E8%AE%B2"><span class="nav-number">1.8.</span> <span class="nav-text">第八章： Web 开发进阶 (9 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#58-%E8%AE%BE%E8%AE%A1%E5%A5%BD%E7%9A%84-RESTful-Web-Service%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.8.1.</span> <span class="nav-text">58 | 设计好的 RESTful Web Service（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#59-%E8%AE%BE%E8%AE%A1%E5%A5%BD%E7%9A%84-RESTful-Web-Service%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.8.2.</span> <span class="nav-text">59 | 设计好的 RESTful Web Service（下）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B5%84%E6%BA%90%E7%9A%84%E7%B2%92%E5%BA%A6"><span class="nav-number">1.8.3.</span> <span class="nav-text">资源的粒度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#60-%E4%BB%80%E4%B9%88%E6%98%AF-HATEOAS"><span class="nav-number">1.8.4.</span> <span class="nav-text">60 | 什么是 HATEOAS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#61-%E4%BD%BF%E7%94%A8-Spring-Data-REST-%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E8%B6%85%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.8.5.</span> <span class="nav-text">61 | 使用 Spring Data REST 实现简单的超媒体服务（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#62-%E4%BD%BF%E7%94%A8-Spring-Data-REST-%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E8%B6%85%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1-%E4%B8%8B"><span class="nav-number">1.8.6.</span> <span class="nav-text">62 | 使用 Spring Data REST 实现简单的超媒体服务(下)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%A4%E8%AF%86-HAL"><span class="nav-number">1.8.6.1.</span> <span class="nav-text">认识 HAL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-Data-REST"><span class="nav-number">1.8.6.2.</span> <span class="nav-text">Spring Data REST</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%AE%BF%E9%97%AE-HATEOAS-%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.8.6.3.</span> <span class="nav-text">如何访问 HATEOAS 服务</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#63-%E5%88%86%E5%B8%83%E5%BC%8F%E7%8E%AF%E5%A2%83%E4%B8%AD%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3-Session-%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">1.8.7.</span> <span class="nav-text">63 | 分布式环境中如何解决 Session 的问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E4%BC%9A%E8%AF%9D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-number">1.8.7.1.</span> <span class="nav-text">常见的会话解决方案</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%A4%E8%AF%86-Spring-Session"><span class="nav-number">1.8.7.2.</span> <span class="nav-text">认识 Spring Session</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-number">1.8.7.3.</span> <span class="nav-text">实现原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E-Redis-%E7%9A%84-HttpSession"><span class="nav-number">1.8.7.4.</span> <span class="nav-text">基于 Redis 的 HttpSession</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#64-%E4%BD%BF%E7%94%A8-WebFlux-%E4%BB%A3%E6%9B%BF-Spring-MVC%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.8.8.</span> <span class="nav-text">64 | 使用 WebFlux 代替 Spring MVC（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#65-%E4%BD%BF%E7%94%A8-WebFlux-%E4%BB%A3%E6%9B%BF-Spring-MVC%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.8.9.</span> <span class="nav-text">65 | 使用 WebFlux 代替 Spring MVC（下）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%A4%E8%AF%86-WebFlux"><span class="nav-number">1.8.9.1.</span> <span class="nav-text">认识 WebFlux</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WebMVC-v-s-WebFlux"><span class="nav-number">1.8.9.2.</span> <span class="nav-text">WebMVC v.s. WebFlux</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WebFlux-%E4%B8%AD%E7%9A%84%E7%BC%96%E7%A8%8B%E6%A8%A1%E5%9E%8B"><span class="nav-number">1.8.9.3.</span> <span class="nav-text">WebFlux 中的编程模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-number">1.8.9.4.</span> <span class="nav-text">基于注解的控制器</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#66-SpringBucks-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E5%B0%8F%E7%BB%93"><span class="nav-number">1.8.10.</span> <span class="nav-text">66 | SpringBucks 实战项目进度小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B9%9D%E7%AB%A0%EF%BC%9A%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86-Spring-Boot-8-%E8%AE%B2"><span class="nav-number">1.9.</span> <span class="nav-text">第九章：重新认识 Spring Boot (8 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#67-%E8%AE%A4%E8%AF%86-Spring-Boot-%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="nav-number">1.9.1.</span> <span class="nav-text">67 | 认识 Spring Boot 的组成部分</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Boot-%E7%9A%84%E7%89%B9%E6%80%A7"><span class="nav-number">1.9.2.</span> <span class="nav-text">Spring Boot 的特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Boot-%E7%9A%84%E5%9B%9B%E5%A4%A7%E6%A0%B8%E5%BF%83"><span class="nav-number">1.9.3.</span> <span class="nav-text">Spring Boot 的四大核心</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#68-%E4%BA%86%E8%A7%A3%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-number">1.9.4.</span> <span class="nav-text">68 | 了解自动配置的实现原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%86%E8%A7%A3%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="nav-number">1.9.5.</span> <span class="nav-text">了解自动配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-number">1.9.6.</span> <span class="nav-text">自动配置的实现原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%86%E8%A7%A3%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E7%9A%84%E6%83%85%E5%86%B5"><span class="nav-number">1.9.7.</span> <span class="nav-text">了解自动配置的情况</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#69-%E5%8A%A8%E6%89%8B%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="nav-number">1.9.8.</span> <span class="nav-text">69 | 动手实现自己的自动配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BB%E8%A6%81%E5%B7%A5%E4%BD%9C%E5%86%85%E5%AE%B9"><span class="nav-number">1.9.9.</span> <span class="nav-text">主要工作内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E6%B3%A8%E8%A7%A3"><span class="nav-number">1.9.10.</span> <span class="nav-text">条件注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="nav-number">1.9.11.</span> <span class="nav-text">自动配置的执行顺序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#70-%E5%A6%82%E4%BD%95%E5%9C%A8%E4%BD%8E%E7%89%88%E6%9C%AC-Spring-%E4%B8%AD%E5%BF%AB%E9%80%9F%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%BC%BC%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="nav-number">1.9.12.</span> <span class="nav-text">70 | 如何在低版本 Spring 中快速实现类似自动配置的功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E4%B8%8E%E9%97%AE%E9%A2%98"><span class="nav-number">1.9.13.</span> <span class="nav-text">需求与问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E8%A7%A3%E5%86%B3%E6%80%9D%E8%B7%AF"><span class="nav-number">1.9.14.</span> <span class="nav-text">核心解决思路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-%E7%9A%84%E6%89%A9%E5%B1%95%E7%82%B9"><span class="nav-number">1.9.15.</span> <span class="nav-text">Spring 的扩展点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E-Bean-%E7%9A%84%E4%B8%80%E4%BA%9B%E5%AE%9A%E5%88%B6"><span class="nav-number">1.9.16.</span> <span class="nav-text">关于 Bean 的一些定制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%9E%E8%B0%83"><span class="nav-number">1.9.16.1.</span> <span class="nav-text">生命周期回调</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#XXXAware"><span class="nav-number">1.9.16.2.</span> <span class="nav-text">XXXAware</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="nav-number">1.9.17.</span> <span class="nav-text">一些常用操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#71-%E4%BA%86%E8%A7%A3%E8%B5%B7%E6%AD%A5%E4%BE%9D%E8%B5%96%E5%8F%8A%E5%85%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-number">1.9.18.</span> <span class="nav-text">71 | 了解起步依赖及其实现原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Maven-%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86%E6%8A%80%E5%B7%A7"><span class="nav-number">1.9.19.</span> <span class="nav-text">Maven 依赖管理技巧</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Boot-%E7%9A%84-starter-%E4%BE%9D%E8%B5%96"><span class="nav-number">1.9.20.</span> <span class="nav-text">Spring Boot 的 starter 依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#72-%E5%AE%9A%E5%88%B6%E8%87%AA%E5%B7%B1%E7%9A%84%E8%B5%B7%E6%AD%A5%E4%BE%9D%E8%B5%96"><span class="nav-number">1.9.21.</span> <span class="nav-text">72 | 定制自己的起步依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#73-%E6%B7%B1%E6%8C%96-Spring-Boot-%E7%9A%84%E9%85%8D%E7%BD%AE%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6"><span class="nav-number">1.9.22.</span> <span class="nav-text">73 | 深挖 Spring Boot 的配置加载机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%96%E5%8C%96%E9%85%8D%E7%BD%AE%E5%8A%A0%E8%BD%BD%E9%A1%BA%E5%BA%8F"><span class="nav-number">1.9.23.</span> <span class="nav-text">外化配置加载顺序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#application-properties"><span class="nav-number">1.9.24.</span> <span class="nav-text">application.properties</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Relaxed-Binding"><span class="nav-number">1.9.25.</span> <span class="nav-text">Relaxed Binding</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#74-%E7%90%86%E8%A7%A3%E9%85%8D%E7%BD%AE%E8%83%8C%E5%90%8E%E7%9A%84-PropertySource-%E6%8A%BD%E8%B1%A1"><span class="nav-number">1.9.26.</span> <span class="nav-text">74 | 理解配置背后的 PropertySource 抽象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0-PropertySource"><span class="nav-number">1.9.27.</span> <span class="nav-text">添加 PropertySource</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Boot-%E4%B8%AD%E7%9A%84-ConfigurationProperties"><span class="nav-number">1.9.28.</span> <span class="nav-text">Spring Boot 中的 @ConfigurationProperties</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E5%88%B6-PropertySource"><span class="nav-number">1.9.29.</span> <span class="nav-text">定制 PropertySource</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E7%AB%A0%EF%BC%9A%E8%BF%90%E8%A1%8C%E4%B8%AD%E7%9A%84-Spring-Boot-11-%E8%AE%B2"><span class="nav-number">1.10.</span> <span class="nav-text">第十章：运行中的 Spring Boot (11 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#75-%E8%AE%A4%E8%AF%86-Spring-Boot-%E7%9A%84%E5%90%84%E7%B1%BB-Actuator-Endpoint"><span class="nav-number">1.10.1.</span> <span class="nav-text">75 | 认识 Spring Boot 的各类 Actuator Endpoint</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Actuator"><span class="nav-number">1.10.2.</span> <span class="nav-text">Actuator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8-Endpoint"><span class="nav-number">1.10.3.</span> <span class="nav-text">一些常用 Endpoint</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%AE%BF%E9%97%AE-Actuator-Endpoint"><span class="nav-number">1.10.4.</span> <span class="nav-text">如何访问 Actuator Endpoint</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#76-%E5%8A%A8%E6%89%8B%E5%AE%9A%E5%88%B6%E8%87%AA%E5%B7%B1%E7%9A%84-Health-Indicator"><span class="nav-number">1.10.5.</span> <span class="nav-text">76 | 动手定制自己的 Health Indicator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Boot-%E8%87%AA%E5%B8%A6%E7%9A%84-Health-Indicator"><span class="nav-number">1.10.6.</span> <span class="nav-text">Spring Boot 自带的 Health Indicator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-Health-Indicator"><span class="nav-number">1.10.7.</span> <span class="nav-text">自定义 Health Indicator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#77-%E9%80%9A%E8%BF%87-Micrometer-%E8%8E%B7%E5%8F%96%E8%BF%90%E8%A1%8C%E6%95%B0%E6%8D%AE"><span class="nav-number">1.10.8.</span> <span class="nav-text">77 | 通过 Micrometer 获取运行数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A4%E8%AF%86-Micrometer"><span class="nav-number">1.10.9.</span> <span class="nav-text">认识 Micrometer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E6%A0%B8%E5%BF%83%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87"><span class="nav-number">1.10.10.</span> <span class="nav-text">一些核心度量指标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Micrometer-in-Spring-Boot-2-x"><span class="nav-number">1.10.11.</span> <span class="nav-text">Micrometer in Spring Boot 2.x</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#78-%E9%80%9A%E8%BF%87-Spring-Boot-Admin-%E4%BA%86%E8%A7%A3%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81"><span class="nav-number">1.10.12.</span> <span class="nav-text">78 | 通过 Spring Boot Admin 了解程序的运行状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Boot-Admin"><span class="nav-number">1.10.13.</span> <span class="nav-text">Spring Boot Admin</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B"><span class="nav-number">1.10.14.</span> <span class="nav-text">快速上手</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E6%8E%A7%E5%88%B6"><span class="nav-number">1.10.15.</span> <span class="nav-text">安全控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#79-%E5%A6%82%E4%BD%95%E5%AE%9A%E5%88%B6-Web-%E5%AE%B9%E5%99%A8%E7%9A%84%E8%BF%90%E8%A1%8C%E5%8F%82%E6%95%B0"><span class="nav-number">1.10.16.</span> <span class="nav-text">79 | 如何定制 Web 容器的运行参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%B5%8C-Web-%E5%AE%B9%E5%99%A8"><span class="nav-number">1.10.17.</span> <span class="nav-text">内嵌 Web 容器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%AE%B9%E5%99%A8%EF%A8%B8%E9%85%8D%E7%BD%AE"><span class="nav-number">1.10.18.</span> <span class="nav-text">修改容器器配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#80-%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E5%AE%B9%E5%99%A8%E6%94%AF%E6%8C%81-HTTP-2%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.10.19.</span> <span class="nav-text">80 | 如何配置容器支持 HTTP&#x2F;2（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-HTTPS-%E6%94%AF%E6%8C%81"><span class="nav-number">1.10.20.</span> <span class="nav-text">配置 HTTPS 支持</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E6%88%90%E8%AF%81%E4%B9%A6%E6%96%87%E4%BB%B6"><span class="nav-number">1.10.21.</span> <span class="nav-text">生成证书文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF-HTTPS-%E6%94%AF%E6%8C%81"><span class="nav-number">1.10.22.</span> <span class="nav-text">客户端 HTTPS 支持</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#81-%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E5%AE%B9%E5%99%A8%E6%94%AF%E6%8C%81-HTTP-2%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.10.23.</span> <span class="nav-text">81 | 如何配置容器支持 HTTP&#x2F;2（下）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-HTTP-2-%E6%94%AF%E6%8C%81"><span class="nav-number">1.10.24.</span> <span class="nav-text">配置 HTTP&#x2F;2 支持</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF-HTTP-2-%E6%94%AF%E6%8C%81"><span class="nav-number">1.10.25.</span> <span class="nav-text">客户端 HTTP&#x2F;2 支持</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#82-%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E8%A1%8C%E7%9A%84%E7%A8%8B%E5%BA%8F"><span class="nav-number">1.10.26.</span> <span class="nav-text">82 | 如何编写命令行运行的程序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E9%97%AD-Web-%E5%AE%B9%E5%99%A8"><span class="nav-number">1.10.27.</span> <span class="nav-text">关闭 Web 容器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="nav-number">1.10.28.</span> <span class="nav-text">常用工具类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#83-%E4%BA%86%E8%A7%A3%E5%8F%AF%E6%89%A7%E8%A1%8C-Jar-%E8%83%8C%E5%90%8E%E7%9A%84%E7%A7%98%E5%AF%86"><span class="nav-number">1.10.29.</span> <span class="nav-text">83 | 了解可执行 Jar 背后的秘密</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A4%E8%AF%86%E5%8F%AF%E6%89%A7%E8%A1%8C-Jar"><span class="nav-number">1.10.30.</span> <span class="nav-text">认识可执行 Jar</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%89%BE%E5%88%B0%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%85%A5%E5%8F%A3"><span class="nav-number">1.10.31.</span> <span class="nav-text">如何找到程序的入口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#84-%E5%A6%82%E4%BD%95%E5%B0%86-Spring-Boot-%E5%BA%94%E7%94%A8%E6%89%93%E5%8C%85%E6%88%90-Docker-%E9%95%9C%E5%83%8F%E6%96%87%E4%BB%B6"><span class="nav-number">1.10.32.</span> <span class="nav-text">84 | 如何将 Spring Boot 应用打包成 Docker 镜像文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Docker-%E9%95%9C%E5%83%8F"><span class="nav-number">1.10.33.</span> <span class="nav-text">什么是 Docker 镜像</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dockerfile"><span class="nav-number">1.10.34.</span> <span class="nav-text">Dockerfile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87-Maven-%E6%9E%84%E5%BB%BA-Docker-%E9%95%9C%E5%83%8F"><span class="nav-number">1.10.35.</span> <span class="nav-text">通过 Maven 构建 Docker 镜像</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#85-SpringBucks-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E5%B0%8F%E7%BB%93"><span class="nav-number">1.10.36.</span> <span class="nav-text">85 | SpringBucks 实战项目进度小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%EF%BC%9ASpring-Cloud-%E5%8F%8A-Cloud-Native-%E6%A6%82%E8%BF%B0-5-%E8%AE%B2"><span class="nav-number">1.11.</span> <span class="nav-text">第十一章：Spring Cloud 及 Cloud Native 概述 (5 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#86-%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E5%BE%AE%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.11.1.</span> <span class="nav-text">86 | 简单理解微服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#87-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E4%BA%91%E5%8E%9F%E7%94%9F-Cloud-Native"><span class="nav-number">1.11.2.</span> <span class="nav-text">87 | 如何理解云原生(Cloud Native)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#88-12-Factor-App%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.11.3.</span> <span class="nav-text">88 | 12-Factor App（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#89-12-Factor-App%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.11.4.</span> <span class="nav-text">89 | 12-Factor App（下）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#90-%E8%AE%A4%E8%AF%86-Spring-Cloud-%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="nav-number">1.11.5.</span> <span class="nav-text">90 | 认识 Spring Cloud 的组成部分</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AB%A0%EF%BC%9A%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%8E%E5%8F%91%E7%8E%B0-9-%E8%AE%B2"><span class="nav-number">1.12.</span> <span class="nav-text">第十二章：服务注册与发现 (9 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#91-%E4%BD%BF%E7%94%A8-Eureka-%E4%BD%9C%E4%B8%BA%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83"><span class="nav-number">1.12.1.</span> <span class="nav-text">91 | 使用 Eureka 作为服务注册中心</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#92-%E4%BD%BF%E7%94%A8-Spring-Cloud-Loadbalancer-%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.12.2.</span> <span class="nav-text">92 | 使用 Spring Cloud Loadbalancer 访问服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#93-%E4%BD%BF%E7%94%A8-Feign-%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.12.3.</span> <span class="nav-text">93 | 使用 Feign 访问服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#94-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E8%83%8C%E5%90%8E%E7%9A%84-DiscoveryClient"><span class="nav-number">1.12.4.</span> <span class="nav-text">94 | 深入理解服务发现背后的 DiscoveryClient</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#95-%E4%BD%BF%E7%94%A8-Zookeeper-%E4%BD%9C%E4%B8%BA%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83"><span class="nav-number">1.12.5.</span> <span class="nav-text">95 | 使用 Zookeeper 作为服务注册中心</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#96-%E4%BD%BF%E7%94%A8-Consul-%E4%BD%9C%E4%B8%BA%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83"><span class="nav-number">1.12.6.</span> <span class="nav-text">96 | 使用 Consul 作为服务注册中心</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#97-%E4%BD%BF%E7%94%A8-Nacos-%E4%BD%9C%E4%B8%BA%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83"><span class="nav-number">1.12.7.</span> <span class="nav-text">97 | 使用 Nacos 作为服务注册中心</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#98-%E5%A6%82%E4%BD%95%E5%AE%9A%E5%88%B6%E8%87%AA%E5%B7%B1%E7%9A%84-DiscoveryClient"><span class="nav-number">1.12.8.</span> <span class="nav-text">98 | 如何定制自己的 DiscoveryClient</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#99-SpringBucks-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E5%B0%8F%E7%BB%93"><span class="nav-number">1.12.9.</span> <span class="nav-text">99 | SpringBucks 实战项目进度小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD-7-%E8%AE%B2"><span class="nav-number">1.13.</span> <span class="nav-text">第十三章：服务熔断 (7 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100-%E4%BD%BF%E7%94%A8-Hystrix-%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.13.1.</span> <span class="nav-text">100 | 使用 Hystrix 实现服务熔断（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#101-%E4%BD%BF%E7%94%A8-Hystrix-%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.13.2.</span> <span class="nav-text">101 | 使用 Hystrix 实现服务熔断（下）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#102-%E5%A6%82%E4%BD%95%E8%A7%82%E5%AF%9F%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD"><span class="nav-number">1.13.3.</span> <span class="nav-text">102 | 如何观察服务熔断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#103-%E4%BD%BF%E7%94%A8-Resilience4j-%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD"><span class="nav-number">1.13.4.</span> <span class="nav-text">103 | 使用 Resilience4j 实现服务熔断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#104-%E4%BD%BF%E7%94%A8-Resilience4j-%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E9%99%90%E6%B5%81%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.13.5.</span> <span class="nav-text">104 | 使用 Resilience4j 实现服务限流（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#105-%E4%BD%BF%E7%94%A8-Resilience4j-%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E9%99%90%E6%B5%81%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.13.6.</span> <span class="nav-text">105 | 使用 Resilience4j 实现服务限流（下）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#106-SpringBucks-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E5%B0%8F%E7%BB%93"><span class="nav-number">1.13.7.</span> <span class="nav-text">106 | SpringBucks 实战项目进度小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%EF%BC%9A%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE-7-%E8%AE%B2"><span class="nav-number">1.14.</span> <span class="nav-text">第十四章：服务配置 (7 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#107-%E5%9F%BA%E4%BA%8E-Git-%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="nav-number">1.14.1.</span> <span class="nav-text">107 | 基于 Git 的配置中心（上）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#108-%E5%9F%BA%E4%BA%8E-Git-%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="nav-number">1.14.2.</span> <span class="nav-text">108 | 基于 Git 的配置中心（下）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#109-%E5%9F%BA%E4%BA%8E-Zookeeper-%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83"><span class="nav-number">1.14.3.</span> <span class="nav-text">109 | 基于 Zookeeper 的配置中心</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#110-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3-Spring-Cloud-%E7%9A%84%E9%85%8D%E7%BD%AE%E6%8A%BD%E8%B1%A1"><span class="nav-number">1.14.4.</span> <span class="nav-text">110 | 深入理解 Spring Cloud 的配置抽象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#111-%E5%9F%BA%E4%BA%8E-Consul-%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83"><span class="nav-number">1.14.5.</span> <span class="nav-text">111 | 基于 Consul 的配置中心</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#112-%E5%9F%BA%E4%BA%8E-Nacos-%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83"><span class="nav-number">1.14.6.</span> <span class="nav-text">112 | 基于 Nacos 的配置中心</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#113-SpringBucks-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E5%B0%8F%E7%BB%93"><span class="nav-number">1.14.7.</span> <span class="nav-text">113 | SpringBucks 实战项目进度小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E4%BA%94%E7%AB%A0%EF%BC%9ASpring-Cloud-Stream-4-%E8%AE%B2"><span class="nav-number">1.15.</span> <span class="nav-text">第十五章：Spring Cloud Stream (4 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#114-%E8%AE%A4%E8%AF%86-Spring-Cloud-Stream"><span class="nav-number">1.15.1.</span> <span class="nav-text">114 | 认识 Spring Cloud Stream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#115-%E9%80%9A%E8%BF%87-Spring-Cloud-Stream-%E8%AE%BF%E9%97%AE-RabbitMQ"><span class="nav-number">1.15.2.</span> <span class="nav-text">115 | 通过 Spring Cloud Stream 访问 RabbitMQ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#116-%E9%80%9A%E8%BF%87-Spring-Cloud-Stream-%E8%AE%BF%E9%97%AE-Kafka"><span class="nav-number">1.15.3.</span> <span class="nav-text">116 | 通过 Spring Cloud Stream 访问 Kafka</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#117-SpringBucks-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E5%B0%8F%E7%BB%93"><span class="nav-number">1.15.4.</span> <span class="nav-text">117 | SpringBucks 实战项目进度小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E5%85%AD%E7%AB%A0%EF%BC%9A%E6%9C%8D%E5%8A%A1%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA-6-%E8%AE%B2"><span class="nav-number">1.16.</span> <span class="nav-text">第十六章：服务链路追踪 (6 讲)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#118-%E9%80%9A%E8%BF%87-Dapper-%E7%90%86%E8%A7%A3%E9%93%BE%E8%B7%AF%E6%B2%BB%E7%90%86"><span class="nav-number">1.16.1.</span> <span class="nav-text">118 | 通过 Dapper 理解链路治理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#119-%E4%BD%BF%E7%94%A8-Spring-Cloud-Sleuth-%E5%AE%9E%E7%8E%B0%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA"><span class="nav-number">1.16.2.</span> <span class="nav-text">119 | 使用 Spring Cloud Sleuth 实现链路追踪</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#120-%E5%A6%82%E4%BD%95%E8%BF%BD%E8%B8%AA%E6%B6%88%E6%81%AF%E9%93%BE%E8%B7%AF"><span class="nav-number">1.16.3.</span> <span class="nav-text">120 | 如何追踪消息链路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#121-%E9%99%A4%E4%BA%86%E9%93%BE%E8%B7%AF%E8%BF%98%E8%A6%81%E6%B2%BB%E7%90%86%E4%BB%80%E4%B9%88"><span class="nav-number">1.16.4.</span> <span class="nav-text">121 | 除了链路还要治理什么</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#122-SpringBucks-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E5%B0%8F%E7%BB%93"><span class="nav-number">1.16.5.</span> <span class="nav-text">122 | SpringBucks 实战项目进度小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">1.17.</span> <span class="nav-text">参考资料</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="钝悟 ◾ Dunwu"
      src="/blog/uploads/avatar.gif">
  <p class="site-author-name" itemprop="name">钝悟 ◾ Dunwu</p>
  <div class="site-description" itemprop="description">钝悟的个人博客</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/blog/archives/">
          <span class="site-state-item-count">508</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/blog/categories/">
        <span class="site-state-item-count">124</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/blog/tags/">
        <span class="site-state-item-count">428</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/dunwu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;dunwu" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:forbreak@163.com" title="E-Mail → mailto:forbreak@163.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/pages/ede171bb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="钝悟 ◾ Dunwu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunwu Blog">
      <meta itemprop="description" content="钝悟的个人博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="《极客时间教程 - 玩转 Spring 全家桶》笔记 | Dunwu Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          《极客时间教程 - 玩转 Spring 全家桶》笔记<a href="https://github.com/dunwu/blog/blob/master/source/_posts/00.%E7%AC%94%E8%AE%B0/01.Java/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4%E6%95%99%E7%A8%8B-%E7%8E%A9%E8%BD%ACSpring%E5%85%A8%E5%AE%B6%E6%A1%B6%E7%AC%94%E8%AE%B0.md" class="post-edit-link" title="编辑" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a>
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-07-29 15:25:09" itemprop="dateCreated datePublished" datetime="2023-07-29T15:25:09+08:00">2023-07-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-09-13 17:56:53" itemprop="dateModified" datetime="2025-09-13T17:56:53+08:00">2025-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E7%AC%94%E8%AE%B0/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>32k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>29 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="《极客时间教程-玩转-Spring-全家桶》笔记"><a href="#《极客时间教程-玩转-Spring-全家桶》笔记" class="headerlink" title="《极客时间教程 - 玩转 Spring 全家桶》笔记"></a>《极客时间教程 - 玩转 Spring 全家桶》笔记</h1><h2 id="第一章：初识-Spring-4-讲"><a href="#第一章：初识-Spring-4-讲" class="headerlink" title="第一章：初识 Spring (4 讲)"></a>第一章：初识 Spring (4 讲)</h2><h3 id="01-Spring-课程介绍"><a href="#01-Spring-课程介绍" class="headerlink" title="01 | Spring 课程介绍"></a>01 | Spring 课程介绍</h3><h3 id="02-一起认识-Spring-家族的主要成员"><a href="#02-一起认识-Spring-家族的主要成员" class="headerlink" title="02 | 一起认识 Spring 家族的主要成员"></a>02 | 一起认识 Spring 家族的主要成员</h3><p>Spring Framework - 用于构建企业级应用的轻量级一站式解决方案</p>
<p>Spring Boot - 快速构建基于 Spring 的应用程序</p>
<p>Spring Cloud - 简化分布式系统的开发</p>
<h3 id="03-跟着-Spring-了解技术趋势"><a href="#03-跟着-Spring-了解技术趋势" class="headerlink" title="03 | 跟着 Spring 了解技术趋势"></a>03 | 跟着 Spring 了解技术趋势</h3><p>略</p>
<h3 id="04-编写你的第一个-Spring-程序"><a href="#04-编写你的第一个-Spring-程序" class="headerlink" title="04 | 编写你的第一个 Spring 程序"></a>04 | 编写你的第一个 Spring 程序</h3><p>略</p>
<h2 id="第二章：JDBC-必知必会-10-讲"><a href="#第二章：JDBC-必知必会-10-讲" class="headerlink" title="第二章：JDBC 必知必会 (10 讲)"></a>第二章：JDBC 必知必会 (10 讲)</h2><h3 id="05-如何配置单数据源"><a href="#05-如何配置单数据源" class="headerlink" title="05 | 如何配置单数据源"></a>05 | 如何配置单数据源</h3><h4 id="直接配置所需的-Bean"><a href="#直接配置所需的-Bean" class="headerlink" title="直接配置所需的 Bean"></a>直接配置所需的 Bean</h4><p>数据源相关</p>
<ul>
<li>DataSource（根据选择的连接池实现决定）</li>
</ul>
<p>事务相关（可选）</p>
<ul>
<li>PlatformTransactionManager（DataSourceTransactionManager）</li>
<li>TransactionTemplate</li>
</ul>
<p>操作相关（可选）</p>
<ul>
<li>JdbcTemplate</li>
</ul>
<h4 id="Spring-Boot-做了哪些配置"><a href="#Spring-Boot-做了哪些配置" class="headerlink" title="Spring Boot 做了哪些配置"></a>Spring Boot 做了哪些配置</h4><p>DataSourceAutoConfiguration</p>
<ul>
<li>配置 DataSource</li>
</ul>
<p>DataSourceTransactionManagerAutoConfiguration</p>
<ul>
<li>配置 DataSourceTransactionManager</li>
</ul>
<p>JdbcTemplateAutoConfiguration</p>
<ul>
<li>配置 JdbcTemplate</li>
</ul>
<p>符合条件时才进行配置</p>
<h4 id="数据源相关配置属性"><a href="#数据源相关配置属性" class="headerlink" title="数据源相关配置属性"></a>数据源相关配置属性</h4><p>通用</p>
<ul>
<li><code>spring.datasource.url=jdbc:mysql://localhost/test</code></li>
<li><code>spring.datasource.username=dbuser</code></li>
<li><code>spring.datasource.password=dbpass</code></li>
<li><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver</code>（可选）</li>
</ul>
<p>初始化内嵌数据库</p>
<ul>
<li><code>spring.datasource.initialization-mode=embedded|always|never</code></li>
<li>spring.datasource.schema 与 spring.datasource.data 确定初始化 SQL ⽂文件</li>
<li><code>spring.datasource.platform=hsqldb | h2 | oracle | mysql | postgresql</code>（与前者对应）</li>
</ul>
<h3 id="06-如何配置多数据源"><a href="#06-如何配置多数据源" class="headerlink" title="06 | 如何配置多数据源"></a>06 | 如何配置多数据源</h3><h4 id="配置多数据源的注意事项"><a href="#配置多数据源的注意事项" class="headerlink" title="配置多数据源的注意事项"></a>配置多数据源的注意事项</h4><p>不同数据源的配置要分开</p>
<p>关注每次使用的数据源</p>
<ul>
<li>有多个 DataSource 时系统如何判断</li>
<li>对应的设施（事务、ORM 等）如何选择 DataSource</li>
</ul>
<h4 id="Spring-Boot-中的多数据源配置"><a href="#Spring-Boot-中的多数据源配置" class="headerlink" title="Spring Boot 中的多数据源配置"></a>Spring Boot 中的多数据源配置</h4><p>手工配置两组 DataSource 及相关内容</p>
<p>与 Spring Boot 协同工作（二选一）</p>
<ul>
<li>配置@Primary 类型的 Bean</li>
<li>排除 Spring Boot 的自动配置</li>
<li>DataSourceAutoConfiguration</li>
<li>DataSourceTransactionManagerAutoConfiguration</li>
<li>JdbcTemplateAutoConfiguration</li>
</ul>
<h3 id="07-那些好用的连接池们：HikariCP"><a href="#07-那些好用的连接池们：HikariCP" class="headerlink" title="07 | 那些好用的连接池们：HikariCP"></a>07 | 那些好用的连接池们：HikariCP</h3><h4 id="在-Spring-Boot-中的配置"><a href="#在-Spring-Boot-中的配置" class="headerlink" title="在 Spring Boot 中的配置"></a>在 Spring Boot 中的配置</h4><p>Spring Boot 2.x</p>
<ul>
<li>默认使用 HikariCP</li>
<li>配置 spring.datasource.hikari.* 配置</li>
</ul>
<p>Spring Boot 1.x</p>
<ul>
<li>默认使用 Tomcat 连接池，需要移除 tomcat-jdbc 依赖</li>
<li>spring.datasource.type&#x3D;com.zaxxer.hikari.HikariDataSource</li>
</ul>
<h4 id="常用-HikariCP-配置参数"><a href="#常用-HikariCP-配置参数" class="headerlink" title="常用 HikariCP 配置参数"></a>常用 HikariCP 配置参数</h4><p>常用配置</p>
<ul>
<li>spring.datasource.hikari.maximumPoolSize&#x3D;10</li>
<li>spring.datasource.hikari.minimumIdle&#x3D;10</li>
<li>spring.datasource.hikari.idleTimeout&#x3D;600000</li>
<li>spring.datasource.hikari.connectionTimeout&#x3D;30000</li>
<li>spring.datasource.hikari.maxLifetime&#x3D;1800000</li>
</ul>
<p>其他配置详见 HikariCP 官网</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/brettwooldridge/HikariCP">https://github.com/brettwooldridge/HikariCP</a></li>
</ul>
<h3 id="08-那些好用的连接池们：Alibaba-Druid"><a href="#08-那些好用的连接池们：Alibaba-Druid" class="headerlink" title="08 | 那些好用的连接池们：Alibaba Druid"></a>08 | 那些好用的连接池们：Alibaba Druid</h3><h4 id="数据源配置"><a href="#数据源配置" class="headerlink" title="数据源配置"></a>数据源配置</h4><p>直接配置 DruidDataSource</p>
<p>通过 druid-spring-boot-starter</p>
<ul>
<li><code>spring.datasource.druid.*</code></li>
</ul>
<p>Filter 配置</p>
<ul>
<li>spring.datasource.druid.filters&#x3D;stat,config,wall,log4j （全部使用默认值）</li>
</ul>
<p>密码加密</p>
<ul>
<li><code>spring.datasource.password=&lt;加密密码&gt;</code></li>
<li><code>spring.datasource.druid.filter.config.enabled=true</code></li>
<li><code>spring.datasource.druid.connection-properties=config.decrypt=true;config.decrypt.key=&lt;public-key&gt;</code></li>
</ul>
<p>SQL 防注入</p>
<ul>
<li><code>spring.datasource.druid.filter.wall.enabled=true</code></li>
<li><code>spring.datasource.druid.filter.wall.db-type=h2</code></li>
<li><code>spring.datasource.druid.filter.wall.config.delete-allow=false</code></li>
<li><code>spring.datasource.druid.filter.wall.config.drop-table-allow=false</code></li>
</ul>
<h4 id="Druid-Filter"><a href="#Druid-Filter" class="headerlink" title="Druid Filter"></a>Druid Filter</h4><ul>
<li>用于定制连接池操作的各种环节</li>
<li>可以继承 FilterEventAdapter 以便方便地实现 Filter</li>
<li>修改 META-INF&#x2F;druid-filter.properties 增加 Filter 配置</li>
</ul>
<h3 id="09-如何通过-Spring-JDBC-访问数据库"><a href="#09-如何通过-Spring-JDBC-访问数据库" class="headerlink" title="09 | 如何通过 Spring JDBC 访问数据库"></a>09 | 如何通过 Spring JDBC 访问数据库</h3><h4 id="Spring-的-JDBC-操作类"><a href="#Spring-的-JDBC-操作类" class="headerlink" title="Spring 的 JDBC 操作类"></a>Spring 的 JDBC 操作类</h4><p>spring-jdbc</p>
<ul>
<li>core，JdbcTemplate 等相关核心接口和类</li>
<li>datasource，数据源相关的辅助类</li>
<li>object，将基本的 JDBC 操作封装成对象</li>
<li>support，错误码等其他辅助工具</li>
</ul>
<h4 id="常用的-Bean-注解"><a href="#常用的-Bean-注解" class="headerlink" title="常用的 Bean 注解"></a>常用的 Bean 注解</h4><p>通过注解定义 Bean</p>
<ul>
<li><code>@Component</code></li>
<li><code>@Repository</code></li>
<li><code>@Service</code></li>
<li><code>@Controller</code></li>
<li><code>@RestController</code></li>
</ul>
<h4 id="简单的-JDBC-操作"><a href="#简单的-JDBC-操作" class="headerlink" title="简单的 JDBC 操作"></a>简单的 JDBC 操作</h4><p><code>JdbcTemplate</code></p>
<ul>
<li><code>query</code></li>
<li><code>queryForObject</code></li>
<li><code>queryForList</code></li>
<li><code>update</code></li>
<li><code>execute</code></li>
</ul>
<h4 id="SQL-批处理"><a href="#SQL-批处理" class="headerlink" title="SQL 批处理"></a>SQL 批处理</h4><p><code>JdbcTemplate</code></p>
<ul>
<li><code>batchUpdate</code></li>
<li><code>BatchPreparedStatementSetter</code></li>
</ul>
<p><code>NamedParameterJdbcTemplate</code></p>
<ul>
<li><code>batchUpdate</code></li>
<li><code>SqlParameterSourceUtils.createBatch</code></li>
</ul>
<h3 id="10-什么是-Spring-的事务抽象（上）"><a href="#10-什么是-Spring-的事务抽象（上）" class="headerlink" title="10 | 什么是 Spring 的事务抽象（上）"></a>10 | 什么是 Spring 的事务抽象（上）</h3><h3 id="11-什么是-Spring-的事务抽象（下）"><a href="#11-什么是-Spring-的事务抽象（下）" class="headerlink" title="11 | 什么是 Spring 的事务抽象（下）"></a>11 | 什么是 Spring 的事务抽象（下）</h3><h4 id="Spring-的事务抽象"><a href="#Spring-的事务抽象" class="headerlink" title="Spring 的事务抽象"></a>Spring 的事务抽象</h4><p>一致的事务模型</p>
<ul>
<li>JDBC&#x2F;Hibernate&#x2F;myBatis</li>
<li>DataSource&#x2F;JTA</li>
</ul>
<h4 id="事务抽象的核心接口"><a href="#事务抽象的核心接口" class="headerlink" title="事务抽象的核心接口"></a>事务抽象的核心接口</h4><p>PlatformTransactionManager</p>
<ul>
<li>DataSourceTransactionManager</li>
<li>HibernateTransactionManager</li>
<li>JtaTransactionManager</li>
</ul>
<p>TransactionDefinition</p>
<ul>
<li>Propagation</li>
<li>Isolation</li>
<li>Timeout</li>
<li>Read-only status</li>
</ul>
<h4 id="事务传播特性"><a href="#事务传播特性" class="headerlink" title="事务传播特性"></a>事务传播特性</h4><table>
<thead>
<tr>
<th>传播性</th>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>PROPAGATION_REQUIRED</td>
<td>0</td>
<td>当前有事务就用当前的，没有就用新的</td>
</tr>
<tr>
<td>PROPAGATION_SUPPORTS</td>
<td>1</td>
<td>事务可有可无，不是必须的</td>
</tr>
<tr>
<td>PROPAGATION_MANDATORY</td>
<td>2</td>
<td>当前一定要有事务，不然就抛异常</td>
</tr>
<tr>
<td>PROPAGATION_REQUIRES_NEW</td>
<td>3</td>
<td>无论是否有事务，都起个新的事务</td>
</tr>
<tr>
<td>PROPAGATION_NOT_SUPPORTED</td>
<td>4</td>
<td>不支持事务，按非事务方式运行</td>
</tr>
<tr>
<td>PROPAGATION_NEVER</td>
<td>5</td>
<td>不支持事务，如果有事务则抛异常</td>
</tr>
<tr>
<td>PROPAGATION_NESTED</td>
<td>6</td>
<td>当前有事务就在当前事务里再起一个事务</td>
</tr>
</tbody></table>
<h4 id="事务隔离特性"><a href="#事务隔离特性" class="headerlink" title="事务隔离特性"></a>事务隔离特性</h4><table>
<thead>
<tr>
<th>隔离性</th>
<th>值</th>
<th>脏读</th>
<th>不可重复读</th>
<th>幻读</th>
</tr>
</thead>
<tbody><tr>
<td>ISOLATION_READ_UNCOMMITTED</td>
<td>1</td>
<td>✔️️️</td>
<td>✔️️️</td>
<td>✔️️️</td>
</tr>
<tr>
<td>ISOLATION_READ_COMMITTED</td>
<td>2</td>
<td>❌</td>
<td>✔️️️</td>
<td>✔️️️</td>
</tr>
<tr>
<td>ISOLATION_REPEATABLE_READ</td>
<td>3</td>
<td>❌</td>
<td>❌</td>
<td>✔️️️</td>
</tr>
<tr>
<td>ISOLATION_SERIALIZABLE</td>
<td>4</td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
</tr>
</tbody></table>
<h4 id="编程式事务"><a href="#编程式事务" class="headerlink" title="编程式事务"></a>编程式事务</h4><p>TransactionTemplate</p>
<ul>
<li>TransactionCallback</li>
<li>TransactionCallbackWithoutResult</li>
</ul>
<p>PlatformTransactionManager</p>
<ul>
<li>可以传入 TransactionDefinition 进行定义</li>
</ul>
<h4 id="声明式事务"><a href="#声明式事务" class="headerlink" title="声明式事务"></a>声明式事务</h4><p>开启事务注解的方式</p>
<ul>
<li><code>@EnableTransactionManagement</code></li>
<li><code>&lt;tx:annotation-driven/&gt;</code></li>
</ul>
<p>一些配置</p>
<ul>
<li><code>proxyTargetClass</code></li>
<li><code>mode</code></li>
<li><code>order</code></li>
</ul>
<p><code>@Transactional</code></p>
<ul>
<li><code>transactionManager</code></li>
<li><code>propagation</code></li>
<li><code>isolation</code></li>
<li><code>timeout</code></li>
<li><code>readOnly</code></li>
<li>怎么判断回滚</li>
</ul>
<h3 id="12-了解-Spring-的-JDBC-异常抽象"><a href="#12-了解-Spring-的-JDBC-异常抽象" class="headerlink" title="12 | 了解 Spring 的 JDBC 异常抽象"></a>12 | 了解 Spring 的 JDBC 异常抽象</h3><h4 id="Spring-的-JDBC-异常抽象"><a href="#Spring-的-JDBC-异常抽象" class="headerlink" title="Spring 的 JDBC 异常抽象"></a>Spring 的 JDBC 异常抽象</h4><p>Spring 会将数据操作的异常转换为 DataAccessException</p>
<p>无论使用何种数据访问方式，都能使用一样的异常</p>
<h4 id="Spring-是怎么认识那些错误码的"><a href="#Spring-是怎么认识那些错误码的" class="headerlink" title="Spring 是怎么认识那些错误码的"></a>Spring 是怎么认识那些错误码的</h4><p>通过 SQLErrorCodeSQLExceptionTranslator 解析错误码</p>
<p>ErrorCode 定义</p>
<ul>
<li>org&#x2F;springframework&#x2F;jdbc&#x2F;support&#x2F;sql-error-codes.xml</li>
<li>Classpath 下的 sql-error-codes.xml</li>
</ul>
<h3 id="13-课程答疑（上）"><a href="#13-课程答疑（上）" class="headerlink" title="13 | 课程答疑（上）"></a>13 | 课程答疑（上）</h3><p>略</p>
<h3 id="14-课程答疑（下）"><a href="#14-课程答疑（下）" class="headerlink" title="14 | 课程答疑（下）"></a>14 | 课程答疑（下）</h3><p>略</p>
<h2 id="第三章：O-R-Mapping-实践-9-讲"><a href="#第三章：O-R-Mapping-实践-9-讲" class="headerlink" title="第三章：O&#x2F;R Mapping 实践 (9 讲)"></a>第三章：O&#x2F;R Mapping 实践 (9 讲)</h2><h3 id="15-认识-Spring-Data-JPA"><a href="#15-认识-Spring-Data-JPA" class="headerlink" title="15 | 认识 Spring Data JPA"></a>15 | 认识 Spring Data JPA</h3><h4 id="Java-Persistence-API"><a href="#Java-Persistence-API" class="headerlink" title="Java Persistence API"></a>Java Persistence API</h4><p>JPA 为对象关系映射提供了一种基于 POJO 的持久化模型</p>
<ul>
<li>简化数据持久化代码的开发工作</li>
<li>为 Java 社区屏蔽不同持久化 API 的差异</li>
</ul>
<h4 id="Spring-Data"><a href="#Spring-Data" class="headerlink" title="Spring Data"></a>Spring Data</h4><p>在保留底层存储特性的同时，提供相对一致的、基于 Spring 的编程模型</p>
<p>主要模块</p>
<ul>
<li>Spring Data Commons</li>
<li>Spring Data JDBC</li>
<li>Spring Data JPA</li>
<li>Spring Data Redis</li>
<li>……</li>
</ul>
<h3 id="16-定义-JPA-的实体对象"><a href="#16-定义-JPA-的实体对象" class="headerlink" title="16 | 定义 JPA 的实体对象"></a>16 | 定义 JPA 的实体对象</h3><h4 id="常用-JPA-注解"><a href="#常用-JPA-注解" class="headerlink" title="常用 JPA 注解"></a>常用 JPA 注解</h4><p>实体</p>
<ul>
<li>@Entity、@MappedSuperclass</li>
<li>@Table(name)</li>
</ul>
<p>主键</p>
<ul>
<li>@Id</li>
<li>@GeneratedValue(strategy, generator)</li>
<li>@SequenceGenerator(name, sequenceName)</li>
</ul>
<p>映射</p>
<ul>
<li>@Column(name, nullable, length, insertable, updatable)</li>
<li>@JoinTable(name)、@JoinColumn(name)</li>
</ul>
<p>关系</p>
<ul>
<li>@OneToOne、@OneToMany、@ManyToOne、@ManyToMany</li>
<li>@OrderBy</li>
</ul>
<h4 id="Lombok"><a href="#Lombok" class="headerlink" title="Lombok"></a>Lombok</h4><p>Project Lombok 能够自动嵌入 IDE 和构建工具，提升开发效率</p>
<p>常用功能</p>
<ul>
<li>@Getter &#x2F; @Setter</li>
<li>@ToString</li>
<li>@NoArgsConstructor &#x2F; @RequiredArgsConstructor &#x2F; @AllArgsConstructor</li>
<li>@Data</li>
<li>@Builder</li>
<li>@Slf4j &#x2F; @CommonsLog &#x2F; @Log4j2</li>
</ul>
<h3 id="17-开始我们的线上咖啡馆实战项目：SpringBucks"><a href="#17-开始我们的线上咖啡馆实战项目：SpringBucks" class="headerlink" title="17 | 开始我们的线上咖啡馆实战项目：SpringBucks"></a>17 | 开始我们的线上咖啡馆实战项目：SpringBucks</h3><p>略</p>
<h3 id="18-通过-Spring-Data-JPA-操作数据库"><a href="#18-通过-Spring-Data-JPA-操作数据库" class="headerlink" title="18 | 通过 Spring Data JPA 操作数据库"></a>18 | 通过 Spring Data JPA 操作数据库</h3><h4 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h4><p>@EnableJpaRepositories</p>
<p>Repository&lt;T, ID&gt; 接口</p>
<ul>
<li>CrudRepository&lt;T, ID&gt;</li>
<li>PagingAndSortingRepository&lt;T, ID&gt;</li>
<li>JpaRepository&lt;T, ID&gt;</li>
</ul>
<h4 id="定义查询"><a href="#定义查询" class="headerlink" title="定义查询"></a>定义查询</h4><p>根据方法名定义查询</p>
<ul>
<li><code>find…By… / read…By… / query…By… / get…By…</code></li>
<li><code>count…By…</code></li>
<li><code>…OrderBy…[Asc / Desc]</code></li>
<li><code>And / Or / IgnoreCase</code></li>
<li><code>Top / First / Distinct</code></li>
</ul>
<h4 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h4><ul>
<li><code>PagingAndSortingRepository&lt;T, ID&gt;</code></li>
<li><code>Pageable / Sort</code></li>
<li><code>Slice&lt;T&gt; / Page&lt;T&gt;</code></li>
</ul>
<h3 id="19-Spring-Data-JPA-的-Repository-是怎么从接口变成-Bean-的"><a href="#19-Spring-Data-JPA-的-Repository-是怎么从接口变成-Bean-的" class="headerlink" title="19 | Spring Data JPA 的 Repository 是怎么从接口变成 Bean 的"></a>19 | Spring Data JPA 的 Repository 是怎么从接口变成 Bean 的</h3><h4 id="Repository-Bean-是如何创建的"><a href="#Repository-Bean-是如何创建的" class="headerlink" title="Repository Bean 是如何创建的"></a>Repository Bean 是如何创建的</h4><p>JpaRepositoriesRegistrar</p>
<ul>
<li>激活了 @EnableJpaRepositories</li>
<li>返回了 JpaRepositoryConfigExtension</li>
</ul>
<p>RepositoryBeanDefinitionRegistrarSupport.registerBeanDefinitions</p>
<ul>
<li>注册 Repository Bean（类型是 JpaRepositoryFactoryBean）</li>
</ul>
<p>RepositoryConfigurationExtensionSupport.getRepositoryConfigurations</p>
<ul>
<li>取得 Repository 配置</li>
</ul>
<p>JpaRepositoryFactory.getTargetRepository</p>
<ul>
<li>创建了 Repository</li>
</ul>
<h4 id="接口中的方法是如何被解释的"><a href="#接口中的方法是如何被解释的" class="headerlink" title="接口中的方法是如何被解释的"></a>接口中的方法是如何被解释的</h4><p>RepositoryFactorySupport.getRepository 添加了 Advice</p>
<ul>
<li>DefaultMethodInvokingMethodInterceptor</li>
<li>QueryExecutorMethodInterceptor</li>
</ul>
<p>AbstractJpaQuery.execute 执行具体的查询</p>
<p>语法解析在 Part 中</p>
<h3 id="20-通过-MyBatis-操作数据库"><a href="#20-通过-MyBatis-操作数据库" class="headerlink" title="20 | 通过 MyBatis 操作数据库"></a>20 | 通过 MyBatis 操作数据库</h3><p>在 Spring 中使用 MyBatis</p>
<ul>
<li>MyBatis Spring Adapter（<a target="_blank" rel="noopener" href="https://github.com/mybatis/spring%EF%BC%89">https://github.com/mybatis/spring）</a></li>
<li>MyBatis Spring-Boot-Starter（<a target="_blank" rel="noopener" href="https://github.com/mybatis/spring-boot-starter%EF%BC%89">https://github.com/mybatis/spring-boot-starter）</a></li>
</ul>
<p>简单配置</p>
<ul>
<li>mybatis.mapper-locations &#x3D; classpath*:mapper&#x2F;**&#x2F;*.xml</li>
<li>mybatis.type-aliases-package &#x3D; 类型别名的包名</li>
<li>mybatis.type-handlers-package &#x3D; TypeHandler 扫描包名</li>
<li>mybatis.configuration.map-underscore-to-camel-case &#x3D; true</li>
</ul>
<p>Mapper 的定义与扫描</p>
<ul>
<li>@MapperScan 配置扫描位置</li>
<li>@Mapper 定义接口</li>
<li>映射的定义—— XML 与注解</li>
</ul>
<h3 id="21-让-MyBatis-更好用的那些工具：MyBatis-Generator"><a href="#21-让-MyBatis-更好用的那些工具：MyBatis-Generator" class="headerlink" title="21 | 让 MyBatis 更好用的那些工具：MyBatis Generator"></a>21 | 让 MyBatis 更好用的那些工具：MyBatis Generator</h3><p>MyBatis Generator（<a target="_blank" rel="noopener" href="http://www.mybatis.org/generator/%EF%BC%89">http://www.mybatis.org/generator/）</a></p>
<h3 id="22-让-MyBatis-更好用的那些工具：MyBatis-PageHelper"><a href="#22-让-MyBatis-更好用的那些工具：MyBatis-PageHelper" class="headerlink" title="22 | 让 MyBatis 更好用的那些工具：MyBatis PageHelper"></a>22 | 让 MyBatis 更好用的那些工具：MyBatis PageHelper</h3><p>MyBatis PageHepler（<a target="_blank" rel="noopener" href="https://pagehelper.github.io)/">https://pagehelper.github.io）</a></p>
<h3 id="23-SpringBucks-实战项目进度小结"><a href="#23-SpringBucks-实战项目进度小结" class="headerlink" title="23 | SpringBucks 实战项目进度小结"></a>23 | SpringBucks 实战项目进度小结</h3><p>略</p>
<h2 id="第四章：NoSQL-实践-7-讲"><a href="#第四章：NoSQL-实践-7-讲" class="headerlink" title="第四章：NoSQL 实践 (7 讲)"></a>第四章：NoSQL 实践 (7 讲)</h2><h3 id="24-通过-Docker-辅助开发"><a href="#24-通过-Docker-辅助开发" class="headerlink" title="24 | 通过 Docker 辅助开发"></a>24 | 通过 Docker 辅助开发</h3><h4 id="Docker-常用命令"><a href="#Docker-常用命令" class="headerlink" title="Docker 常用命令"></a>Docker 常用命令</h4><p>镜像相关</p>
<ul>
<li><code>docker pull &lt;image&gt;</code></li>
<li><code>docker search &lt;image&gt;</code></li>
</ul>
<p>容器相关</p>
<ul>
<li><code>docker run</code></li>
<li><code>docker start/stop &lt;容器名&gt;</code></li>
<li><code>docker ps &lt;容器名&gt;</code></li>
<li><code>docker logs &lt;容器名&gt;</code></li>
</ul>
<h4 id="docker-run-的常用选项"><a href="#docker-run-的常用选项" class="headerlink" title="docker run 的常用选项"></a>docker run 的常用选项</h4><p><code>docker run [OPTIONS] IMAGE [COMMAND] [ARG…]</code></p>
<p>选项说明</p>
<ul>
<li>-d，后台运行容器</li>
<li>-e，设置环境变量</li>
<li>–expose &#x2F; -p 宿主端口:容器端口</li>
<li>–name，指定容器名称</li>
<li>–link，链接不同容器</li>
<li>-v 宿主目录:容器目录，挂载磁盘卷</li>
</ul>
<h4 id="国内-Docker-镜像配置"><a href="#国内-Docker-镜像配置" class="headerlink" title="国内 Docker 镜像配置"></a>国内 Docker 镜像配置</h4><p>官方 Docker Hub</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://hub.docker.com/">https://hub.docker.com</a></li>
</ul>
<p>官方镜像</p>
<ul>
<li>镜像 <a target="_blank" rel="noopener" href="https://www.docker-cn.com/registry-mirror">https://www.docker-cn.com/registry-mirror</a></li>
<li>下载 <a target="_blank" rel="noopener" href="https://www.docker-cn.com/get-docker">https://www.docker-cn.com/get-docker</a></li>
</ul>
<p>阿里云镜像</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://dev.aliyun.com/">https://dev.aliyun.com</a></li>
</ul>
<h3 id="25-在-Spring-中访问-MongoDB"><a href="#25-在-Spring-中访问-MongoDB" class="headerlink" title="25 | 在 Spring 中访问 MongoDB"></a>25 | 在 Spring 中访问 MongoDB</h3><h4 id="Spring-对-MongoDB-的支持"><a href="#Spring-对-MongoDB-的支持" class="headerlink" title="Spring 对 MongoDB 的支持"></a>Spring 对 MongoDB 的支持</h4><ul>
<li>Spring Data MongoDB<ul>
<li>MongoTemplate</li>
<li>Repository 支持</li>
</ul>
</li>
</ul>
<h4 id="Spring-Data-MongoDB-的基本用法"><a href="#Spring-Data-MongoDB-的基本用法" class="headerlink" title="Spring Data MongoDB 的基本用法"></a>Spring Data MongoDB 的基本用法</h4><p>注解</p>
<ul>
<li>@Document</li>
<li>@Id</li>
</ul>
<p>MongoTemplate</p>
<ul>
<li>save &#x2F; remove</li>
<li>Criteria &#x2F; Query &#x2F; Update</li>
</ul>
<h4 id="Spring-Data-MongoDB-的-Repository"><a href="#Spring-Data-MongoDB-的-Repository" class="headerlink" title="Spring Data MongoDB 的 Repository"></a>Spring Data MongoDB 的 Repository</h4><p><code>@EnableMongoRepositories</code></p>
<p>对应接口</p>
<ul>
<li><code>MongoRepository&lt;T, ID&gt;</code></li>
<li><code>PagingAndSortingRepository&lt;T, ID&gt;</code></li>
<li><code>CrudRepository&lt;T, ID&gt;</code></li>
</ul>
<h3 id="26-在-Spring-中访问-Redis"><a href="#26-在-Spring-中访问-Redis" class="headerlink" title="26 | 在 Spring 中访问 Redis"></a>26 | 在 Spring 中访问 Redis</h3><h4 id="Spring-对-Redis-的支持"><a href="#Spring-对-Redis-的支持" class="headerlink" title="Spring 对 Redis 的支持"></a>Spring 对 Redis 的支持</h4><ul>
<li>Spring Data Redis<ul>
<li>支持的客户端 Jedis &#x2F; Lettuce</li>
<li>RedisTemplate</li>
<li>Repository 支持</li>
</ul>
</li>
</ul>
<h4 id="Jedis-客户端的简单使用"><a href="#Jedis-客户端的简单使用" class="headerlink" title="Jedis 客户端的简单使用"></a>Jedis 客户端的简单使用</h4><ul>
<li>Jedis 不是线程安全的</li>
<li>通过 JedisPool 获得 Jedis 实例</li>
<li>直接使用 Jedis 中的方法</li>
</ul>
<h3 id="27-Redis-的哨兵与集群模式"><a href="#27-Redis-的哨兵与集群模式" class="headerlink" title="27 | Redis 的哨兵与集群模式"></a>27 | Redis 的哨兵与集群模式</h3><ul>
<li>JedisSentinelPool</li>
<li>JedisCluster</li>
</ul>
<h3 id="28-了解-Spring-的缓存抽象"><a href="#28-了解-Spring-的缓存抽象" class="headerlink" title="28 | 了解 Spring 的缓存抽象"></a>28 | 了解 Spring 的缓存抽象</h3><h4 id="Spring-的缓存抽象"><a href="#Spring-的缓存抽象" class="headerlink" title="Spring 的缓存抽象"></a>Spring 的缓存抽象</h4><p>为不同的缓存提供一层抽象</p>
<ul>
<li>为 Java 方法增加缓存，缓存执行结果</li>
<li>支持 ConcurrentMap、EhCache、Caffeine、JCache（JSR-107）</li>
<li>接口<ul>
<li><code>org.springframework.cache.Cache</code></li>
<li><code>org.springframework.cache.CacheManager</code></li>
</ul>
</li>
</ul>
<h4 id="基于注解的缓存"><a href="#基于注解的缓存" class="headerlink" title="基于注解的缓存"></a>基于注解的缓存</h4><p>@EnableCaching</p>
<ul>
<li>@Cacheable</li>
<li>@CacheEvict</li>
<li>@CachePut</li>
<li>@Caching</li>
<li>@CacheConfig</li>
</ul>
<h3 id="29-Redis-在-Spring-中的其他用法"><a href="#29-Redis-在-Spring-中的其他用法" class="headerlink" title="29 | Redis 在 Spring 中的其他用法"></a>29 | Redis 在 Spring 中的其他用法</h3><h4 id="与-Redis-建立连接"><a href="#与-Redis-建立连接" class="headerlink" title="与 Redis 建立连接"></a>与 Redis 建立连接</h4><p>配置连接工厂</p>
<ul>
<li>LettuceConnectionFactory 与 JedisConnectionFactory<ul>
<li>RedisStandaloneConfiguration</li>
<li>RedisSentinelConfiguration</li>
<li>RedisClusterConfiguration</li>
</ul>
</li>
</ul>
<h4 id="读写分离"><a href="#读写分离" class="headerlink" title="读写分离"></a>读写分离</h4><p>Lettuce 内置支持读写分离</p>
<ul>
<li>只读主、只读从</li>
<li>优先读主、优先读从</li>
</ul>
<p>LettuceClientConfiguration</p>
<p>LettucePoolingClientConfiguration</p>
<p>LettuceClientConfigurationBuilderCustomizer</p>
<h4 id="RedisTemplate"><a href="#RedisTemplate" class="headerlink" title="RedisTemplate"></a>RedisTemplate</h4><p>RedisTemplate&lt;K, V&gt;</p>
<ul>
<li>opsForXxx()</li>
</ul>
<p>StringRedisTemplate</p>
<h4 id="Redis-Repository"><a href="#Redis-Repository" class="headerlink" title="Redis Repository"></a>Redis Repository</h4><p>实体注解</p>
<ul>
<li>@RedisHash</li>
<li>@Id</li>
<li>@Indexed</li>
</ul>
<h4 id="处理不同类型数据源的-Repository"><a href="#处理不同类型数据源的-Repository" class="headerlink" title="处理不同类型数据源的 Repository"></a>处理不同类型数据源的 Repository</h4><p>如何区分这些 Repository</p>
<ul>
<li>根据实体的注解</li>
<li>根据继承的接口类型</li>
<li>扫描不同的包</li>
</ul>
<h3 id="30-SpringBucks-实战项目进度小结"><a href="#30-SpringBucks-实战项目进度小结" class="headerlink" title="30 | SpringBucks 实战项目进度小结"></a>30 | SpringBucks 实战项目进度小结</h3><p>略</p>
<h2 id="第五章：数据访问进阶-8-讲"><a href="#第五章：数据访问进阶-8-讲" class="headerlink" title="第五章：数据访问进阶 (8 讲)"></a>第五章：数据访问进阶 (8 讲)</h2><h3 id="31-Project-Reactor-介绍（上）"><a href="#31-Project-Reactor-介绍（上）" class="headerlink" title="31 | Project Reactor 介绍（上）"></a>31 | Project Reactor 介绍（上）</h3><h3 id="32-Project-Reactor-介绍（下）"><a href="#32-Project-Reactor-介绍（下）" class="headerlink" title="32 | Project Reactor 介绍（下）"></a>32 | Project Reactor 介绍（下）</h3><p>一些核心的概念</p>
<p>Operators - Publisher &#x2F; Subscriber</p>
<ul>
<li>Nothing Happens Until You subscribe()</li>
<li>Flux [ 0..N ] - onNext()、onComplete()、onError()</li>
<li>Mono [ 0..1 ] - onNext()、onComplete()、onError()</li>
</ul>
<p>Backpressure</p>
<ul>
<li>Subscription</li>
<li>onRequest()、onCancel()、onDispose()</li>
</ul>
<p>线程调度 Schedulers</p>
<ul>
<li>immediate() &#x2F; single() &#x2F; newSingle()</li>
<li>elastic() &#x2F; parallel() &#x2F; newParallel()</li>
</ul>
<p>错误处理</p>
<ul>
<li>onError &#x2F; onErrorReturn &#x2F; onErrorResume</li>
<li>doOnError &#x2F; doFinally</li>
</ul>
<h3 id="33-通过-Reactive-的方式访问-Redis"><a href="#33-通过-Reactive-的方式访问-Redis" class="headerlink" title="33 | 通过 Reactive 的方式访问 Redis"></a>33 | 通过 Reactive 的方式访问 Redis</h3><h4 id="Spring-Data-Redis"><a href="#Spring-Data-Redis" class="headerlink" title="Spring Data Redis"></a>Spring Data Redis</h4><p>Lettuce 能够支持 Reactive 方式</p>
<p>Spring Data Redis 中主要的支持</p>
<ul>
<li>ReactiveRedisConnection</li>
<li>ReactiveRedisConnectionFactory</li>
<li>ReactiveRedisTemplate</li>
<li>opsForXxx()</li>
</ul>
<h3 id="34-通过-Reactive-的方式访问-MongoDB"><a href="#34-通过-Reactive-的方式访问-MongoDB" class="headerlink" title="34 | 通过 Reactive 的方式访问 MongoDB"></a>34 | 通过 Reactive 的方式访问 MongoDB</h3><h4 id="Spring-Data-MongoDB"><a href="#Spring-Data-MongoDB" class="headerlink" title="Spring Data MongoDB"></a>Spring Data MongoDB</h4><p>MongoDB 官方提供了支持 Reactive 的驱动</p>
<ul>
<li>mongodb-driver-reactivestreams</li>
</ul>
<p>Spring Data MongoDB 中主要的支持</p>
<ul>
<li>ReactiveMongoClientFactoryBean</li>
<li>ReactiveMongoDatabaseFactory</li>
<li>ReactiveMongoTemplate</li>
</ul>
<h3 id="35-通过-Reactive-的方式访问-RDBMS"><a href="#35-通过-Reactive-的方式访问-RDBMS" class="headerlink" title="35 | 通过 Reactive 的方式访问 RDBMS"></a>35 | 通过 Reactive 的方式访问 RDBMS</h3><h4 id="Spring-Data-R2DBC"><a href="#Spring-Data-R2DBC" class="headerlink" title="Spring Data R2DBC"></a>Spring Data R2DBC</h4><p>R2DBC （<a target="_blank" rel="noopener" href="https://spring.io/projects/spring-data-r2dbc%EF%BC%89">https://spring.io/projects/spring-data-r2dbc）</a></p>
<ul>
<li>Reactive Relational Database Connectivity</li>
</ul>
<p>支持的数据库</p>
<ul>
<li>Postgres（io.r2dbc:r2dbc-postgresql）</li>
<li>H2（io.r2dbc:r2dbc-h2）</li>
<li>Microsoft SQL Server（io.r2dbc:r2dbc-mssql）</li>
</ul>
<p>一些主要的类</p>
<ul>
<li>ConnectionFactory</li>
<li>DatabaseClient<ul>
<li>execute().sql(SQL)</li>
<li>inTransaction(db -&gt; {})</li>
</ul>
</li>
<li>R2dbcExceptionTranslator<ul>
<li>SqlErrorCodeR2dbcExceptionTranslator</li>
</ul>
</li>
</ul>
<p>R2DBC Repository 支持</p>
<p>一些主要的类</p>
<ul>
<li>@EnableR2dbcRepositories</li>
<li>ReactiveCrudRepository&lt;T, ID&gt;</li>
<li>@Table &#x2F; @Id</li>
<li>其中的方法返回都是 Mono 或者 Flux</li>
<li>自定义查询需要自己写 @Query</li>
</ul>
<h3 id="36-通过-AOP-打印数据访问层的摘要（上）"><a href="#36-通过-AOP-打印数据访问层的摘要（上）" class="headerlink" title="36 | 通过 AOP 打印数据访问层的摘要（上）"></a>36 | 通过 AOP 打印数据访问层的摘要（上）</h3><h3 id="37-通过-AOP-打印数据访问层的摘要（下）"><a href="#37-通过-AOP-打印数据访问层的摘要（下）" class="headerlink" title="37 | 通过 AOP 打印数据访问层的摘要（下）"></a>37 | 通过 AOP 打印数据访问层的摘要（下）</h3><h4 id="Spring-AOP-的一些核心概念"><a href="#Spring-AOP-的一些核心概念" class="headerlink" title="Spring AOP 的一些核心概念"></a>Spring AOP 的一些核心概念</h4><table>
<thead>
<tr>
<th>概念</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>Aspect</td>
<td>切面</td>
</tr>
<tr>
<td>Join</td>
<td>Point 连接点，Spring AOP 里总是代表一次方法执行</td>
</tr>
<tr>
<td>Advice</td>
<td>通知，在连接点执行的动作</td>
</tr>
<tr>
<td>Pointcut</td>
<td>切入点，说明如何匹配连接点</td>
</tr>
<tr>
<td>Introduction</td>
<td>引入，为现有类型声明额外的方法和属性</td>
</tr>
<tr>
<td>Target</td>
<td>object 目标对象</td>
</tr>
<tr>
<td>AOP proxy</td>
<td>AOP 代理对象，可以是 JDK 动态代理，也可以是 CGLIB 代理</td>
</tr>
<tr>
<td>Weaving</td>
<td>织入，连接切面与目标对象或类型创建代理的过程</td>
</tr>
</tbody></table>
<h4 id="常用注解"><a href="#常用注解" class="headerlink" title="常用注解"></a>常用注解</h4><ul>
<li>@EnableAspectJAutoProxy</li>
<li>@Aspect</li>
<li>@Pointcut</li>
<li>@Before</li>
<li>@After &#x2F; @AfterReturning &#x2F; @AfterThrowing</li>
<li>@Around</li>
<li>@Order</li>
</ul>
<h4 id="如何打印-SQL"><a href="#如何打印-SQL" class="headerlink" title="如何打印 SQL"></a>如何打印 SQL</h4><p>HikariCP</p>
<ul>
<li>P6SQL，<a target="_blank" rel="noopener" href="https://github.com/p6spy/p6spy">https://github.com/p6spy/p6spy</a></li>
</ul>
<p>Alibaba Druid</p>
<ul>
<li>内置 SQL 输出</li>
<li><a target="_blank" rel="noopener" href="https://github.com/alibaba/druid/wiki/Druid%E4%B8%AD%E4%BD%BF%E2%BD%A4%E7%94%A8log4j2%E8%BF%9B%E2%BE%8F%E8%A1%8C%EF%A8%88%E2%BD%87%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA">https://github.com/alibaba/druid/wiki/Druid中使⽤用log4j2进⾏行行⽇日志输出</a></li>
</ul>
<h3 id="38-SpringBucks-实战项目进度小结"><a href="#38-SpringBucks-实战项目进度小结" class="headerlink" title="38 | SpringBucks 实战项目进度小结"></a>38 | SpringBucks 实战项目进度小结</h3><p>略</p>
<h2 id="第六章：Spring-MVC-实践-14-讲"><a href="#第六章：Spring-MVC-实践-14-讲" class="headerlink" title="第六章：Spring MVC 实践 (14 讲)"></a>第六章：Spring MVC 实践 (14 讲)</h2><h3 id="39-编写第一个-Spring-MVC-Controller"><a href="#39-编写第一个-Spring-MVC-Controller" class="headerlink" title="39 | 编写第一个 Spring MVC Controller"></a>39 | 编写第一个 Spring MVC Controller</h3><h3 id="认识-Spring-MVC"><a href="#认识-Spring-MVC" class="headerlink" title="认识 Spring MVC"></a>认识 Spring MVC</h3><p>DispatcherServlet</p>
<ul>
<li>Controller</li>
<li>xxxResolver</li>
<li>ViewResolver</li>
<li>HandlerExceptionResolver</li>
<li>MultipartResolver</li>
<li>HandlerMapping</li>
</ul>
<h3 id="Spring-MVC-中的常⽤用注解"><a href="#Spring-MVC-中的常⽤用注解" class="headerlink" title="Spring MVC 中的常⽤用注解"></a>Spring MVC 中的常⽤用注解</h3><ul>
<li>@Controller</li>
<li>@RestController</li>
<li>@RequestMapping</li>
<li>@GetMapping &#x2F; @PostMapping</li>
<li>@PutMapping &#x2F; @DeleteMapping</li>
<li>@RequestBody &#x2F; @ResponseBody &#x2F; @ResponseStatus</li>
</ul>
<h3 id="40-理解-Spring-的应用上下文"><a href="#40-理解-Spring-的应用上下文" class="headerlink" title="40 | 理解 Spring 的应用上下文"></a>40 | 理解 Spring 的应用上下文</h3><h3 id="Spring-的应用程序上下文"><a href="#Spring-的应用程序上下文" class="headerlink" title="Spring 的应用程序上下文"></a>Spring 的应用程序上下文</h3><p><strong>关于上下文常用的接口</strong></p>
<ul>
<li>BeanFactory</li>
<li>DefaultListableBeanFactory</li>
<li>ApplicationContext</li>
<li>ClassPathXmlApplicationContext</li>
<li>FileSystemXmlApplicationContext</li>
<li>AnnotationConfigApplicationContext</li>
<li>WebApplicationContext</li>
</ul>
<h3 id="41-理解请求的处理机制"><a href="#41-理解请求的处理机制" class="headerlink" title="41 | 理解请求的处理机制"></a>41 | 理解请求的处理机制</h3><p>一个请求的大致处理流程</p>
<p>绑定一些 Attribute</p>
<ul>
<li>WebApplicationContext &#x2F; LocaleResolver &#x2F; ThemeResolver</li>
</ul>
<p>处理 Multipart</p>
<ul>
<li>如果是，则将请求转为 MultipartHttpServletRequest</li>
</ul>
<p>Handler 处理</p>
<ul>
<li>如果找到对应 Handler，执行 Controller 及前后置处理器逻辑处理返回的 Model ，呈现视图</li>
</ul>
<h3 id="42-如何定义处理方法（上）"><a href="#42-如何定义处理方法（上）" class="headerlink" title="42 | 如何定义处理方法（上）"></a>42 | 如何定义处理方法（上）</h3><h3 id="定义映射关系"><a href="#定义映射关系" class="headerlink" title="定义映射关系"></a>定义映射关系</h3><p>@Controller</p>
<p>@RequestMapping</p>
<ul>
<li>path &#x2F; method 指定映射路路径与⽅方法</li>
<li>params &#x2F; headers 限定映射范围</li>
<li>consumes &#x2F; produces 限定请求与响应格式</li>
</ul>
<p>一些快捷方式</p>
<ul>
<li>@RestController</li>
<li>@GetMapping &#x2F; @PostMapping &#x2F; @PutMapping &#x2F; @DeleteMapping &#x2F; @PatchMapping</li>
</ul>
<h3 id="定义处理方法"><a href="#定义处理方法" class="headerlink" title="定义处理方法"></a>定义处理方法</h3><ul>
<li>@RequestBody &#x2F; @ResponseBody &#x2F; @ResponseStatus</li>
<li>@PathVariable &#x2F; @RequestParam &#x2F; @RequestHeader</li>
<li>HttpEntity &#x2F; ResponseEntity</li>
</ul>
<h3 id="定义类型转换"><a href="#定义类型转换" class="headerlink" title="定义类型转换"></a>定义类型转换</h3><p>自己实现 WebMvcConfigurer</p>
<ul>
<li>Spring Boot 在 WebMvcAutoConfiguration 中实现了一个</li>
<li>添加自定义的 Converter</li>
<li>添加自定义的 Formatter</li>
</ul>
<h3 id="定义校验"><a href="#定义校验" class="headerlink" title="定义校验"></a>定义校验</h3><ul>
<li>通过 Validator 对绑定结果进行校验<ul>
<li>Hibernate Validator</li>
</ul>
</li>
<li>@Valid 注解</li>
<li>BindingResult</li>
</ul>
<h3 id="Multipart-上传"><a href="#Multipart-上传" class="headerlink" title="Multipart 上传"></a>Multipart 上传</h3><ul>
<li>配置 MultipartResolver</li>
<li>Spring Boot 自动配置 MultipartAutoConfiguration</li>
<li>支持类型 multipart&#x2F;form-data</li>
<li>MultipartFile 类型</li>
</ul>
<h3 id="43-如何定义处理方法（下）"><a href="#43-如何定义处理方法（下）" class="headerlink" title="43 | 如何定义处理方法（下）"></a>43 | 如何定义处理方法（下）</h3><h3 id="44-Spring-MVC-中的视图解析机制（上）"><a href="#44-Spring-MVC-中的视图解析机制（上）" class="headerlink" title="44 | Spring MVC 中的视图解析机制（上）"></a>44 | Spring MVC 中的视图解析机制（上）</h3><h3 id="45-Spring-MVC-中的视图解析机制（下）"><a href="#45-Spring-MVC-中的视图解析机制（下）" class="headerlink" title="45 | Spring MVC 中的视图解析机制（下）"></a>45 | Spring MVC 中的视图解析机制（下）</h3><h4 id="视图解析的实现基础"><a href="#视图解析的实现基础" class="headerlink" title="视图解析的实现基础"></a>视图解析的实现基础</h4><p>ViewResolver 与 View 接口</p>
<ul>
<li>AbstractCachingViewResolver</li>
<li>UrlBasedViewResolver</li>
<li>FreeMarkerViewResolver</li>
<li>ContentNegotiatingViewResolver</li>
<li>InternalResourceViewResolver</li>
</ul>
<h4 id="DispatcherServlet-中的视图解析逻辑"><a href="#DispatcherServlet-中的视图解析逻辑" class="headerlink" title="DispatcherServlet 中的视图解析逻辑"></a>DispatcherServlet 中的视图解析逻辑</h4><ul>
<li>initStrategies()<ul>
<li>initViewResolvers() 初始化了了对应 ViewResolver</li>
</ul>
</li>
<li>doDispatch()<ul>
<li>processDispatchResult()<ul>
<li>没有返回视图的话，尝试 RequestToViewNameTranslator</li>
<li>resolveViewName() 解析 View 对象</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>使用 @ResponseBody 的情况</p>
<ul>
<li>在 HandlerAdapter.handle() 的中完成了 Response 输出<ul>
<li><code>RequestMappingHandlerAdapter.invokeHandlerMethod()</code><ul>
<li><code>HandlerMethodReturnValueHandlerComposite.handleReturnValue()</code><ul>
<li><code>RequestResponseBodyMethodProcessor.handleReturnValue()</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h4><p>两种不同的重定向前缀</p>
<ul>
<li><code>redirect:</code></li>
<li><code>forward:</code></li>
</ul>
<h3 id="46-Spring-MVC-中的常用视图（上）"><a href="#46-Spring-MVC-中的常用视图（上）" class="headerlink" title="46 | Spring MVC 中的常用视图（上）"></a>46 | Spring MVC 中的常用视图（上）</h3><h4 id="Spring-MVC-支持的视图"><a href="#Spring-MVC-支持的视图" class="headerlink" title="Spring MVC 支持的视图"></a>Spring MVC 支持的视图</h4><p>支持的视图列表</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://docs.spring.io/spring/docs/5.1.5.RELEASE/spring-frameworkreference/web.html#mvc-view">https://docs.spring.io/spring/docs/5.1.5.RELEASE/spring-frameworkreference/web.html#mvc-view</a></li>
<li>Jackson-based JSON &#x2F; XML</li>
<li>Thymeleaf &amp; FreeMarker</li>
</ul>
<h4 id="配置-MessageConverter"><a href="#配置-MessageConverter" class="headerlink" title="配置 MessageConverter"></a>配置 MessageConverter</h4><ul>
<li>通过 WebMvcConfigurer 的 configureMessageConverters()</li>
<li>Spring Boot 自动查找 HttpMessageConverters 进行注册</li>
</ul>
<h4 id="Spring-Boot-对-Jackson-的支持"><a href="#Spring-Boot-对-Jackson-的支持" class="headerlink" title="Spring Boot 对 Jackson 的支持"></a>Spring Boot 对 Jackson 的支持</h4><ul>
<li>JacksonAutoConfiguration<ul>
<li>Spring Boot 通过 @JsonComponent 注册 JSON 序列化组件</li>
<li>Jackson2ObjectMapperBuilderCustomizer</li>
</ul>
</li>
<li>JacksonHttpMessageConvertersConfiguration<ul>
<li>增加 jackson-dataformat-xml 以支持 XML 序列化</li>
</ul>
</li>
</ul>
<h3 id="47-Spring-MVC-中的常用视图（下）"><a href="#47-Spring-MVC-中的常用视图（下）" class="headerlink" title="47 | Spring MVC 中的常用视图（下）"></a>47 | Spring MVC 中的常用视图（下）</h3><h4 id="使用-Thymeleaf"><a href="#使用-Thymeleaf" class="headerlink" title="使用 Thymeleaf"></a>使用 Thymeleaf</h4><p>添加 Thymeleaf 依赖</p>
<ul>
<li>org.springframework.boot:spring-boot-starter-thymeleaf</li>
</ul>
<p>Spring Boot 的自动配置</p>
<ul>
<li><code>ThymeleafAutoConfiguration</code><ul>
<li><code>ThymeleafViewResolver</code></li>
</ul>
</li>
</ul>
<h5 id="Thymeleaf-的一些默认配置"><a href="#Thymeleaf-的一些默认配置" class="headerlink" title="Thymeleaf 的一些默认配置"></a>Thymeleaf 的一些默认配置</h5><ul>
<li><code>spring.thymeleaf.cache=true</code></li>
<li><code>spring.thymeleaf.check-template=true</code></li>
<li><code>spring.thymeleaf.check-template-location=true</code></li>
<li><code>spring.thymeleaf.enabled=true</code></li>
<li><code>spring.thymeleaf.encoding=UTF-8</code></li>
<li><code>spring.thymeleaf.mode=HTML</code></li>
<li><code>spring.thymeleaf.servlet.content-type=text/html</code></li>
<li><code>spring.thymeleaf.prefix=classpath:/templates/</code></li>
<li><code>spring.thymeleaf.suffix=.html</code></li>
</ul>
<h3 id="48-静态资源与缓存"><a href="#48-静态资源与缓存" class="headerlink" title="48 | 静态资源与缓存"></a>48 | 静态资源与缓存</h3><h4 id="Spring-Boot-中的静态资源配置"><a href="#Spring-Boot-中的静态资源配置" class="headerlink" title="Spring Boot 中的静态资源配置"></a>Spring Boot 中的静态资源配置</h4><p>核心逻辑</p>
<ul>
<li>WebMvcConfigurer.addResourceHandlers()</li>
</ul>
<p>常用配置</p>
<ul>
<li>spring.mvc.static-path-pattern&#x3D;&#x2F;**</li>
<li>spring.resources.static-locations&#x3D;classpath:&#x2F;META-INF&#x2F;<br>resources&#x2F;,classpath:&#x2F;resources&#x2F;,classpath:&#x2F;static&#x2F;,classpath:&#x2F;public&#x2F;</li>
</ul>
<h4 id="Spring-Boot-中的缓存配置"><a href="#Spring-Boot-中的缓存配置" class="headerlink" title="Spring Boot 中的缓存配置"></a>Spring Boot 中的缓存配置</h4><p>常用配置（默认时间单位都是秒）</p>
<ul>
<li>ResourceProperties.Cache</li>
<li>spring.resources.cache.cachecontrol.max-age&#x3D;时间</li>
<li>spring.resources.cache.cachecontrol.no-cache&#x3D;true&#x2F;false</li>
<li>spring.resources.cache.cachecontrol.s-max-age&#x3D;时间</li>
</ul>
<h3 id="49-Spring-MVC-中的异常处理机制"><a href="#49-Spring-MVC-中的异常处理机制" class="headerlink" title="49 | Spring MVC 中的异常处理机制"></a>49 | Spring MVC 中的异常处理机制</h3><h4 id="Spring-MVC-的异常解析"><a href="#Spring-MVC-的异常解析" class="headerlink" title="Spring MVC 的异常解析"></a>Spring MVC 的异常解析</h4><p>核心接口</p>
<ul>
<li>HandlerExceptionResolver</li>
</ul>
<p>实现类</p>
<ul>
<li>SimpleMappingExceptionResolver</li>
<li>DefaultHandlerExceptionResolver</li>
<li>ResponseStatusExceptionResolver</li>
<li>ExceptionHandlerExceptionResolver</li>
</ul>
<h4 id="异常处理方法"><a href="#异常处理方法" class="headerlink" title="异常处理方法"></a>异常处理方法</h4><p>处理方法</p>
<ul>
<li>@ExceptionHandler</li>
</ul>
<p>添加位置</p>
<ul>
<li>@Controller &#x2F; @RestController</li>
<li>@ControllerAdvice &#x2F; @RestControllerAdvice</li>
</ul>
<h3 id="50-了解-Spring-MVC-的切入点"><a href="#50-了解-Spring-MVC-的切入点" class="headerlink" title="50 | 了解 Spring MVC 的切入点"></a>50 | 了解 Spring MVC 的切入点</h3><h4 id="Spring-MVC-的拦截器"><a href="#Spring-MVC-的拦截器" class="headerlink" title="Spring MVC 的拦截器"></a>Spring MVC 的拦截器</h4><p>核心接口</p>
<ul>
<li>HandlerInteceptor<ul>
<li>boolean preHandle()</li>
<li>void postHandle()</li>
<li>void afterCompletion()</li>
</ul>
</li>
</ul>
<p>针对 @ResponseBody 和 ResponseEntity 的情况</p>
<ul>
<li>ResponseBodyAdvice</li>
</ul>
<p>针对异步请求的接口</p>
<ul>
<li>AsyncHandlerInterceptor</li>
</ul>
<h4 id="拦截器的配置方式"><a href="#拦截器的配置方式" class="headerlink" title="拦截器的配置方式"></a>拦截器的配置方式</h4><p>常规方法</p>
<ul>
<li>WebMvcConfigurer.addInterceptors()</li>
</ul>
<p>Spring Boot 中的配置</p>
<ul>
<li>创建一个带 @Configuration 的 WebMvcConfigurer 配置类</li>
<li>不能带 @EnableWebMvc（想彻底自己控制 MVC 配置除外）</li>
</ul>
<h3 id="51-SpringBucks-实战项目进度小结"><a href="#51-SpringBucks-实战项目进度小结" class="headerlink" title="51 | SpringBucks 实战项目进度小结"></a>51 | SpringBucks 实战项目进度小结</h3><p>略</p>
<h3 id="52-课程答疑"><a href="#52-课程答疑" class="headerlink" title="52 | 课程答疑"></a>52 | 课程答疑</h3><p>略</p>
<h2 id="第七章：访问-Web-资源-5-讲"><a href="#第七章：访问-Web-资源-5-讲" class="headerlink" title="第七章：访问 Web 资源 (5 讲)"></a>第七章：访问 Web 资源 (5 讲)</h2><h3 id="53-通过-RestTemplate-访问-Web-资源"><a href="#53-通过-RestTemplate-访问-Web-资源" class="headerlink" title="53 | 通过 RestTemplate 访问 Web 资源"></a>53 | 通过 RestTemplate 访问 Web 资源</h3><h4 id="Spring-Boot-中的-RestTemplate"><a href="#Spring-Boot-中的-RestTemplate" class="headerlink" title="Spring Boot 中的 RestTemplate"></a>Spring Boot 中的 RestTemplate</h4><ul>
<li>Spring Boot 中没有自动配置 RestTemplate</li>
<li>Spring Boot 提供了 RestTemplateBuilder</li>
<li>RestTemplateBuilder.build()</li>
</ul>
<h4 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h4><p>GET 请求</p>
<ul>
<li>getForObject() &#x2F; getForEntity()</li>
</ul>
<p>POST 请求</p>
<ul>
<li>postForObject() &#x2F; postForEntity()</li>
</ul>
<p>PUT 请求</p>
<ul>
<li>put()</li>
</ul>
<p>DELETE 请求</p>
<ul>
<li>delete()</li>
</ul>
<h4 id="构造-URI"><a href="#构造-URI" class="headerlink" title="构造 URI"></a>构造 URI</h4><p>构造 URI</p>
<ul>
<li>UriComponentsBuilder</li>
</ul>
<p>构造相对于当前请求的 URI</p>
<ul>
<li>ServletUriComponentsBuilder</li>
</ul>
<p>构造指向 Controller 的 URI</p>
<ul>
<li>MvcUriComponentsBuilder</li>
</ul>
<h3 id="54-RestTemplate-的高阶用法"><a href="#54-RestTemplate-的高阶用法" class="headerlink" title="54 | RestTemplate 的高阶用法"></a>54 | RestTemplate 的高阶用法</h3><p>传递 HTTP Header</p>
<ul>
<li><code>RestTemplate.exchange()</code></li>
<li><code>RequestEntity&lt;T&gt; / ResponseEntity&lt;T&gt;</code></li>
</ul>
<p>类型转换</p>
<ul>
<li><code>JsonSerializer / JsonDeserializer</code></li>
<li><code>@JsonComponent</code></li>
</ul>
<p>解析泛型对象</p>
<ul>
<li><code>RestTemplate.exchange()</code></li>
<li><code>ParameterizedTypeReference&lt;T&gt;</code></li>
</ul>
<h3 id="55-简单定制-RestTemplate"><a href="#55-简单定制-RestTemplate" class="headerlink" title="55 | 简单定制 RestTemplate"></a>55 | 简单定制 RestTemplate</h3><h4 id="RestTemplate-⽀支持的-HTTP-库"><a href="#RestTemplate-⽀支持的-HTTP-库" class="headerlink" title="RestTemplate ⽀支持的 HTTP 库"></a>RestTemplate ⽀支持的 HTTP 库</h4><p>通用接口</p>
<ul>
<li>ClientHttpRequestFactory</li>
</ul>
<p>默认实现</p>
<ul>
<li>SimpleClientHttpRequestFactory</li>
</ul>
<p>Apache HttpComponents</p>
<ul>
<li>HttpComponentsClientHttpRequestFactory</li>
</ul>
<p>Netty</p>
<ul>
<li>Netty4ClientHttpRequestFactory</li>
</ul>
<p>OkHttp</p>
<ul>
<li>OkHttp3ClientHttpRequestFactory</li>
</ul>
<h4 id="优化底层请求策略"><a href="#优化底层请求策略" class="headerlink" title="优化底层请求策略"></a>优化底层请求策略</h4><p>连接管理</p>
<ul>
<li>PoolingHttpClientConnectionManager</li>
<li>KeepAlive 策略</li>
</ul>
<p>超时设置</p>
<ul>
<li>connectTimeout &#x2F; readTimeout</li>
</ul>
<p>SSL 校验</p>
<ul>
<li>证书检查策略</li>
</ul>
<h3 id="56-通过-WebClient-访问-Web-资源"><a href="#56-通过-WebClient-访问-Web-资源" class="headerlink" title="56 | 通过 WebClient 访问 Web 资源"></a>56 | 通过 WebClient 访问 Web 资源</h3><h4 id="了解-WebClient"><a href="#了解-WebClient" class="headerlink" title="了解 WebClient"></a>了解 WebClient</h4><p>WebClient</p>
<ul>
<li>一个以 Reactive 方式处理 HTTP 请求的非阻塞式的客户端</li>
</ul>
<p>支持的底层 HTTP 库</p>
<ul>
<li>Reactor Netty - ReactorClientHttpConnector</li>
<li>Jetty ReactiveStream HttpClient - JettyClientHttpConnector</li>
</ul>
<h4 id="WebClient-的基本用法"><a href="#WebClient-的基本用法" class="headerlink" title="WebClient 的基本用法"></a>WebClient 的基本用法</h4><p>创建 WebClient</p>
<ul>
<li>WebClient.create()</li>
<li>WebClient.builder()</li>
</ul>
<p>发起请求</p>
<ul>
<li>get() &#x2F; post() &#x2F; put() &#x2F; delete() &#x2F; patch()</li>
</ul>
<p>获得结果</p>
<ul>
<li>retrieve() &#x2F; exchange()</li>
</ul>
<p>处理 HTTP Status</p>
<ul>
<li>onStatus()</li>
</ul>
<p>应答正文</p>
<ul>
<li>bodyToMono() &#x2F; bodyToFlux()</li>
</ul>
<h3 id="57-SpringBucks-实战项目进度小结"><a href="#57-SpringBucks-实战项目进度小结" class="headerlink" title="57 | SpringBucks 实战项目进度小结"></a>57 | SpringBucks 实战项目进度小结</h3><h2 id="第八章：-Web-开发进阶-9-讲"><a href="#第八章：-Web-开发进阶-9-讲" class="headerlink" title="第八章： Web 开发进阶 (9 讲)"></a>第八章： Web 开发进阶 (9 讲)</h2><h3 id="58-设计好的-RESTful-Web-Service（上）"><a href="#58-设计好的-RESTful-Web-Service（上）" class="headerlink" title="58 | 设计好的 RESTful Web Service（上）"></a>58 | 设计好的 RESTful Web Service（上）</h3><h3 id="59-设计好的-RESTful-Web-Service（下）"><a href="#59-设计好的-RESTful-Web-Service（下）" class="headerlink" title="59 | 设计好的 RESTful Web Service（下）"></a>59 | 设计好的 RESTful Web Service（下）</h3><p>如何实现 Restful Web Service</p>
<ul>
<li>识别资源</li>
<li>选择合适的资源粒度</li>
<li>设计 URI</li>
<li>选择合适的 HTTP 方法和返回码</li>
<li>设计资源的表述</li>
</ul>
<p>识别资源</p>
<ul>
<li>找到领域名词</li>
<li>能用 CRUD 操作的名词</li>
<li>将资源组织为集合（即集合资源）</li>
<li>将资源合并为复合资源</li>
<li>计算或处理函数</li>
</ul>
<h3 id="资源的粒度"><a href="#资源的粒度" class="headerlink" title="资源的粒度"></a>资源的粒度</h3><p>站在客户端的角度，要考虑</p>
<ul>
<li>可缓存性</li>
<li>修改频率</li>
<li>可变性</li>
</ul>
<p>站在服务端的角度，要考虑</p>
<ul>
<li>网络效率</li>
<li>表述的多少</li>
<li>客户端的易用程度</li>
</ul>
<p>构建更好的 URI</p>
<ul>
<li>使用域及子域对资源进行合理的分组或划分</li>
<li>在 URI 的路径部分使用斜杠分隔符 ( &#x2F; ) 来表示资源之间的层次关系</li>
<li>在 URI 的路径部分使用逗号 ( , ) 和分号 ( ; ) 来表示非层次元素</li>
<li>使用连字符 ( - ) 和下划线 ( _ ) 来改善长路径中名称的可读性</li>
<li>在 URI 的查询部分使用“与”符号 ( &amp; ) 来分隔参数</li>
<li>在 URI 中避免出现文件扩展名 ( 例例如 .php，.aspx 和 .jsp )</li>
</ul>
<h3 id="60-什么是-HATEOAS"><a href="#60-什么是-HATEOAS" class="headerlink" title="60 | 什么是 HATEOAS"></a>60 | 什么是 HATEOAS</h3><h3 id="61-使用-Spring-Data-REST-实现简单的超媒体服务（上）"><a href="#61-使用-Spring-Data-REST-实现简单的超媒体服务（上）" class="headerlink" title="61 | 使用 Spring Data REST 实现简单的超媒体服务（上）"></a>61 | 使用 Spring Data REST 实现简单的超媒体服务（上）</h3><h3 id="62-使用-Spring-Data-REST-实现简单的超媒体服务-下"><a href="#62-使用-Spring-Data-REST-实现简单的超媒体服务-下" class="headerlink" title="62 | 使用 Spring Data REST 实现简单的超媒体服务(下)"></a>62 | 使用 Spring Data REST 实现简单的超媒体服务(下)</h3><h4 id="认识-HAL"><a href="#认识-HAL" class="headerlink" title="认识 HAL"></a>认识 HAL</h4><p>HAL</p>
<ul>
<li>Hypertext Application Language</li>
<li>HAL 是一种简单的格式，为 API 中的资源提供简单一致的链接</li>
</ul>
<p>HAL 模型</p>
<ul>
<li>链接</li>
<li>内嵌资源</li>
<li>状态</li>
</ul>
<h4 id="Spring-Data-REST"><a href="#Spring-Data-REST" class="headerlink" title="Spring Data REST"></a>Spring Data REST</h4><p>Spring Boot 依赖</p>
<ul>
<li>spring-boot-starter-data-rest</li>
</ul>
<p>常用注解与类</p>
<ul>
<li><code>@RepositoryRestResource</code></li>
<li><code>Resource&lt;T&gt;</code></li>
<li><code>PagedResource&lt;T&gt;</code></li>
</ul>
<h4 id="如何访问-HATEOAS-服务"><a href="#如何访问-HATEOAS-服务" class="headerlink" title="如何访问 HATEOAS 服务"></a>如何访问 HATEOAS 服务</h4><p>配置 Jackson JSON</p>
<ul>
<li>注册 HAL 支持</li>
</ul>
<p>操作超链接</p>
<ul>
<li>找到需要的 Link</li>
<li>访问超链接</li>
</ul>
<h3 id="63-分布式环境中如何解决-Session-的问题"><a href="#63-分布式环境中如何解决-Session-的问题" class="headerlink" title="63 | 分布式环境中如何解决 Session 的问题"></a>63 | 分布式环境中如何解决 Session 的问题</h3><h4 id="常见的会话解决方案"><a href="#常见的会话解决方案" class="headerlink" title="常见的会话解决方案"></a>常见的会话解决方案</h4><ul>
<li>粘性会话 Sticky Session</li>
<li>会话复制 Session Replication</li>
<li>集中会话 Centralized Session</li>
</ul>
<h4 id="认识-Spring-Session"><a href="#认识-Spring-Session" class="headerlink" title="认识 Spring Session"></a>认识 Spring Session</h4><p>Spring Session</p>
<ul>
<li>简化集群中的用户会话管理</li>
<li>无需绑定容器特定解决方案</li>
</ul>
<p>支持的存储</p>
<ul>
<li>Redis</li>
<li>MongoDB</li>
<li>JDBC</li>
<li>Hazelcast</li>
</ul>
<h4 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h4><p>定制 HttpSession</p>
<ul>
<li>通过定制的 HttpServletRequest 返回定制的 HttpSession</li>
<li><code>SessionRepositoryRequestWrapper</code></li>
<li><code>SessionRepositoryFilter</code></li>
<li><code>DelegatingFilterProxy</code></li>
</ul>
<h4 id="基于-Redis-的-HttpSession"><a href="#基于-Redis-的-HttpSession" class="headerlink" title="基于 Redis 的 HttpSession"></a>基于 Redis 的 HttpSession</h4><p>引入依赖</p>
<ul>
<li>spring-session-data-redis</li>
</ul>
<p>基本配置</p>
<ul>
<li>@EnableRedisHttpSession</li>
<li>提供 RedisConnectionFactory</li>
<li>实现 AbstractHttpSessionApplicationInitializer</li>
<li>配置 DelegatingFilterProxy</li>
</ul>
<h3 id="64-使用-WebFlux-代替-Spring-MVC（上）"><a href="#64-使用-WebFlux-代替-Spring-MVC（上）" class="headerlink" title="64 | 使用 WebFlux 代替 Spring MVC（上）"></a>64 | 使用 WebFlux 代替 Spring MVC（上）</h3><h3 id="65-使用-WebFlux-代替-Spring-MVC（下）"><a href="#65-使用-WebFlux-代替-Spring-MVC（下）" class="headerlink" title="65 | 使用 WebFlux 代替 Spring MVC（下）"></a>65 | 使用 WebFlux 代替 Spring MVC（下）</h3><h4 id="认识-WebFlux"><a href="#认识-WebFlux" class="headerlink" title="认识 WebFlux"></a>认识 WebFlux</h4><p>什么是 WebFlux</p>
<ul>
<li>用于构建基于 Reactive 技术栈之上的 Web 应用程序</li>
<li>基于 Reactive Streams API ，运行在非阻塞服务器上</li>
</ul>
<p>为什么会有 WebFlux</p>
<ul>
<li>对于非阻塞 Web 应用的需要</li>
<li>函数式编程</li>
</ul>
<p>关于 WebFlux 的性能</p>
<ul>
<li>请求的耗时并不会有很大的改善</li>
<li>仅需少量固定数量的线程和较少的内存即可实现扩展</li>
</ul>
<h4 id="WebMVC-v-s-WebFlux"><a href="#WebMVC-v-s-WebFlux" class="headerlink" title="WebMVC v.s. WebFlux"></a>WebMVC v.s. WebFlux</h4><ul>
<li>已有 Spring MVC 应⽤用，运行正常，就别改了</li>
<li>依赖了大量阻塞式持久化 API 和网络 API，建议使用 Spring MVC</li>
<li>已经使用了非阻塞技术栈，可以考虑使用 WebFlux</li>
<li>想要使用 Java 8 Lambda 结合轻量级函数式框架，可以考虑 WebFlux</li>
</ul>
<h4 id="WebFlux-中的编程模型"><a href="#WebFlux-中的编程模型" class="headerlink" title="WebFlux 中的编程模型"></a>WebFlux 中的编程模型</h4><p>两种编程模型</p>
<ul>
<li>基于注解的控制器</li>
<li>函数式 Endpoints</li>
</ul>
<h4 id="基于注解的控制器"><a href="#基于注解的控制器" class="headerlink" title="基于注解的控制器"></a>基于注解的控制器</h4><p>常用注解</p>
<ul>
<li>@Controller</li>
<li>@RequestMapping 及其等价注解</li>
<li>@RequestBody &#x2F; @ResponseBody</li>
</ul>
<p>返回值</p>
<ul>
<li><code>Mono&lt;T&gt; / Flux&lt;T&gt;</code></li>
</ul>
<h3 id="66-SpringBucks-实战项目进度小结"><a href="#66-SpringBucks-实战项目进度小结" class="headerlink" title="66 | SpringBucks 实战项目进度小结"></a>66 | SpringBucks 实战项目进度小结</h3><p>略</p>
<h2 id="第九章：重新认识-Spring-Boot-8-讲"><a href="#第九章：重新认识-Spring-Boot-8-讲" class="headerlink" title="第九章：重新认识 Spring Boot (8 讲)"></a>第九章：重新认识 Spring Boot (8 讲)</h2><h3 id="67-认识-Spring-Boot-的组成部分"><a href="#67-认识-Spring-Boot-的组成部分" class="headerlink" title="67 | 认识 Spring Boot 的组成部分"></a>67 | 认识 Spring Boot 的组成部分</h3><h3 id="Spring-Boot-的特性"><a href="#Spring-Boot-的特性" class="headerlink" title="Spring Boot 的特性"></a>Spring Boot 的特性</h3><ul>
<li>方便地创建可独立运行的 Spring 应用程序</li>
<li>直接内嵌 Tomcat、Jetty 或 Undertow</li>
<li>简化了项目的构建配置</li>
<li>为 Spring 及第三方库提供自动配置</li>
<li>提供生产级特性</li>
<li>无需生成代码或进行 XML 配置</li>
</ul>
<h3 id="Spring-Boot-的四大核心"><a href="#Spring-Boot-的四大核心" class="headerlink" title="Spring Boot 的四大核心"></a>Spring Boot 的四大核心</h3><ul>
<li>自动配置 - Auto Configuration</li>
<li>起步依赖 - Starter Dependency</li>
<li>命令行界面 - Spring Boot CLI</li>
<li>Actuator</li>
</ul>
<h3 id="68-了解自动配置的实现原理"><a href="#68-了解自动配置的实现原理" class="headerlink" title="68 | 了解自动配置的实现原理"></a>68 | 了解自动配置的实现原理</h3><h3 id="了解自动配置"><a href="#了解自动配置" class="headerlink" title="了解自动配置"></a>了解自动配置</h3><p><strong>自动配置</strong></p>
<ul>
<li>基于添加的 JAR 依赖自动对 Spring Boot 应⽤用程序进行配置</li>
<li>spring-boot-autoconfiguration</li>
</ul>
<p><strong>开启自动配置</strong></p>
<ul>
<li><code>@EnableAutoConfiguration</code><ul>
<li><code>exclude = Class&lt;?&gt;[]</code></li>
</ul>
</li>
<li><code>@SpringBootApplication</code></li>
</ul>
<h3 id="自动配置的实现原理"><a href="#自动配置的实现原理" class="headerlink" title="自动配置的实现原理"></a>自动配置的实现原理</h3><p><strong><code>@EnableAutoConfiguration</code></strong></p>
<ul>
<li><code>AutoConfigurationImportSelector</code></li>
<li><code>META-INF/spring.factories</code><ul>
<li><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration</code></li>
</ul>
</li>
</ul>
<p><strong>条件注解</strong></p>
<ul>
<li><code>@Conditional</code></li>
<li><code>@ConditionalOnClass</code></li>
<li><code>@ConditionalOnBean</code></li>
<li><code>@ConditionalOnMissingBean</code></li>
<li><code>@ConditionalOnProperty</code></li>
<li>……</li>
</ul>
<h3 id="了解自动配置的情况"><a href="#了解自动配置的情况" class="headerlink" title="了解自动配置的情况"></a>了解自动配置的情况</h3><p><strong>观察自动配置的判断结果</strong></p>
<ul>
<li>–debug</li>
</ul>
<p><strong><code>ConditionEvaluationReportLoggingListener</code></strong></p>
<ul>
<li>Positive matches</li>
<li>Negative matches</li>
<li>Exclusions</li>
<li>Unconditional classes</li>
</ul>
<h3 id="69-动手实现自己的自动配置"><a href="#69-动手实现自己的自动配置" class="headerlink" title="69 | 动手实现自己的自动配置"></a>69 | 动手实现自己的自动配置</h3><h3 id="主要工作内容"><a href="#主要工作内容" class="headerlink" title="主要工作内容"></a>主要工作内容</h3><ul>
<li>编写 Java Config<ul>
<li><code>@Configuration</code></li>
</ul>
</li>
<li>添加条件<ul>
<li><code>@Conditional</code></li>
</ul>
</li>
<li>定位自动配置<ul>
<li><code>META-INF/spring.factories</code></li>
</ul>
</li>
</ul>
<h3 id="条件注解"><a href="#条件注解" class="headerlink" title="条件注解"></a>条件注解</h3><p><strong>条件注解</strong></p>
<ul>
<li><code>@Conditional</code></li>
</ul>
<p><strong>类条件</strong></p>
<ul>
<li><code>@ConditionalOnClass</code></li>
<li><code>@ConditionalOnMissingClass</code></li>
</ul>
<p><strong>属性条件</strong></p>
<ul>
<li><code>@ConditionalOnProperty</code></li>
</ul>
<p><strong>Bean 条件</strong></p>
<ul>
<li><code>@ConditionalOnBean</code></li>
<li><code>@ConditionalOnMissingBean</code></li>
<li><code>**@ConditionalOnSingleCandidate</code>**</li>
</ul>
<p><strong>资源条件</strong></p>
<ul>
<li><code>@ConditionalOnResource</code></li>
</ul>
<p><strong>Web 应用条件</strong></p>
<ul>
<li><code>@ConditionalOnWebApplication</code></li>
<li><code>@ConditionalOnNotWebApplication</code></li>
</ul>
<p><strong>其他条件</strong></p>
<ul>
<li><code>@ConditionalOnExpression</code></li>
<li><code>@ConditionalOnJava</code></li>
<li><code>@ConditionalOnJndi</code></li>
</ul>
<h3 id="自动配置的执行顺序"><a href="#自动配置的执行顺序" class="headerlink" title="自动配置的执行顺序"></a>自动配置的执行顺序</h3><p><strong>执行顺序</strong></p>
<ul>
<li><code>@AutoConfigureBefore</code></li>
<li><code>@AutoConfigureAfter</code></li>
<li><code>@AutoConfigureOrder</code></li>
</ul>
<h3 id="70-如何在低版本-Spring-中快速实现类似自动配置的功能"><a href="#70-如何在低版本-Spring-中快速实现类似自动配置的功能" class="headerlink" title="70 | 如何在低版本 Spring 中快速实现类似自动配置的功能"></a>70 | 如何在低版本 Spring 中快速实现类似自动配置的功能</h3><h3 id="需求与问题"><a href="#需求与问题" class="headerlink" title="需求与问题"></a>需求与问题</h3><p><strong>核心的诉求</strong></p>
<ul>
<li>现存系统，不打算重构</li>
<li>Spring 版本 3.x，不打算升级版本和引入 Spring Boot</li>
<li>期望能够在少改代码的前提下实现一些功能增强</li>
</ul>
<p><strong>面临的问题</strong></p>
<ul>
<li>3.x 的 Spring 没有条件注解</li>
<li>无法自动定位需要加载的自动配置</li>
</ul>
<h3 id="核心解决思路"><a href="#核心解决思路" class="headerlink" title="核心解决思路"></a>核心解决思路</h3><p><strong>条件判断</strong></p>
<ul>
<li>通过 <code>BeanFactoryPostProcessor</code> 进行判断</li>
</ul>
<p><strong>配置加载</strong></p>
<ul>
<li>编写 Java Config 类</li>
<li>引入配置类</li>
<li>通过 component-scan</li>
<li>通过 xml 文件 import</li>
</ul>
<h3 id="Spring-的扩展点"><a href="#Spring-的扩展点" class="headerlink" title="Spring 的扩展点"></a>Spring 的扩展点</h3><p><strong>BeanPostProcessor</strong></p>
<ul>
<li><p>针对 Bean 实例</p>
</li>
<li><p>在 Bean 创建后提供定制逻辑回调</p>
</li>
</ul>
<p><strong>BeanFactoryPostProcessor</strong></p>
<ul>
<li><p>针对 Bean 定义</p>
</li>
<li><p>在容器创建 Bean 前获取配置元数据</p>
</li>
<li><p>Java Config 中需要定义为 static 方法</p>
</li>
</ul>
<h3 id="关于-Bean-的一些定制"><a href="#关于-Bean-的一些定制" class="headerlink" title="关于 Bean 的一些定制"></a>关于 Bean 的一些定制</h3><h4 id="生命周期回调"><a href="#生命周期回调" class="headerlink" title="生命周期回调"></a>生命周期回调</h4><ul>
<li>InitializingBean &#x2F; @PostConstruct &#x2F; init-method</li>
<li>DisposableBean &#x2F; @PostDestory &#x2F; destroy-method</li>
</ul>
<h4 id="XXXAware"><a href="#XXXAware" class="headerlink" title="XXXAware"></a>XXXAware</h4><ul>
<li><code>ApplicationContextAware</code></li>
<li><code>BeanFactoryAware</code></li>
<li><code>BeanNameAware</code></li>
</ul>
<h3 id="一些常用操作"><a href="#一些常用操作" class="headerlink" title="一些常用操作"></a>一些常用操作</h3><p><strong>判断类是否存在</strong></p>
<ul>
<li><code>ClassUtils.isPresent()</code></li>
</ul>
<p><strong>判断 Bean 是否已定义</strong></p>
<ul>
<li><code>ListableBeanFactory.containsBeanDefinition()</code></li>
<li><code>ListableBeanFactory.getBeanNamesForType()</code></li>
</ul>
<p><strong>注册 Bean 定义</strong></p>
<ul>
<li><p><code>BeanDefinitionRegistry.registerBeanDefinition()</code></p>
<ul>
<li><code>GenericBeanDefinition</code></li>
</ul>
</li>
<li><p><code>BeanFactory.registerSingleton()</code></p>
</li>
</ul>
<h3 id="71-了解起步依赖及其实现原理"><a href="#71-了解起步依赖及其实现原理" class="headerlink" title="71 | 了解起步依赖及其实现原理"></a>71 | 了解起步依赖及其实现原理</h3><h3 id="Maven-依赖管理技巧"><a href="#Maven-依赖管理技巧" class="headerlink" title="Maven 依赖管理技巧"></a>Maven 依赖管理技巧</h3><p>了解你的依赖</p>
<ul>
<li>mvn dependency:tree</li>
<li>IDEA Maven Helper 插件</li>
</ul>
<p>排除特定依赖</p>
<ul>
<li>exclusion</li>
</ul>
<p>统一管理依赖</p>
<ul>
<li>dependencyManagement</li>
<li>Bill of Materials - bom</li>
</ul>
<h3 id="Spring-Boot-的-starter-依赖"><a href="#Spring-Boot-的-starter-依赖" class="headerlink" title="Spring Boot 的 starter 依赖"></a>Spring Boot 的 starter 依赖</h3><p><strong>Starter Dependencies</strong></p>
<ul>
<li>直接面向功能</li>
<li>一站获得所有相关依赖，不再复制粘贴</li>
</ul>
<p><strong>官方的 Starters</strong></p>
<ul>
<li>spring-boot-starter-*</li>
</ul>
<h3 id="72-定制自己的起步依赖"><a href="#72-定制自己的起步依赖" class="headerlink" title="72 | 定制自己的起步依赖"></a>72 | 定制自己的起步依赖</h3><p><strong>主要内容</strong></p>
<ul>
<li>autoconfigure 模块，包含自动配置代码</li>
<li>starter 模块，包含指向自动配置模块的依赖及其他相关依赖</li>
</ul>
<p><strong>命名方式</strong></p>
<ul>
<li>xxx-spring-boot-autoconfigure</li>
<li>xxx-spring-boot-starter</li>
</ul>
<p><strong>注意事项</strong></p>
<ul>
<li>不要使用 spring-boot 作为依赖的前缀</li>
<li>不要使用 spring-boot 的配置命名空间</li>
<li>starter 中仅添加必要的依赖</li>
<li>声明对 spring-boot-starter 的依赖</li>
</ul>
<h3 id="73-深挖-Spring-Boot-的配置加载机制"><a href="#73-深挖-Spring-Boot-的配置加载机制" class="headerlink" title="73 | 深挖 Spring Boot 的配置加载机制"></a>73 | 深挖 Spring Boot 的配置加载机制</h3><h3 id="外化配置加载顺序"><a href="#外化配置加载顺序" class="headerlink" title="外化配置加载顺序"></a>外化配置加载顺序</h3><ul>
<li>开启 DevTools 时，<code>~/.spring-boot-devtools.properties</code></li>
<li>测试类上的 <code>@TestPropertySource</code> 注解</li>
<li><code>@SpringBootTest#properties</code> 属性</li>
<li>命令行参数（ <code>--server.port=9000</code> ）</li>
<li>SPRING_APPLICATION_JSON 中的属性</li>
<li><code>ServletConfig</code> 初始化参数</li>
<li><code>ServletContext</code> 初始化参数</li>
<li><code>java:comp/env</code> 中的 JNDI 属性</li>
<li><code>System.getProperties()</code></li>
<li>操作系统环境变量</li>
<li><code>random.*</code> 涉及到的 <code>RandomValuePropertySource</code></li>
<li>jar 包外部的 application-{profile}.properties 或 .yml</li>
<li>jar 包内部的 application-{profile}.properties 或 .yml</li>
<li>jar 包外部的 application.properties 或 .yml</li>
<li>jar 包内部的 application.properties 或 .yml</li>
<li>@Configuration 类上的 @PropertySource</li>
<li>SpringApplication.setDefaultProperties() 设置的默认属性</li>
</ul>
<h3 id="application-properties"><a href="#application-properties" class="headerlink" title="application.properties"></a>application.properties</h3><p>默认位置</p>
<ul>
<li><code>./config</code></li>
<li><code>./</code></li>
<li>CLASSPATH 中的 <code>/config</code></li>
<li>CLASSPATH 中的 <code>/</code></li>
</ul>
<p>修改名字或路路径</p>
<ul>
<li><code>spring.config.name</code></li>
<li><code>spring.config.location</code></li>
<li><code>spring.config.additional-location</code></li>
</ul>
<h3 id="Relaxed-Binding"><a href="#Relaxed-Binding" class="headerlink" title="Relaxed Binding"></a>Relaxed Binding</h3><table>
<thead>
<tr>
<th>命名风格</th>
<th>使用范围</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>短划线分隔</td>
<td>Properties 文件<br/>YAML 文件<br/>系统属性</td>
<td>geektime.spring-boot.first-demo</td>
</tr>
<tr>
<td>驼峰式</td>
<td>Properties 文件<br/>YAML 文件<br/>系统属性</td>
<td>geektime.springBoot.firstDemo</td>
</tr>
<tr>
<td>下划线分割</td>
<td>Properties 文件<br/>YAML 文件<br/>系统属性</td>
<td>geektime.spring_boot.first_demo</td>
</tr>
<tr>
<td>全⼤大写，下划线分隔</td>
<td>环境变量</td>
<td>GEEKTIME_SPRINGBOOT_FIRSTDEMO</td>
</tr>
</tbody></table>
<h3 id="74-理解配置背后的-PropertySource-抽象"><a href="#74-理解配置背后的-PropertySource-抽象" class="headerlink" title="74 | 理解配置背后的 PropertySource 抽象"></a>74 | 理解配置背后的 PropertySource 抽象</h3><h3 id="添加-PropertySource"><a href="#添加-PropertySource" class="headerlink" title="添加 PropertySource"></a>添加 PropertySource</h3><ul>
<li><code>&lt;context:property-placeholder&gt;</code></li>
<li><code>PropertySourcesPlaceholderConfigurer</code></li>
<li><code>PropertyPlaceholderConfigurer</code></li>
<li><code>@PropertySource</code></li>
<li><code>@PropertySources</code></li>
</ul>
<h3 id="Spring-Boot-中的-ConfigurationProperties"><a href="#Spring-Boot-中的-ConfigurationProperties" class="headerlink" title="Spring Boot 中的 @ConfigurationProperties"></a>Spring Boot 中的 @ConfigurationProperties</h3><ul>
<li>可以将属性绑定到结构化对象上</li>
<li>支持 Relaxed Binding</li>
<li>支持安全的类型转换</li>
<li><code>@EnableConfigurationProperties</code></li>
</ul>
<h3 id="定制-PropertySource"><a href="#定制-PropertySource" class="headerlink" title="定制 PropertySource"></a>定制 PropertySource</h3><p><strong>主要步骤</strong></p>
<ul>
<li>实现 <code>PropertySource&lt;T&gt;</code></li>
<li>从 <code>Environment</code> 取得 <code>PropertySources</code></li>
<li>将自己的 <code>PropertySource</code> 添加到合适的位置</li>
</ul>
<p><strong>切入位置</strong></p>
<ul>
<li><code>EnvironmentPostProcessor</code></li>
<li><code>BeanFactoryPostProcessor</code></li>
</ul>
<h2 id="第十章：运行中的-Spring-Boot-11-讲"><a href="#第十章：运行中的-Spring-Boot-11-讲" class="headerlink" title="第十章：运行中的 Spring Boot (11 讲)"></a>第十章：运行中的 Spring Boot (11 讲)</h2><h3 id="75-认识-Spring-Boot-的各类-Actuator-Endpoint"><a href="#75-认识-Spring-Boot-的各类-Actuator-Endpoint" class="headerlink" title="75 | 认识 Spring Boot 的各类 Actuator Endpoint"></a>75 | 认识 Spring Boot 的各类 Actuator Endpoint</h3><h3 id="Actuator"><a href="#Actuator" class="headerlink" title="Actuator"></a>Actuator</h3><p><strong>目的</strong></p>
<ul>
<li>监控并管理应用程序</li>
</ul>
<p><strong>访问方式</strong></p>
<ul>
<li>HTTP</li>
<li>JMX</li>
</ul>
<p><strong>依赖</strong></p>
<ul>
<li>spring-boot-starter-actuator</li>
</ul>
<h3 id="一些常用-Endpoint"><a href="#一些常用-Endpoint" class="headerlink" title="一些常用 Endpoint"></a>一些常用 Endpoint</h3><table>
<thead>
<tr>
<th>ID</th>
<th>说明</th>
<th>默认开启</th>
<th>默认 HTTP</th>
<th>默认 JMX</th>
</tr>
</thead>
<tbody><tr>
<td>beans</td>
<td>显示容器中的 Bean 列表</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>caches</td>
<td>显示应用中的缓存</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>conditions</td>
<td>显示配置条件的计算情况</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>configprops</td>
<td>显示 @ConfigurationProperties 的信息</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>env</td>
<td>显示 ConfigurableEnvironment 中的属性</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>health</td>
<td>显示健康检查信息</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>httptrace</td>
<td>显示 HTTP Trace 信息</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>info</td>
<td>显示设置好的应用信息</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>loggers</td>
<td>显示并更新日志配置</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>metrics</td>
<td>显示应用的度量信息</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>mappings</td>
<td>显示所有的 @RequestMapping 信息</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>scheduledtasks</td>
<td>显示应用的调度任务信息</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>shutdown</td>
<td>优雅地关闭应用程序</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>threaddump</td>
<td>执行 Thread Dump</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>heapdump</td>
<td>返回 Heap Dump 文件，格式为 HPROF</td>
<td>Y</td>
<td>N</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>prometheus</td>
<td>返回可供 Prometheus 抓取的信息</td>
<td>Y</td>
<td>N</td>
<td>N&#x2F;A</td>
</tr>
</tbody></table>
<h3 id="如何访问-Actuator-Endpoint"><a href="#如何访问-Actuator-Endpoint" class="headerlink" title="如何访问 Actuator Endpoint"></a>如何访问 Actuator Endpoint</h3><p><strong>HTTP 访问</strong></p>
<ul>
<li><code>/actuator/&lt;id&gt;</code></li>
</ul>
<p><strong>端口与路径</strong></p>
<ul>
<li><code>management.server.address=</code></li>
<li><code>management.server.port=</code></li>
<li><code>management.endpoints.web.base-path=/actuator</code></li>
<li><code>management.endpoints.web.path-mapping.&lt;id&gt;=路径</code></li>
</ul>
<p><strong>开启 Endpoint</strong></p>
<ul>
<li><code>management.endpoint.&lt;id&gt;.enabled=true</code></li>
<li><code>management.endpoints.enabled-by-default=false</code></li>
</ul>
<p><strong>暴露 Endpoint</strong></p>
<ul>
<li><code>management.endpoints.jmx.exposure.exclude=</code></li>
<li><code>management.endpoints.jmx.exposure.include=*</code></li>
<li><code>management.endpoints.web.exposure.exclude=</code></li>
<li><code>management.endpoints.web.exposure.include=info, health</code></li>
</ul>
<h3 id="76-动手定制自己的-Health-Indicator"><a href="#76-动手定制自己的-Health-Indicator" class="headerlink" title="76 | 动手定制自己的 Health Indicator"></a>76 | 动手定制自己的 Health Indicator</h3><h3 id="Spring-Boot-自带的-Health-Indicator"><a href="#Spring-Boot-自带的-Health-Indicator" class="headerlink" title="Spring Boot 自带的 Health Indicator"></a>Spring Boot 自带的 Health Indicator</h3><p>目的</p>
<ul>
<li>检查应用程序的运行状态</li>
</ul>
<p>状态</p>
<ul>
<li>DOWN - 503</li>
<li>OUT_OF_SERVICE - 503</li>
<li>UP - 200</li>
<li>UNKNOWN - 200</li>
</ul>
<p>机制</p>
<ul>
<li>通过 <code>HealthIndicatorRegistry</code> 收集信息</li>
<li><code>HealthIndicator</code> 实现具体检查逻辑</li>
</ul>
<p>配置项</p>
<ul>
<li><code>management.health.defaults.enabled=true|false</code></li>
<li><code>management.health.&lt;id&gt;.enabled=true</code></li>
<li><code>management.endpoint.health.show-details=never|whenauthorized|always</code></li>
</ul>
<p><strong>内置 HealthIndicator 清单</strong></p>
<ul>
<li><p><code>CassandraHealthIndicator</code></p>
</li>
<li><p><code>ElasticsearchHealthIndicator</code></p>
</li>
<li><p><code>MongoHealthIndicator</code></p>
</li>
<li><p><code>SolrHealthIndicator</code></p>
</li>
<li><p><code>CouchbaseHealthIndicator</code></p>
</li>
<li><p><code>InfluxDbHealthIndicator</code></p>
</li>
<li><p><code>Neo4jHealthIndicator</code></p>
</li>
<li><p><code>DiskSpaceHealthIndicator</code></p>
</li>
<li><p><code>JmsHealthIndicator</code></p>
</li>
<li><p><code>RabbitHealthIndicator</code></p>
</li>
<li><p><code>DataSourceHealthIndicator</code></p>
</li>
<li><p><code>MailHealthIndicator</code></p>
</li>
<li><p><code>RedisHealthIndicator</code></p>
</li>
</ul>
<h3 id="自定义-Health-Indicator"><a href="#自定义-Health-Indicator" class="headerlink" title="自定义 Health Indicator"></a>自定义 Health Indicator</h3><p><strong>方法</strong></p>
<ul>
<li>实现 HealthIndicator 接口</li>
<li>根据自定义检查逻辑返回对应 Health 状态</li>
<li>Health 中包含状态和详细描述信息</li>
</ul>
<h3 id="77-通过-Micrometer-获取运行数据"><a href="#77-通过-Micrometer-获取运行数据" class="headerlink" title="77 | 通过 Micrometer 获取运行数据"></a>77 | 通过 Micrometer 获取运行数据</h3><h3 id="认识-Micrometer"><a href="#认识-Micrometer" class="headerlink" title="认识 Micrometer"></a>认识 Micrometer</h3><p><strong>特性</strong></p>
<ul>
<li>多维度度量量</li>
<li>支持 Tag</li>
<li>预置大量探针</li>
<li>缓存、类加载器器、GC、CPU 利利⽤用率、线程池……</li>
<li>与 Spring 深度整合</li>
</ul>
<p><strong>支持多种监控系统</strong></p>
<ul>
<li><p>Dimensional</p>
<ul>
<li>AppOptics, Atlas, Azure Monitor, Cloudwatch, Datadog, Datadog StatsD, Dynatrace, Elastic, Humio, Influx, KairosDB, New Relic, Prometheus, SignalFx, Sysdig StatsD, Telegraf<br>StatsD, Wavefront</li>
</ul>
</li>
<li><p>Hierarchical</p>
<ul>
<li>Graphite, Ganglia, JMX, Etsy StatsD</li>
</ul>
</li>
</ul>
<h3 id="一些核心度量指标"><a href="#一些核心度量指标" class="headerlink" title="一些核心度量指标"></a>一些核心度量指标</h3><p><strong>核心接口</strong></p>
<ul>
<li>Meter</li>
</ul>
<p><strong>内置实现</strong></p>
<ul>
<li>Gauge, TimeGauge</li>
<li>Timer, LongTaskTimer, FunctionTimer</li>
<li>Counter, FunctionCounter</li>
<li>DistributionSummary</li>
</ul>
<h3 id="Micrometer-in-Spring-Boot-2-x"><a href="#Micrometer-in-Spring-Boot-2-x" class="headerlink" title="Micrometer in Spring Boot 2.x"></a>Micrometer in Spring Boot 2.x</h3><p><strong>一些 URL</strong></p>
<ul>
<li><code>/actuator/metrics</code></li>
<li><code>/actuator/prometheus</code></li>
</ul>
<p><strong>一些配置项</strong></p>
<ul>
<li><code>management.metrics.export.*</code></li>
<li><code>management.metrics.tags.*</code></li>
<li><code>management.metrics.enable.*</code></li>
<li><code>management.metrics.distribution.*</code></li>
<li><code>management.metrics.web.server.auto-time-requests</code></li>
</ul>
<p>核心度量项</p>
<ul>
<li>JVM、CPU、文件句柄数、日志、启动时间</li>
</ul>
<p>其他度量项</p>
<ul>
<li>Spring MVC、Spring WebFlux</li>
<li>Tomcat、Jersey JAX-RS</li>
<li>RestTemplate、WebClient</li>
<li>缓存、数据源、Hibernate</li>
<li>Kafka、RabbitMQ</li>
</ul>
<p>自定义度量指标</p>
<ul>
<li>通过 MeterRegistry 注册 Meter</li>
<li>提供 MeterBinder Bean 让 Spring Boot ⾃自动绑定</li>
<li>通过 MeterFilter 进⾏行行定制</li>
</ul>
<h3 id="78-通过-Spring-Boot-Admin-了解程序的运行状态"><a href="#78-通过-Spring-Boot-Admin-了解程序的运行状态" class="headerlink" title="78 | 通过 Spring Boot Admin 了解程序的运行状态"></a>78 | 通过 Spring Boot Admin 了解程序的运行状态</h3><h3 id="Spring-Boot-Admin"><a href="#Spring-Boot-Admin" class="headerlink" title="Spring Boot Admin"></a>Spring Boot Admin</h3><p><strong>目的</strong></p>
<ul>
<li>为 Spring Boot 应用程序提供一套管理界面</li>
</ul>
<p><strong>主要功能</strong></p>
<ul>
<li>集中展示应用程序 Actuator 相关的内容</li>
<li>变更通知</li>
</ul>
<h3 id="快速上手"><a href="#快速上手" class="headerlink" title="快速上手"></a>快速上手</h3><p><strong>服务端</strong></p>
<ul>
<li><code>de.codecentric:spring-boot-admin-starter-server:2.1.3</code></li>
<li><code>@EnableAdminServer</code></li>
</ul>
<p><strong>客户端</strong></p>
<ul>
<li><code>de.codecentric:spring-boot-admin-starter-client:2.1.3</code></li>
<li>配置服务端及 Endpoint</li>
<li><code>spring.boot.admin.client.url=http://localhost:8080</code></li>
<li><code>management.endpoints.web.exposure.include=*</code></li>
</ul>
<h3 id="安全控制"><a href="#安全控制" class="headerlink" title="安全控制"></a>安全控制</h3><p>安全相关依赖</p>
<ul>
<li>spring-boot-starter-security</li>
</ul>
<p>服务端配置</p>
<ul>
<li>spring.security.user.name</li>
<li>spring.security.user.password</li>
</ul>
<h3 id="79-如何定制-Web-容器的运行参数"><a href="#79-如何定制-Web-容器的运行参数" class="headerlink" title="79 | 如何定制 Web 容器的运行参数"></a>79 | 如何定制 Web 容器的运行参数</h3><h3 id="内嵌-Web-容器"><a href="#内嵌-Web-容器" class="headerlink" title="内嵌 Web 容器"></a>内嵌 Web 容器</h3><p>可选容器列表</p>
<ul>
<li><code>spring-boot-starter-tomcat</code></li>
<li><code>spring-boot-starter-jetty</code></li>
<li><code>spring-boot-starter-undertow</code></li>
<li><code>spring-boot-starter-reactor-netty</code></li>
</ul>
<h3 id="修改容器器配置"><a href="#修改容器器配置" class="headerlink" title="修改容器器配置"></a>修改容器器配置</h3><p><strong>端口</strong></p>
<ul>
<li><code>server.port</code></li>
<li><code>server.address</code></li>
</ul>
<p><strong>压缩</strong></p>
<ul>
<li><code>server.compression.enabled</code></li>
<li><code>server.compression.min-response-size</code></li>
<li><code>server.compression.mime-types</code></li>
</ul>
<p><strong>Tomcat 特定配置</strong></p>
<ul>
<li><code>server.tomcat.max-connections=10000</code></li>
<li><code>server.tomcat.max-http-post-size=2MB</code></li>
<li><code>server.tomcat.max-swallow-size=2MB</code></li>
<li><code>server.tomcat.max-threads=200</code></li>
<li><code>server.tomcat.min-spare-threads=10</code></li>
</ul>
<p>错误处理</p>
<ul>
<li><code>server.error.path=/error</code></li>
<li><code>server.error.include-exception=false</code></li>
<li><code>server.error.include-stacktrace=never</code></li>
<li><code>server.error.whitelabel.enabled=true</code></li>
</ul>
<p>其他</p>
<ul>
<li><code>server.use-forward-headers</code></li>
<li><code>server.servlet.session.timeout</code></li>
</ul>
<p>编程方式</p>
<ul>
<li><code>WebServerFactoryCustomizer&lt;T&gt;</code></li>
<li><code>TomcatServletWebServerFactory</code></li>
<li><code>JettyServletWebServerFactory</code></li>
<li><code>UndertowServletWebServerFactory</code></li>
</ul>
<h3 id="80-如何配置容器支持-HTTP-2（上）"><a href="#80-如何配置容器支持-HTTP-2（上）" class="headerlink" title="80 | 如何配置容器支持 HTTP&#x2F;2（上）"></a>80 | 如何配置容器支持 HTTP&#x2F;2（上）</h3><h3 id="配置-HTTPS-支持"><a href="#配置-HTTPS-支持" class="headerlink" title="配置 HTTPS 支持"></a>配置 HTTPS 支持</h3><p><strong>通过参数进行配置</strong></p>
<ul>
<li><code>server.port=8443</code></li>
<li><code>server.ssl.*</code><ul>
<li><code>server.ssl.key-store</code></li>
<li>server.ssl.key-store-type，JKS 或者 PKCS12</li>
<li><code>server.ssl.key-store-password=secret</code></li>
</ul>
</li>
</ul>
<h3 id="生成证书文件"><a href="#生成证书文件" class="headerlink" title="生成证书文件"></a>生成证书文件</h3><p><strong>命令</strong></p>
<ul>
<li>keytool -genkey -alias 别名<ul>
<li>-storetype 仓库类型 -keyalg 算法 -keysize 长度</li>
<li>-keystore 文件名 -validity 有效期</li>
</ul>
</li>
</ul>
<p>说明</p>
<ul>
<li>仓库类型，JKS、JCEKS、PKCS12 等</li>
<li>算法，RSA、DSA 等</li>
<li>长度，例如 2048</li>
</ul>
<h3 id="客户端-HTTPS-支持"><a href="#客户端-HTTPS-支持" class="headerlink" title="客户端 HTTPS 支持"></a>客户端 HTTPS 支持</h3><p>配置 HttpClient （ &gt;&#x3D; 4.4 ）</p>
<ul>
<li><code>SSLContextBuilder</code> 构造 <code>SSLContext</code></li>
<li><code>setSSLHostnameVerifier(new NoopHostnameVerifier())</code></li>
</ul>
<p>配置 <code>RequestFactory</code></p>
<ul>
<li><code>HttpComponentsClientHttpRequestFactory</code></li>
<li><code>setHttpClient()</code></li>
</ul>
<h3 id="81-如何配置容器支持-HTTP-2（下）"><a href="#81-如何配置容器支持-HTTP-2（下）" class="headerlink" title="81 | 如何配置容器支持 HTTP&#x2F;2（下）"></a>81 | 如何配置容器支持 HTTP&#x2F;2（下）</h3><h3 id="配置-HTTP-2-支持"><a href="#配置-HTTP-2-支持" class="headerlink" title="配置 HTTP&#x2F;2 支持"></a>配置 HTTP&#x2F;2 支持</h3><p>前提条件</p>
<ul>
<li>Java &gt;&#x3D; JDK 9</li>
<li>Tomcat &gt;&#x3D; 9.0.0</li>
<li>Spring Boot 不支持 h2c，需要先配置 SSL</li>
</ul>
<p>配置项</p>
<ul>
<li>server.http2.enabled</li>
</ul>
<h3 id="客户端-HTTP-2-支持"><a href="#客户端-HTTP-2-支持" class="headerlink" title="客户端 HTTP&#x2F;2 支持"></a>客户端 HTTP&#x2F;2 支持</h3><p>HTTP 库选择</p>
<ul>
<li><code>OkHttp（ com.squareup.okhttp3:okhttp:3.14.0 ）</code></li>
<li><code>OkHttpClient</code></li>
</ul>
<p>RestTemplate 配置</p>
<ul>
<li><code>OkHttp3ClientHttpRequestFactory</code></li>
</ul>
<h3 id="82-如何编写命令行运行的程序"><a href="#82-如何编写命令行运行的程序" class="headerlink" title="82 | 如何编写命令行运行的程序"></a>82 | 如何编写命令行运行的程序</h3><h3 id="关闭-Web-容器"><a href="#关闭-Web-容器" class="headerlink" title="关闭 Web 容器"></a>关闭 Web 容器</h3><p>控制依赖</p>
<ul>
<li>不添加 Web 相关依赖</li>
</ul>
<p>配置方式</p>
<ul>
<li><code>spring.main.web-application-type=none</code></li>
</ul>
<p>编程方式</p>
<ul>
<li><code>SpringApplication</code></li>
<li><code>setWebApplicationType()</code></li>
<li><code>SpringApplicationBuilder</code></li>
<li><code>web()</code></li>
<li>在调用 <code>SpringApplication</code> 的 <code>run()</code> 方法前设置 <code>WebApplicationType</code></li>
</ul>
<h3 id="常用工具类"><a href="#常用工具类" class="headerlink" title="常用工具类"></a>常用工具类</h3><p>不同的 Runner</p>
<ul>
<li>ApplicationRunner</li>
<li>参数是 ApplicationArguments</li>
<li>CommandLineRunner</li>
<li>参数是 String[]</li>
</ul>
<p>返回码</p>
<ul>
<li>ExitCodeGenerator</li>
</ul>
<h3 id="83-了解可执行-Jar-背后的秘密"><a href="#83-了解可执行-Jar-背后的秘密" class="headerlink" title="83 | 了解可执行 Jar 背后的秘密"></a>83 | 了解可执行 Jar 背后的秘密</h3><h3 id="认识可执行-Jar"><a href="#认识可执行-Jar" class="headerlink" title="认识可执行 Jar"></a>认识可执行 Jar</h3><p><strong>其中包含</strong></p>
<ul>
<li>Jar 描述，<code>META-INF/MANIFEST.MF</code></li>
<li>Spring Boot Loader，org&#x2F;springframework&#x2F;boot&#x2F;loader</li>
<li>项目内容，BOOT-INF&#x2F;classes</li>
<li>项目依赖，BOOT-INF&#x2F;lib</li>
</ul>
<p><strong>其中不包含</strong></p>
<ul>
<li>JDK &#x2F; JRE</li>
</ul>
<h3 id="如何找到程序的入口"><a href="#如何找到程序的入口" class="headerlink" title="如何找到程序的入口"></a>如何找到程序的入口</h3><p><strong>Jar 的启动类</strong></p>
<ul>
<li><code>MANIFEST.MF</code></li>
<li><code>Main-Class: org.springframework.boot.loader.JarLauncher</code></li>
</ul>
<p><strong>项目的主类</strong></p>
<ul>
<li><code>@SpringApplication</code></li>
<li><code>MANIFEST.MF</code></li>
<li><code>Start-Class: xxx.yyy.zzz</code></li>
</ul>
<h3 id="84-如何将-Spring-Boot-应用打包成-Docker-镜像文件"><a href="#84-如何将-Spring-Boot-应用打包成-Docker-镜像文件" class="headerlink" title="84 | 如何将 Spring Boot 应用打包成 Docker 镜像文件"></a>84 | 如何将 Spring Boot 应用打包成 Docker 镜像文件</h3><h3 id="什么是-Docker-镜像"><a href="#什么是-Docker-镜像" class="headerlink" title="什么是 Docker 镜像"></a>什么是 Docker 镜像</h3><ul>
<li>镜像是静态的只读模板</li>
<li>镜像中包含构建 Docker 容器器的指令</li>
<li>镜像是分层的</li>
<li>通过 Dockerfile 来创建镜像</li>
</ul>
<h3 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h3><p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20230806142644.png"></p>
<h3 id="通过-Maven-构建-Docker-镜像"><a href="#通过-Maven-构建-Docker-镜像" class="headerlink" title="通过 Maven 构建 Docker 镜像"></a>通过 Maven 构建 Docker 镜像</h3><p>准备工作</p>
<ul>
<li>提供一个 Dockerfile</li>
<li>配置 dockerfile-maven-plugin 插件</li>
</ul>
<p>执行构建</p>
<ul>
<li><code>mvn package</code></li>
<li><code>mvn dockerfile:build</code></li>
</ul>
<p>检查结果</p>
<ul>
<li><code>docker images</code></li>
</ul>
<h3 id="85-SpringBucks-实战项目进度小结"><a href="#85-SpringBucks-实战项目进度小结" class="headerlink" title="85 | SpringBucks 实战项目进度小结"></a>85 | SpringBucks 实战项目进度小结</h3><p>略</p>
<h2 id="第十一章：Spring-Cloud-及-Cloud-Native-概述-5-讲"><a href="#第十一章：Spring-Cloud-及-Cloud-Native-概述-5-讲" class="headerlink" title="第十一章：Spring Cloud 及 Cloud Native 概述 (5 讲)"></a>第十一章：Spring Cloud 及 Cloud Native 概述 (5 讲)</h2><h3 id="86-简单理解微服务"><a href="#86-简单理解微服务" class="headerlink" title="86 | 简单理解微服务"></a>86 | 简单理解微服务</h3><p>微服务就是一些协同工作的小而自治的服务。</p>
<p>微服务的优点</p>
<ul>
<li>易于部署</li>
<li>与组织结构对齐</li>
<li>可组合性</li>
<li>可替代性</li>
</ul>
<p>微服务的代价</p>
<ul>
<li>架构复杂</li>
<li>运维复杂</li>
</ul>
<h3 id="87-如何理解云原生-Cloud-Native"><a href="#87-如何理解云原生-Cloud-Native" class="headerlink" title="87 | 如何理解云原生(Cloud Native)"></a>87 | 如何理解云原生(Cloud Native)</h3><p>云原生技术有利于各组织在公有云、私有云和混合云等新型动态环境中，构建和运行可弹性扩展的应用。</p>
<p>云原生应用要求</p>
<ul>
<li>DevOps</li>
<li>持续交付</li>
<li>微服务</li>
<li>容器</li>
</ul>
<p>Cloud Native Computing Foundation，缩写 CNCF</p>
<h3 id="88-12-Factor-App（上）"><a href="#88-12-Factor-App（上）" class="headerlink" title="88 | 12-Factor App（上）"></a>88 | 12-Factor App（上）</h3><h3 id="89-12-Factor-App（下）"><a href="#89-12-Factor-App（下）" class="headerlink" title="89 | 12-Factor App（下）"></a>89 | 12-Factor App（下）</h3><p>12-Factor 为构建 SaaS 应用提供了方法论。</p>
<p>参考资料：<a target="_blank" rel="noopener" href="https://12factor.net/zh_cn/">https://12factor.net/zh_cn/</a></p>
<ul>
<li><p>基准代码 - 一份基准代码，多份部署。解决方案：git</p>
</li>
<li><p>依赖 - 显式声明依赖关系。解决方案：maven、gradle</p>
</li>
<li><p>配置 - 在环境中存储配置。解决方案：apollo</p>
</li>
<li><p>后端服务 - 把后端服务当作附加资源</p>
</li>
<li><p>构建，发布，运行 - 严格分离构建和运行。解决方案：CI&#x2F;CD（如：jenkins、sonar 等）</p>
</li>
<li><p>进程 - 以一个或多个无状态进程运行应用</p>
</li>
<li><p>端口绑定 - 通过端口绑定提供服务</p>
</li>
<li><p>并发 - 通过进程模型进行扩展</p>
</li>
<li><p>易处理 - 快速启动和优雅终止可最大化健壮性</p>
</li>
<li><p>开发环境与线上环境等价 - 尽可能的保持开发，预发布，线上环境相同</p>
</li>
<li><p>日志 - 把日志当作事件流</p>
</li>
<li><p>管理进程 - 后台管理任务当作一次性进程运行</p>
</li>
</ul>
<h3 id="90-认识-Spring-Cloud-的组成部分"><a href="#90-认识-Spring-Cloud-的组成部分" class="headerlink" title="90 | 认识 Spring Cloud 的组成部分"></a>90 | 认识 Spring Cloud 的组成部分</h3><p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20230729155944.svg"></p>
<p>Spring Cloud 的主要功能</p>
<ul>
<li>服务发现</li>
<li>服务熔断</li>
<li>配置服务</li>
<li>服务安全</li>
<li>服务网关</li>
<li>分布式消息</li>
<li>分布式跟踪</li>
<li>各种云平台支持</li>
</ul>
<h2 id="第十二章：服务注册与发现-9-讲"><a href="#第十二章：服务注册与发现-9-讲" class="headerlink" title="第十二章：服务注册与发现 (9 讲)"></a>第十二章：服务注册与发现 (9 讲)</h2><h3 id="91-使用-Eureka-作为服务注册中心"><a href="#91-使用-Eureka-作为服务注册中心" class="headerlink" title="91 | 使用 Eureka 作为服务注册中心"></a>91 | 使用 Eureka 作为服务注册中心</h3><ul>
<li><strong>SpringCloud 启动包</strong><ul>
<li>服务端 - <code>spring-cloud-starter-netflix-eureka-server</code></li>
<li>客户端 - <code>spring-cloud-starter-netflix-eureka-client</code></li>
</ul>
</li>
<li><strong>注解</strong><ul>
<li>服务端启动注解 - <code>@EnableEurekaServer</code></li>
<li>客户端启动注解<ul>
<li>通用注解 - <code>@EnableDiscoveryClient</code></li>
<li>Eureka 特定注解 - <code>@EnableEurekaClient</code></li>
</ul>
</li>
</ul>
</li>
<li><strong>要点</strong><ul>
<li>Eureka 默认端口 8761</li>
</ul>
</li>
<li><strong>配置</strong><ul>
<li><code>eureka.client.serviceUrl.defaultZone</code> - 注册地址，如 <a target="_blank" rel="noopener" href="http://localhost:10001/eureka/">http://localhost:10001/eureka/</a></li>
<li><code>eureka.client.register-with-eureka</code> - 是否将自己注册到 Eureka Server，默认为 true</li>
<li><code>eureka.client.fetch-registry</code> - 是否从 Eureka Server 获取注册信息，默认为 true</li>
</ul>
</li>
</ul>
<h3 id="92-使用-Spring-Cloud-Loadbalancer-访问服务"><a href="#92-使用-Spring-Cloud-Loadbalancer-访问服务" class="headerlink" title="92 | 使用 Spring Cloud Loadbalancer 访问服务"></a>92 | 使用 Spring Cloud Loadbalancer 访问服务</h3><ul>
<li>如何获得服务地址<ul>
<li><code>org.springframework.cloud.netflix.eureka.EurekaDiscoveryClient</code></li>
<li><code>org.springframework.cloud.client.discovery.DiscoveryClient</code> - 通用接口，推荐方式</li>
</ul>
</li>
<li>负载均衡客户端<ul>
<li><code>@LoadBalanced</code></li>
<li>实际是通过 <code>ClientHttpRequestInterceptor</code> 实现的</li>
<li><code>LoadBalancerInterceptor</code></li>
<li><code>LoadBalancerClient</code></li>
<li><code>RibbonLoadBalancerClient</code></li>
</ul>
</li>
</ul>
<h3 id="93-使用-Feign-访问服务"><a href="#93-使用-Feign-访问服务" class="headerlink" title="93 | 使用 Feign 访问服务"></a>93 | 使用 Feign 访问服务</h3><p>声明式 REST Web 服务客户端</p>
<ul>
<li><strong>SpringCloud 启动包</strong><ul>
<li>spring-cloud-starter-openfeign</li>
</ul>
</li>
<li><strong>注解</strong><ul>
<li>启动注解 - <code>@EnableFeignClients</code></li>
<li>定义接口注解 - <code>@FeignClient</code></li>
</ul>
</li>
<li><strong>配置</strong> - <code>org.springframework.cloud.openfeign.FeignClientsConfiguration</code></li>
</ul>
<h3 id="94-深入理解服务发现背后的-DiscoveryClient"><a href="#94-深入理解服务发现背后的-DiscoveryClient" class="headerlink" title="94 | 深入理解服务发现背后的 DiscoveryClient"></a>94 | 深入理解服务发现背后的 DiscoveryClient</h3><ul>
<li><strong>服务端抽象接口</strong> - <code>org.springframework.cloud.client.serviceregistry.ServiceRegistry</code><ul>
<li><code>EurekaServiceRegistry</code></li>
<li><code>EurekaRegistration</code></li>
<li><code>EurekaAutoServiceRegistration</code></li>
<li><code>EurekaClientAutoConfiguration</code></li>
</ul>
</li>
<li><strong>客户端抽象接口</strong> - <code>org.springframework.cloud.client.discovery.DiscoveryClient</code><ul>
<li><code>@EnableDiscoveryClient</code></li>
</ul>
</li>
<li><strong>负载均衡抽象接口</strong> - <code>org.springframework.cloud.client.loadbalancer.LoadBalancerClient</code></li>
</ul>
<h3 id="95-使用-Zookeeper-作为服务注册中心"><a href="#95-使用-Zookeeper-作为服务注册中心" class="headerlink" title="95 | 使用 Zookeeper 作为服务注册中心"></a>95 | 使用 Zookeeper 作为服务注册中心</h3><ul>
<li><strong>SpringCloud 启动包</strong><ul>
<li><strong>spring-cloud-starter-zookeeper-discovery</strong></li>
</ul>
</li>
<li><strong>配置</strong><ul>
<li><code>ZookeeperAutoConfiguration</code></li>
<li><code>ZookeeperDiscoveryAutoConfiguration</code></li>
</ul>
</li>
</ul>
<h3 id="96-使用-Consul-作为服务注册中心"><a href="#96-使用-Consul-作为服务注册中心" class="headerlink" title="96 | 使用 Consul 作为服务注册中心"></a>96 | 使用 Consul 作为服务注册中心</h3><ul>
<li><strong>SpringCloud 启动包</strong><ul>
<li><strong>spring-cloud-starter-consul-discovery</strong></li>
</ul>
</li>
<li><strong>配置</strong><ul>
<li><code>ConsulAutoConfiguration</code></li>
</ul>
</li>
</ul>
<h3 id="97-使用-Nacos-作为服务注册中心"><a href="#97-使用-Nacos-作为服务注册中心" class="headerlink" title="97 | 使用 Nacos 作为服务注册中心"></a>97 | 使用 Nacos 作为服务注册中心</h3><ul>
<li><strong>SpringCloud 启动包</strong><ul>
<li><strong>spring-cloud-starter-alibaba-nacos-discovery</strong></li>
</ul>
</li>
<li><strong>配置</strong><ul>
<li><code>NacosDiscoveryAutoConfiguration</code></li>
</ul>
</li>
</ul>
<h3 id="98-如何定制自己的-DiscoveryClient"><a href="#98-如何定制自己的-DiscoveryClient" class="headerlink" title="98 | 如何定制自己的 DiscoveryClient"></a>98 | 如何定制自己的 DiscoveryClient</h3><p><strong><code>DiscoveryClient</code></strong></p>
<ul>
<li><code>EurekaDiscoveryClient</code></li>
<li><code>ZooKeeperDiscoveryClient</code></li>
<li><code>ConsulDiscoveryClient</code></li>
<li><code>NacosDiscoveryClient</code></li>
</ul>
<p><strong><code>LoadBalancerClient</code></strong></p>
<ul>
<li><code>RibbonLoadBalancerClient</code></li>
</ul>
<p><strong>自定义 DiscoveryClient 步骤</strong></p>
<ul>
<li>返回该 DiscoveryClient 能提供的服务名列表</li>
<li>返回指定服务对应的 ServiceInstance 列表</li>
<li>返回 DiscoveryClient 的顺序</li>
<li>返回 HealthIndicator 里显示的描述</li>
</ul>
<p>自定义 RibbonClient 支持</p>
<ul>
<li>实现 <code>ServerList&lt;T extends Server&gt;</code></li>
<li>Ribbon 提供了 AbstractServerList</li>
<li>提供一个配置类，声明 ServerList Bean 实例</li>
</ul>
<h3 id="99-SpringBucks-实战项目进度小结"><a href="#99-SpringBucks-实战项目进度小结" class="headerlink" title="99 | SpringBucks 实战项目进度小结"></a>99 | SpringBucks 实战项目进度小结</h3><p>略</p>
<h2 id="第十三章：服务熔断-7-讲"><a href="#第十三章：服务熔断-7-讲" class="headerlink" title="第十三章：服务熔断 (7 讲)"></a>第十三章：服务熔断 (7 讲)</h2><h3 id="100-使用-Hystrix-实现服务熔断（上）"><a href="#100-使用-Hystrix-实现服务熔断（上）" class="headerlink" title="100 | 使用 Hystrix 实现服务熔断（上）"></a>100 | 使用 Hystrix 实现服务熔断（上）</h3><p>断路器模式</p>
<p>在断路器对象中封装受保护的方法调用</p>
<p>该对象监控调用和断路情况</p>
<p>调用失败触发阈值后，后序调用直接由断路器返回错误，不再执行实际调用</p>
<h3 id="101-使用-Hystrix-实现服务熔断（下）"><a href="#101-使用-Hystrix-实现服务熔断（下）" class="headerlink" title="101 | 使用 Hystrix 实现服务熔断（下）"></a>101 | 使用 Hystrix 实现服务熔断（下）</h3><ul>
<li><p><strong>Hystrix 应用</strong></p>
<ul>
<li>注解</li>
<li>@HystrixCommand<ul>
<li>fallbackMethod</li>
<li>commandProperties<ul>
<li>@HystrixProperty</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>SpringCloud 启动包</strong></p>
<ul>
<li><strong>spring-cloud-starter-netflix-hystrix</strong></li>
</ul>
</li>
<li><p><strong>注解</strong></p>
<ul>
<li><code>@EnableCircuitBreaker</code> - 断路器开启注解</li>
</ul>
</li>
<li><p><strong>Feign 支持</strong></p>
<ul>
<li><code>feign.hystrix.enabled=true</code></li>
<li><code>@FeignClient</code> 的 <code>fallback</code> &#x2F; <code>fallbackFactory</code></li>
</ul>
</li>
<li><p><strong>配置</strong></p>
<ul>
<li><code>HystrixCircuitBreakerAutoConfiguration</code></li>
</ul>
</li>
</ul>
<h3 id="102-如何观察服务熔断"><a href="#102-如何观察服务熔断" class="headerlink" title="102 | 如何观察服务熔断"></a>102 | 如何观察服务熔断</h3><p>Spring Cloud 对于熔断的监控支持</p>
<ul>
<li>Hystrix Metrics Stream<ul>
<li>spring-boot-starter-actuator</li>
<li><code>/actuator/hystrix.stream</code></li>
</ul>
</li>
<li>Hystrix Dashboard<ul>
<li>spring-cloud-starter-netflix-hystrix-dashboard</li>
<li><code>@EnableHystrixDashboard</code></li>
<li><code>/hystirx</code></li>
</ul>
</li>
</ul>
<p><strong>聚合集群熔断信息</strong></p>
<ul>
<li><strong>SpringCloud 启动包</strong> - spring-cloud-starter-netflix-turbines</li>
<li><strong>注解</strong> - <code>@EnableTurbine</code></li>
<li><code>/turbine/stream?cluster=集群名</code></li>
</ul>
<h3 id="103-使用-Resilience4j-实现服务熔断"><a href="#103-使用-Resilience4j-实现服务熔断" class="headerlink" title="103 | 使用 Resilience4j 实现服务熔断"></a>103 | 使用 Resilience4j 实现服务熔断</h3><p>Hystrix 官方已经停止维护，因此建议选择其他产品来替代。例如：<a target="_blank" rel="noopener" href="https://github.com/resilience4j/resilience4j">Resilience4J</a></p>
<ul>
<li><p>Resilience4J 实现</p>
<ul>
<li>基于 <code>ConcurrentHashMap</code> 的内存断路器</li>
<li><code>CircuitBreakerRegistry</code></li>
<li><code>CircuitBreakerConfig</code></li>
</ul>
</li>
<li><p>Resilience4J 依赖</p>
<ul>
<li>resilience4j-spring-boot2</li>
</ul>
</li>
<li><p>注解</p>
<ul>
<li>@CircuitBreaker</li>
</ul>
</li>
<li><p>配置</p>
<ul>
<li>CircuitBreakerProperties</li>
</ul>
</li>
</ul>
<h3 id="104-使用-Resilience4j-实现服务限流（上）"><a href="#104-使用-Resilience4j-实现服务限流（上）" class="headerlink" title="104 | 使用 Resilience4j 实现服务限流（上）"></a>104 | 使用 Resilience4j 实现服务限流（上）</h3><p>Bulkhead</p>
<ul>
<li>目的<ul>
<li>防止下游依赖被并发请求冲击</li>
<li>防止发生雪崩</li>
</ul>
</li>
<li>用法<ul>
<li>BulkheadRegistry &#x2F; BulkheadConfig</li>
<li>@Bulkhead(name &#x3D; “xxx”)</li>
</ul>
</li>
</ul>
<h3 id="105-使用-Resilience4j-实现服务限流（下）"><a href="#105-使用-Resilience4j-实现服务限流（下）" class="headerlink" title="105 | 使用 Resilience4j 实现服务限流（下）"></a>105 | 使用 Resilience4j 实现服务限流（下）</h3><p>RateLimit</p>
<ul>
<li>目的<ul>
<li>限制特定时间内的执行次数</li>
</ul>
</li>
<li>用法<ul>
<li><code>RateLimiterRegistry</code> &#x2F; <code>RateLimiterConfig</code></li>
<li><code>@RateLimiter</code></li>
</ul>
</li>
<li>配置</li>
<li>RateLimiterPropertis</li>
</ul>
<h3 id="106-SpringBucks-实战项目进度小结"><a href="#106-SpringBucks-实战项目进度小结" class="headerlink" title="106 | SpringBucks 实战项目进度小结"></a>106 | SpringBucks 实战项目进度小结</h3><p>略</p>
<h2 id="第十四章：服务配置-7-讲"><a href="#第十四章：服务配置-7-讲" class="headerlink" title="第十四章：服务配置 (7 讲)"></a>第十四章：服务配置 (7 讲)</h2><h3 id="107-基于-Git-的配置中心（上）"><a href="#107-基于-Git-的配置中心（上）" class="headerlink" title="107 | 基于 Git 的配置中心（上）"></a>107 | 基于 Git 的配置中心（上）</h3><p>目的</p>
<p>提供针对外置配置的 HTTP API</p>
<ul>
<li><strong>SpringCloud 启动包</strong> - spring-cloud-config-server</li>
<li><strong>注解</strong> - <code>@EnableConfigServer</code></li>
</ul>
<h3 id="108-基于-Git-的配置中心（下）"><a href="#108-基于-Git-的配置中心（下）" class="headerlink" title="108 | 基于 Git 的配置中心（下）"></a>108 | 基于 Git 的配置中心（下）</h3><h3 id="109-基于-Zookeeper-的配置中心"><a href="#109-基于-Zookeeper-的配置中心" class="headerlink" title="109 | 基于 Zookeeper 的配置中心"></a>109 | 基于 Zookeeper 的配置中心</h3><h3 id="110-深入理解-Spring-Cloud-的配置抽象"><a href="#110-深入理解-Spring-Cloud-的配置抽象" class="headerlink" title="110 | 深入理解 Spring Cloud 的配置抽象"></a>110 | 深入理解 Spring Cloud 的配置抽象</h3><p>实现</p>
<ul>
<li>类似于 Spring 的 Environment 和 PropertySource</li>
<li>在上下文中增加 Spring Cloud Config 的 PropertySource</li>
</ul>
<p>PropertySource 子类</p>
<ul>
<li><code>ZooKeeperPropertySource</code></li>
<li><code>ConsulPropertySource</code></li>
<li><code>ConsulFilePropertySource</code></li>
</ul>
<p>PropertySourceLocator</p>
<p>EnvironmentRepositry</p>
<p>配置刷新</p>
<ul>
<li>&#x2F;actuator&#x2F;refresh</li>
<li>Spring Cloud Bus - RegfreshRemoteApplicationEvent</li>
</ul>
<p>ZooKeeperConfigBootstrapConfiguration</p>
<p>ZooKeeperConfigAutoConfiguration</p>
<h3 id="111-基于-Consul-的配置中心"><a href="#111-基于-Consul-的配置中心" class="headerlink" title="111 | 基于 Consul 的配置中心"></a>111 | 基于 Consul 的配置中心</h3><p><strong>SpringCloud 启动包</strong> - spring-cloud-starter-consual-config</p>
<p><strong>配置文件</strong> - bootstrap.propertis | yml</p>
<h3 id="112-基于-Nacos-的配置中心"><a href="#112-基于-Nacos-的配置中心" class="headerlink" title="112 | 基于 Nacos 的配置中心"></a>112 | 基于 Nacos 的配置中心</h3><p><strong>SpringCloud 启动包</strong> - spring-cloud-starter-alibaba-nacos-config</p>
<p><strong>配置文件</strong> - bootstrap.propertis | yml</p>
<h3 id="113-SpringBucks-实战项目进度小结"><a href="#113-SpringBucks-实战项目进度小结" class="headerlink" title="113 | SpringBucks 实战项目进度小结"></a>113 | SpringBucks 实战项目进度小结</h3><p>略</p>
<h2 id="第十五章：Spring-Cloud-Stream-4-讲"><a href="#第十五章：Spring-Cloud-Stream-4-讲" class="headerlink" title="第十五章：Spring Cloud Stream (4 讲)"></a>第十五章：Spring Cloud Stream (4 讲)</h2><h3 id="114-认识-Spring-Cloud-Stream"><a href="#114-认识-Spring-Cloud-Stream" class="headerlink" title="114 | 认识 Spring Cloud Stream"></a>114 | 认识 Spring Cloud Stream</h3><p>Spring Cloud Stream 是一款用于构建消息驱动的微服务应用程序的轻量级框架。</p>
<p>特性</p>
<ul>
<li>声明式编程模型</li>
<li>引入多种概念抽象：发布订阅、消费组、分区</li>
<li>支持多种消息中间件：RabbitMQ、Kafka</li>
</ul>
<p>概念</p>
<ul>
<li>Binding<ul>
<li>生产者、消费者与 MQ 之间的桥梁</li>
<li>@EnableBinding</li>
<li>@Input &#x2F;SubscribableChannel</li>
<li>@Output &#x2F; MessageChannel</li>
</ul>
</li>
<li>消费组</li>
<li>分区</li>
</ul>
<p>生产消息</p>
<ul>
<li>使用 MessageChannel 的 send()</li>
<li>@SendTo</li>
</ul>
<p>消费消息</p>
<ul>
<li>@StreamListener</li>
<li>@Payload &#x2F; @Headers &#x2F; @Header</li>
</ul>
<h3 id="115-通过-Spring-Cloud-Stream-访问-RabbitMQ"><a href="#115-通过-Spring-Cloud-Stream-访问-RabbitMQ" class="headerlink" title="115 | 通过 Spring Cloud Stream 访问 RabbitMQ"></a>115 | 通过 Spring Cloud Stream 访问 RabbitMQ</h3><p><strong>SpringCloud 启动包</strong> - spring-cloud-starter-stream-rabbit</p>
<p><strong>SpringBoot 启动包</strong> - spring-boot-starter-amqp</p>
<p><strong>配置</strong></p>
<p><code>org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration</code></p>
<h3 id="116-通过-Spring-Cloud-Stream-访问-Kafka"><a href="#116-通过-Spring-Cloud-Stream-访问-Kafka" class="headerlink" title="116 | 通过 Spring Cloud Stream 访问 Kafka"></a>116 | 通过 Spring Cloud Stream 访问 Kafka</h3><p><strong>SpringCloud 启动包</strong> - spring-cloud-starter-stream-kafka</p>
<p><strong>配置</strong> - <code>org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration</code></p>
<p>Spring 定时任务</p>
<ul>
<li>TaskScheduler &#x2F; Trigger &#x2F; TriggerContext</li>
<li>配置定时任务<ul>
<li><code>@EnableScheduling</code></li>
<li><code>&lt;task:scheduler /&gt;</code></li>
<li><code>@Scheduled</code></li>
</ul>
</li>
</ul>
<p>Spring 事件机制</p>
<ul>
<li><code>ApplicationEvent</code></li>
<li>发送事件<ul>
<li><code>ApplicationEventPublisher</code></li>
<li><code>ApplicationEventPublisherAware</code></li>
</ul>
</li>
<li>监听事件<ul>
<li><code>ApplicationListener&lt;T&gt;</code></li>
<li><code>@EventListener</code></li>
</ul>
</li>
</ul>
<h3 id="117-SpringBucks-实战项目进度小结"><a href="#117-SpringBucks-实战项目进度小结" class="headerlink" title="117 | SpringBucks 实战项目进度小结"></a>117 | SpringBucks 实战项目进度小结</h3><p>略</p>
<h2 id="第十六章：服务链路追踪-6-讲"><a href="#第十六章：服务链路追踪-6-讲" class="headerlink" title="第十六章：服务链路追踪 (6 讲)"></a>第十六章：服务链路追踪 (6 讲)</h2><h3 id="118-通过-Dapper-理解链路治理"><a href="#118-通过-Dapper-理解链路治理" class="headerlink" title="118 | 通过 Dapper 理解链路治理"></a>118 | 通过 Dapper 理解链路治理</h3><p>略</p>
<h3 id="119-使用-Spring-Cloud-Sleuth-实现链路追踪"><a href="#119-使用-Spring-Cloud-Sleuth-实现链路追踪" class="headerlink" title="119 | 使用 Spring Cloud Sleuth 实现链路追踪"></a>119 | 使用 Spring Cloud Sleuth 实现链路追踪</h3><p><strong>SpringCloud 启动包</strong> - spring-cloud-starter-sleuth、spring-cloud-starter-zipkin</p>
<h3 id="120-如何追踪消息链路"><a href="#120-如何追踪消息链路" class="headerlink" title="120 | 如何追踪消息链路"></a>120 | 如何追踪消息链路</h3><p>略</p>
<h3 id="121-除了链路还要治理什么"><a href="#121-除了链路还要治理什么" class="headerlink" title="121 | 除了链路还要治理什么"></a>121 | 除了链路还要治理什么</h3><p>略</p>
<h3 id="122-SpringBucks-实战项目进度小结"><a href="#122-SpringBucks-实战项目进度小结" class="headerlink" title="122 | SpringBucks 实战项目进度小结"></a>122 | SpringBucks 实战项目进度小结</h3><p>略</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a target="_blank" rel="noopener" href="https://time.geekbang.org/course/intro/156">玩转 Spring 全家桶</a></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>钝悟 ◾ Dunwu
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://dunwu.github.io/blog/pages/ede171bb/" title="《极客时间教程 - 玩转 Spring 全家桶》笔记">https://dunwu.github.io/blog/pages/ede171bb/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/blog/tags/Java/" rel="tag"># Java</a>
              <a href="/blog/tags/%E6%A1%86%E6%9E%B6/" rel="tag"># 框架</a>
              <a href="/blog/tags/Spring/" rel="tag"># Spring</a>
              <a href="/blog/tags/SpringBoot/" rel="tag"># SpringBoot</a>
              <a href="/blog/tags/SpringCloud/" rel="tag"># SpringCloud</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/blog/pages/266510c3/" rel="prev" title="《24 讲吃透分布式数据库》笔记">
                  <i class="fa fa-angle-left"></i> 《24 讲吃透分布式数据库》笔记
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/blog/pages/c13783ff/" rel="next" title="Redis 数据结构">
                  Redis 数据结构 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2015 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">钝悟 ◾ Dunwu</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">4.5m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">68:08</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/dunwu/blog" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: '🌓',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"dunwu","repo":"blog","client_id":"c45bc13ca1d3d3aa4836","client_secret":"1907a9f0c22087badad3938e1d7dcba9078f88ac","admin_user":"dunwu","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"zh-CN","js":{"url":"https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"6c017c6b1aa8b6a5f7520c50bf0097e6"}</script>
<script src="/blog/js/third-party/comments/gitalk.js" defer></script>

</body>
</html>
