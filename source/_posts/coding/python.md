---
title: ä¸€ç¯‡æ–‡ç« è®©ä½ å½»åº•æŒæ¡ Python
categories: ['ç¼–ç¨‹']
tags: ['ç¼–ç¨‹', 'python']
date: 2018-06-28 16:52
---

> ğŸ“¦ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ[blog](https://github.com/dunwu/blog)ã€

# Python ç¼–ç¨‹

## è§£é‡Šå™¨

Linux/Unix çš„ç³»ç»Ÿä¸Šï¼ŒPython è§£é‡Šå™¨é€šå¸¸è¢«å®‰è£…åœ¨ `/usr/local/bin/python3.4` è¿™æ ·çš„æœ‰æ•ˆè·¯å¾„ï¼ˆç›®å½•ï¼‰é‡Œã€‚

æˆ‘ä»¬å¯ä»¥å°†è·¯å¾„ `/usr/local/bin` æ·»åŠ åˆ°æ‚¨çš„ Linux/Unix æ“ä½œç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥é€šè¿‡ shell ç»ˆç«¯è¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥å¯åŠ¨ Python ã€‚

åœ¨ Linux/Unix ç³»ç»Ÿä¸­ï¼Œä½ å¯ä»¥åœ¨è„šæœ¬é¡¶éƒ¨æ·»åŠ ä»¥ä¸‹å‘½ä»¤è®© Python è„šæœ¬å¯ä»¥åƒ SHELL è„šæœ¬ä¸€æ ·å¯ç›´æ¥æ‰§è¡Œï¼š

```python
#! /usr/bin/env python3.4
```

## æ³¨é‡Š

Python ä¸­çš„æ³¨é‡Šæœ‰ä¸‰ç§å½¢å¼ï¼š

- ä»¥ `#` å¼€å¤´
- ä»¥ `'''` å¼€å§‹ï¼Œä»¥ `'''` ç»“å°¾
- ä»¥ `"""` å¼€å§‹ï¼Œä»¥ `"""` ç»“å°¾

```python
# å•è¡Œæ³¨é‡Š

'''
è¿™æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œç”¨ä¸‰ä¸ªå•å¼•å·
è¿™æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œç”¨ä¸‰ä¸ªå•å¼•å·
è¿™æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œç”¨ä¸‰ä¸ªå•å¼•å·
'''

"""
è¿™æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œç”¨ä¸‰ä¸ªåŒå¼•å·
è¿™æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œç”¨ä¸‰ä¸ªåŒå¼•å·
è¿™æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œç”¨ä¸‰ä¸ªåŒå¼•å·
"""
```

## æ•°æ®ç±»å‹

Python3 ä¸­æœ‰å…­ä¸ªæ ‡å‡†çš„æ•°æ®ç±»å‹ï¼š

- Numbersï¼ˆæ•°å­—ï¼‰
- Stringï¼ˆå­—ç¬¦ä¸²ï¼‰
- Listï¼ˆåˆ—è¡¨ï¼‰
- Tupleï¼ˆå…ƒç»„ï¼‰
- Setsï¼ˆé›†åˆï¼‰
- Dictionariesï¼ˆå­—å…¸ï¼‰

## æ“ä½œç¬¦

Python è¯­è¨€æ”¯æŒä»¥ä¸‹ç±»å‹çš„è¿ç®—ç¬¦:

- ç®—æœ¯è¿ç®—ç¬¦

- æ¯”è¾ƒï¼ˆå…³ç³»ï¼‰è¿ç®—ç¬¦

- èµ‹å€¼è¿ç®—ç¬¦

- é€»è¾‘è¿ç®—ç¬¦

- ä½è¿ç®—ç¬¦

- æˆå‘˜è¿ç®—ç¬¦

- èº«ä»½è¿ç®—ç¬¦

- è¿ç®—ç¬¦ä¼˜å…ˆçº§

### ç®—æœ¯è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | æè¿°                                            | å®ä¾‹                                    |
| ------ | ----------------------------------------------- | --------------------------------------- |
| +      | åŠ  - ä¸¤ä¸ªå¯¹è±¡ç›¸åŠ                                | a + b è¾“å‡ºç»“æœ 31                       |
| -      | å‡ - å¾—åˆ°è´Ÿæ•°æˆ–æ˜¯ä¸€ä¸ªæ•°å‡å»å¦ä¸€ä¸ªæ•°             | a - b è¾“å‡ºç»“æœ -11                      |
| \*     | ä¹˜ - ä¸¤ä¸ªæ•°ç›¸ä¹˜æˆ–æ˜¯è¿”å›ä¸€ä¸ªè¢«é‡å¤è‹¥å¹²æ¬¡çš„å­—ç¬¦ä¸² | a \* b è¾“å‡ºç»“æœ 210                     |
| /      | é™¤ - x é™¤ä»¥ y                                   | b / a è¾“å‡ºç»“æœ 2.1                      |
| %      | å–æ¨¡ - è¿”å›é™¤æ³•çš„ä½™æ•°                           | b % a è¾“å‡ºç»“æœ 1                        |
| \*\*   | å¹‚ - è¿”å› x çš„ y æ¬¡å¹‚                           | a\*\*b ä¸º 10 çš„ 21 æ¬¡æ–¹                 |
| //     | å–æ•´é™¤ - è¿”å›å•†çš„æ•´æ•°éƒ¨åˆ†                       | 9//2 è¾“å‡ºç»“æœ 4 , 9.0//2.0 è¾“å‡ºç»“æœ 4.0 |

### æ¯”è¾ƒè¿ç®—ç¬¦

| è¿ç®—ç¬¦ | æè¿°                                                                                                                                  | å®ä¾‹                  |
| ------ | ------------------------------------------------------------------------------------------------------------------------------------- | --------------------- |
| ==     | ç­‰äº - æ¯”è¾ƒå¯¹è±¡æ˜¯å¦ç›¸ç­‰                                                                                                               | (a == b) è¿”å› Falseã€‚ |
| !=     | ä¸ç­‰äº - æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ç›¸ç­‰                                                                                                       | (a != b) è¿”å› True.   |
| >      | å¤§äº - è¿”å› x æ˜¯å¦å¤§äº y                                                                                                              | (a > b) è¿”å› Falseã€‚  |
| <      | å°äº - è¿”å› x æ˜¯å¦å°äº yã€‚æ‰€æœ‰æ¯”è¾ƒè¿ç®—ç¬¦è¿”å› 1 è¡¨ç¤ºçœŸï¼Œè¿”å› 0 è¡¨ç¤ºå‡ã€‚è¿™åˆ†åˆ«ä¸ç‰¹æ®Šçš„å˜é‡ True å’Œ False ç­‰ä»·ã€‚æ³¨æ„ï¼Œè¿™äº›å˜é‡åçš„å¤§å†™ã€‚ | (a < b) è¿”å› Trueã€‚   |
| >=     | å¤§äºç­‰äº - è¿”å› x æ˜¯å¦å¤§äºç­‰äº yã€‚                                                                                                    | (a >= b) è¿”å› Falseã€‚ |
| <=     | å°äºç­‰äº - è¿”å› x æ˜¯å¦å°äºç­‰äº yã€‚                                                                                                    | (a <= b) è¿”å› Trueã€‚  |

### èµ‹å€¼è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | æè¿°             | å®ä¾‹                                  |
| ------ | ---------------- | ------------------------------------- |
| =      | ç®€å•çš„èµ‹å€¼è¿ç®—ç¬¦ | c = a + b å°† a + b çš„è¿ç®—ç»“æœèµ‹å€¼ä¸º c |
| +=     | åŠ æ³•èµ‹å€¼è¿ç®—ç¬¦   | c += a ç­‰æ•ˆäº c = c + a               |
| -=     | å‡æ³•èµ‹å€¼è¿ç®—ç¬¦   | c -= a ç­‰æ•ˆäº c = c - a               |
| \*=    | ä¹˜æ³•èµ‹å€¼è¿ç®—ç¬¦   | c _= a ç­‰æ•ˆäº c = c _ a               |
| /=     | é™¤æ³•èµ‹å€¼è¿ç®—ç¬¦   | c /= a ç­‰æ•ˆäº c = c / a               |
| %=     | å–æ¨¡èµ‹å€¼è¿ç®—ç¬¦   | c %= a ç­‰æ•ˆäº c = c % a               |
| \*\*=  | å¹‚èµ‹å€¼è¿ç®—ç¬¦     | c **= a ç­‰æ•ˆäº c = c ** a             |
| //=    | å–æ•´é™¤èµ‹å€¼è¿ç®—ç¬¦ | c //= a ç­‰æ•ˆäº c = c // a             |

### ä½è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | æè¿°                                                                                             | å®ä¾‹                                                                            |
| ------ | ------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------- |
| &      | æŒ‰ä½ä¸è¿ç®—ç¬¦ï¼šå‚ä¸è¿ç®—çš„ä¸¤ä¸ªå€¼,å¦‚æœä¸¤ä¸ªç›¸åº”ä½éƒ½ä¸º 1,åˆ™è¯¥ä½çš„ç»“æœä¸º 1,å¦åˆ™ä¸º 0                    | (a & b) è¾“å‡ºç»“æœ 12 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 0000 1100                                    |
| \|     | æŒ‰ä½æˆ–è¿ç®—ç¬¦ï¼šåªè¦å¯¹åº”çš„äºŒä¸ªäºŒè¿›ä½æœ‰ä¸€ä¸ªä¸º 1 æ—¶ï¼Œç»“æœä½å°±ä¸º 1ã€‚                                  | (a \| b) è¾“å‡ºç»“æœ 61 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 0011 1101                                   |
| ^      | æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦ï¼šå½“ä¸¤å¯¹åº”çš„äºŒè¿›ä½ç›¸å¼‚æ—¶ï¼Œç»“æœä¸º 1                                                 | (a ^ b) è¾“å‡ºç»“æœ 49 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 0011 0001                                    |
| \~     | æŒ‰ä½å–åè¿ç®—ç¬¦ï¼šå¯¹æ•°æ®çš„æ¯ä¸ªäºŒè¿›åˆ¶ä½å–å,å³æŠŠ 1 å˜ä¸º 0,æŠŠ 0 å˜ä¸º 1                               | (\~a ) è¾“å‡ºç»“æœ -61 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 1100 0011ï¼Œ åœ¨ä¸€ä¸ªæœ‰ç¬¦å·äºŒè¿›åˆ¶æ•°çš„è¡¥ç å½¢å¼ã€‚ |
| <<     | å·¦ç§»åŠ¨è¿ç®—ç¬¦ï¼šè¿ç®—æ•°çš„å„äºŒè¿›ä½å…¨éƒ¨å·¦ç§»è‹¥å¹²ä½ï¼Œç”±"<<"å³è¾¹çš„æ•°æŒ‡å®šç§»åŠ¨çš„ä½æ•°ï¼Œé«˜ä½ä¸¢å¼ƒï¼Œä½ä½è¡¥ 0ã€‚ | a << 2 è¾“å‡ºç»“æœ 240 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 1111 0000                                    |
| >>     | å³ç§»åŠ¨è¿ç®—ç¬¦ï¼šæŠŠ">>"å·¦è¾¹çš„è¿ç®—æ•°çš„å„äºŒè¿›ä½å…¨éƒ¨å³ç§»è‹¥å¹²ä½ï¼Œ">>"å³è¾¹çš„æ•°æŒ‡å®šç§»åŠ¨çš„ä½æ•°             | a >> 2 è¾“å‡ºç»“æœ 15 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 0000 1111                                     |

### é€»è¾‘è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | é€»è¾‘è¡¨è¾¾å¼ | æè¿°                                                                    | å®ä¾‹                    |
| ------ | ---------- | ----------------------------------------------------------------------- | ----------------------- |
| and    | x and y    | å¸ƒå°”"ä¸" - å¦‚æœ x ä¸º Falseï¼Œx and y è¿”å› Falseï¼Œå¦åˆ™å®ƒè¿”å› y çš„è®¡ç®—å€¼ã€‚ | (a and b) è¿”å› 20ã€‚     |
| or     | x or y     | å¸ƒå°”"æˆ–" - å¦‚æœ x æ˜¯ Trueï¼Œå®ƒè¿”å› x çš„å€¼ï¼Œå¦åˆ™å®ƒè¿”å› y çš„è®¡ç®—å€¼ã€‚       | (a or b) è¿”å› 10ã€‚      |
| not    | not x      | å¸ƒå°”"é" - å¦‚æœ x ä¸º Trueï¼Œè¿”å› False ã€‚å¦‚æœ x ä¸º Falseï¼Œå®ƒè¿”å› Trueã€‚  | not(a and b) è¿”å› False |

### æˆå‘˜è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | æè¿°                                                    | å®ä¾‹                                              |
| ------ | ------------------------------------------------------- | ------------------------------------------------- |
| in     | å¦‚æœåœ¨æŒ‡å®šçš„åºåˆ—ä¸­æ‰¾åˆ°å€¼è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚     | x åœ¨ y åºåˆ—ä¸­ , å¦‚æœ x åœ¨ y åºåˆ—ä¸­è¿”å› Trueã€‚     |
| not in | å¦‚æœåœ¨æŒ‡å®šçš„åºåˆ—ä¸­æ²¡æœ‰æ‰¾åˆ°å€¼è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ | x ä¸åœ¨ y åºåˆ—ä¸­ , å¦‚æœ x ä¸åœ¨ y åºåˆ—ä¸­è¿”å› Trueã€‚ |

### èº«ä»½è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | æè¿°                                        | å®ä¾‹                                                       |
| ------ | ------------------------------------------- | ---------------------------------------------------------- |
| is     | is æ˜¯åˆ¤æ–­ä¸¤ä¸ªæ ‡è¯†ç¬¦æ˜¯ä¸æ˜¯å¼•ç”¨è‡ªä¸€ä¸ªå¯¹è±¡     | x is y, å¦‚æœ id(x) ç­‰äº id(y) , **is** è¿”å›ç»“æœ 1          |
| is not | is not æ˜¯åˆ¤æ–­ä¸¤ä¸ªæ ‡è¯†ç¬¦æ˜¯ä¸æ˜¯å¼•ç”¨è‡ªä¸åŒå¯¹è±¡ | x is not y, å¦‚æœ id(x) ä¸ç­‰äº id(y). **is not** è¿”å›ç»“æœ 1 |

### è¿ç®—ç¬¦ä¼˜å…ˆçº§

| è¿ç®—ç¬¦                      | æè¿°                                                   |
| --------------------------- | ------------------------------------------------------ |
| \*\*                        | æŒ‡æ•° (æœ€é«˜ä¼˜å…ˆçº§)                                      |
| \~ + -                      | æŒ‰ä½ç¿»è½¬, ä¸€å…ƒåŠ å·å’Œå‡å· (æœ€åä¸¤ä¸ªçš„æ–¹æ³•åä¸º +@ å’Œ -@) |
| \* / % //                   | ä¹˜ï¼Œé™¤ï¼Œå–æ¨¡å’Œå–æ•´é™¤                                   |
| + -                         | åŠ æ³•å‡æ³•                                               |
| >> <<                       | å³ç§»ï¼Œå·¦ç§»è¿ç®—ç¬¦                                       |
| &                           | ä½ 'AND'                                               |
| ^ \|                        | ä½è¿ç®—ç¬¦                                               |
| <= < > >=                   | æ¯”è¾ƒè¿ç®—ç¬¦                                             |
| <> == !=                    | ç­‰äºè¿ç®—ç¬¦                                             |
| = %= /= //= -= += \*= \*\*= | èµ‹å€¼è¿ç®—ç¬¦                                             |
| is is not                   | èº«ä»½è¿ç®—ç¬¦                                             |
| in not in                   | æˆå‘˜è¿ç®—ç¬¦                                             |
| not or and                  | é€»è¾‘è¿ç®—ç¬¦                                             |

## æ§åˆ¶è¯­å¥

### æ¡ä»¶è¯­å¥

```python
if condition_1:
    statement_block_1
elif condition_2:
    statement_block_2
else:
    statement_block_3
```

### å¾ªç¯è¯­å¥

#### while

```python
while åˆ¤æ–­æ¡ä»¶ï¼š
    statements
```

#### for

```python
for <variable> in <sequence>:
  <statements>
```

#### range()

```python
for i in range(0, 10, 3) :
    print(i)
```

#### break å’Œ continue

- break è¯­å¥å¯ä»¥è·³å‡º for å’Œ while çš„å¾ªç¯ä½“ã€‚
- continue è¯­å¥è¢«ç”¨æ¥å‘Šè¯‰ Python è·³è¿‡å½“å‰å¾ªç¯å—ä¸­çš„å‰©ä½™è¯­å¥ï¼Œç„¶åç»§ç»­è¿›è¡Œä¸‹ä¸€è½®å¾ªç¯ã€‚

#### pass

pass è¯­å¥ä»€ä¹ˆéƒ½ä¸åšã€‚å®ƒåªåœ¨è¯­æ³•ä¸Šéœ€è¦ä¸€æ¡è¯­å¥ä½†ç¨‹åºä¸éœ€è¦ä»»ä½•æ“ä½œæ—¶ä½¿ç”¨.ä¾‹å¦‚:

```python
while True:
    pass  # ç­‰å¾…é”®ç›˜ä¸­æ–­ (Ctrl+C)
```

## å‡½æ•°

Python å®šä¹‰å‡½æ•°ä½¿ç”¨ def å…³é”®å­—ï¼Œä¸€èˆ¬æ ¼å¼å¦‚ä¸‹ï¼š

```python
def  å‡½æ•°åï¼ˆå‚æ•°åˆ—è¡¨ï¼‰ï¼š
    å‡½æ•°ä½“
```

### å‡½æ•°å˜é‡ä½œç”¨åŸŸ

```python
#!/usr/bin/env python3
a = 4  # å…¨å±€å˜é‡

def print_func1():
    a = 17 # å±€éƒ¨å˜é‡
    print("in print_func a = ", a)
def print_func2():
    print("in print_func a = ", a)
print_func1()
print_func2()
print("a = ", a)
```

ä»¥ä¸Šå®ä¾‹è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

```python
in print_func a =  17
in print_func a =  4
a =  4
```

### å…³é”®å­—å‚æ•°

å‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨ kwarg=value çš„å…³é”®å­—å‚æ•°å½¢å¼è¢«è°ƒç”¨.ä¾‹å¦‚,ä»¥ä¸‹å‡½æ•°:

```python
def parrot(voltage, state='a stiff', action='voom', type='Norwegian Blue'):
    print("-- This parrot wouldn't", action, end=' ')
    print("if you put", voltage, "volts through it.")
    print("-- Lovely plumage, the", type)
    print("-- It's", state, "!")
```

å¯ä»¥ä»¥ä¸‹å‡ ç§æ–¹å¼è¢«è°ƒç”¨:

```python
parrot(1000)                                          # 1 positional argument
parrot(voltage=1000)                                  # 1 keyword argument
parrot(voltage=1000000, action='VOOOOOM')             # 2 keyword arguments
parrot(action='VOOOOOM', voltage=1000000)             # 2 keyword arguments
parrot('a million', 'bereft of life', 'jump')         # 3 positional arguments
parrot('a thousand', state='pushing up the daisies')  # 1 positional, 1 keyword
```

ä»¥ä¸‹ä¸ºé”™è¯¯è°ƒç”¨æ–¹æ³•ï¼š

```
parrot()                     # required argument missing
parrot(voltage=5.0, 'dead')  # non-keyword argument after a keyword argument
parrot(110, voltage=220)     # duplicate value for the same argument
parrot(actor='John Cleese')  # unknown keyword argument
```

### å¯å˜å‚æ•°åˆ—è¡¨

æœ€å,ä¸€ä¸ªæœ€ä¸å¸¸ç”¨çš„é€‰æ‹©æ˜¯å¯ä»¥è®©å‡½æ•°è°ƒç”¨å¯å˜ä¸ªæ•°çš„å‚æ•°.è¿™äº›å‚æ•°è¢«åŒ…è£…è¿›ä¸€ä¸ªå…ƒç»„(æŸ¥çœ‹å…ƒç»„å’Œåºåˆ—).åœ¨è¿™äº›å¯å˜ä¸ªæ•°çš„å‚æ•°ä¹‹å‰,å¯ä»¥æœ‰é›¶åˆ°å¤šä¸ªæ™®é€šçš„å‚æ•°:

```python
def arithmetic_mean(*args):
    sum = 0
    for x in args:
        sum += x
    return sum
```

### è¿”å›å€¼

Python çš„å‡½æ•°çš„è¿”å›å€¼ä½¿ç”¨ return è¯­å¥ï¼Œå¯ä»¥å°†å‡½æ•°ä½œä¸ºä¸€ä¸ªå€¼èµ‹å€¼ç»™æŒ‡å®šå˜é‡ï¼š

```python
def return_sum(x,y):
    c = x + y
    return c
```

## å¼‚å¸¸

### å¼‚å¸¸å¤„ç†

try è¯­å¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼å·¥ä½œï¼›

- é¦–å…ˆï¼Œæ‰§è¡Œ try å­å¥ï¼ˆåœ¨å…³é”®å­— try å’Œå…³é”®å­— except ä¹‹é—´çš„è¯­å¥ï¼‰
- å¦‚æœæ²¡æœ‰å¼‚å¸¸å‘ç”Ÿï¼Œå¿½ç•¥ except å­å¥ï¼Œtry å­å¥æ‰§è¡Œåç»“æŸã€‚
- å¦‚æœåœ¨æ‰§è¡Œ try å­å¥çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†å¼‚å¸¸ï¼Œé‚£ä¹ˆ try å­å¥ä½™ä¸‹çš„éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚å¦‚æœå¼‚å¸¸çš„ç±»å‹å’Œ except ä¹‹åçš„åç§°ç›¸ç¬¦ï¼Œé‚£ä¹ˆå¯¹åº”çš„ except å­å¥å°†è¢«æ‰§è¡Œã€‚æœ€åæ‰§è¡Œ try è¯­å¥ä¹‹åçš„ä»£ç ã€‚
- å¦‚æœä¸€ä¸ªå¼‚å¸¸æ²¡æœ‰ä¸ä»»ä½•çš„ except åŒ¹é…ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸å°†ä¼šä¼ é€’ç»™ä¸Šå±‚çš„ try ä¸­ã€‚
- ä¸ç®¡ try å­å¥é‡Œé¢æœ‰æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œfinally å­å¥éƒ½ä¼šæ‰§è¡Œã€‚

```python
import sys

try:
    f = open('myfile.txt')
    s = f.readline()
    i = int(s.strip())
except OSError as err:
    print("OS error: {0}".format(err))
except ValueError:
    print("Could not convert data to an integer.")
except:
    print("Unexpected error:", sys.exc_info()[0])
    raise
finally:
    # æ¸…ç†è¡Œä¸º
```

### æŠ›å‡ºå¼‚å¸¸

Python ä½¿ç”¨ raise è¯­å¥æŠ›å‡ºä¸€ä¸ªæŒ‡å®šçš„å¼‚å¸¸ã€‚ä¾‹å¦‚:

```python
>>> raise NameError('HiThere')
Traceback (most recent call last):
  File "<stdin>", line 1, in ?
NameError: HiThere
```

### è‡ªå®šä¹‰å¼‚å¸¸

å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„ exception ç±»æ¥æ‹¥æœ‰è‡ªå·±çš„å¼‚å¸¸ã€‚å¼‚å¸¸åº”è¯¥ç»§æ‰¿è‡ª Exception ç±»ï¼Œæˆ–è€…ç›´æ¥ç»§æ‰¿ï¼Œæˆ–è€…é—´æ¥ç»§æ‰¿ã€‚

å½“åˆ›å»ºä¸€ä¸ªæ¨¡å—æœ‰å¯èƒ½æŠ›å‡ºå¤šç§ä¸åŒçš„å¼‚å¸¸æ—¶ï¼Œä¸€ç§é€šå¸¸çš„åšæ³•æ˜¯ä¸ºè¿™ä¸ªåŒ…å»ºç«‹ä¸€ä¸ªåŸºç¡€å¼‚å¸¸ç±»ï¼Œç„¶ååŸºäºè¿™ä¸ªåŸºç¡€ç±»ä¸ºä¸åŒçš„é”™è¯¯æƒ…å†µåˆ›å»ºä¸åŒçš„å­ç±»ï¼š

```python
class Error(Exception):
    """Base class for exceptions in this module."""
    pass

class InputError(Error):
    """Exception raised for errors in the input.

    Attributes:
        expression -- input expression in which the error occurred
        message -- explanation of the error
    """

    def __init__(self, expression, message):
        self.expression = expression
        self.message = message

class TransitionError(Error):
    """Raised when an operation attempts a state transition that's not
    allowed.

    Attributes:
        previous -- state at beginning of transition
        next -- attempted new state
        message -- explanation of why the specific transition is not allowed
    """

    def __init__(self, previous, next, message):
        self.previous = previous
        self.next = next
        self.message = message
```

å¤§å¤šæ•°çš„å¼‚å¸¸çš„åå­—éƒ½ä»¥"Error"ç»“å°¾ï¼Œå°±è·Ÿæ ‡å‡†çš„å¼‚å¸¸å‘½åä¸€æ ·ã€‚

## é¢å‘å¯¹è±¡

### é¢å‘å¯¹è±¡æŠ€æœ¯ç®€ä»‹

- **ç±»(Class):** ç”¨æ¥æè¿°å…·æœ‰ç›¸åŒçš„å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡çš„é›†åˆã€‚å®ƒå®šä¹‰äº†è¯¥é›†åˆä¸­æ¯ä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ã€‚

- **ç±»å˜é‡ï¼š**ç±»å˜é‡åœ¨æ•´ä¸ªå®ä¾‹åŒ–çš„å¯¹è±¡ä¸­æ˜¯å…¬ç”¨çš„ã€‚ç±»å˜é‡å®šä¹‰åœ¨ç±»ä¸­ä¸”åœ¨å‡½æ•°ä½“ä¹‹å¤–ã€‚ç±»å˜é‡é€šå¸¸ä¸ä½œä¸ºå®ä¾‹å˜é‡ä½¿ç”¨ã€‚

- **æ•°æ®æˆå‘˜ï¼š**ç±»å˜é‡æˆ–è€…å®ä¾‹å˜é‡ç”¨äºå¤„ç†ç±»åŠå…¶å®ä¾‹å¯¹è±¡çš„ç›¸å…³çš„æ•°æ®ã€‚

- **æ–¹æ³•é‡å†™ï¼š**å¦‚æœä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•ä¸èƒ½æ»¡è¶³å­ç±»çš„éœ€æ±‚ï¼Œå¯ä»¥å¯¹å…¶è¿›è¡Œæ”¹å†™ï¼Œè¿™ä¸ªè¿‡ç¨‹å«æ–¹æ³•çš„è¦†ç›–ï¼ˆoverrideï¼‰ï¼Œä¹Ÿç§°ä¸ºæ–¹æ³•çš„é‡å†™ã€‚

- **å®ä¾‹å˜é‡ï¼š**å®šä¹‰åœ¨æ–¹æ³•ä¸­çš„å˜é‡ï¼Œåªä½œç”¨äºå½“å‰å®ä¾‹çš„ç±»ã€‚

- **ç»§æ‰¿ï¼š**å³ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼ˆderived classï¼‰ç»§æ‰¿åŸºç±»ï¼ˆbase classï¼‰çš„å­—æ®µå’Œæ–¹æ³•ã€‚ç»§æ‰¿ä¹Ÿå…è®¸æŠŠä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ä½œä¸ºä¸€ä¸ªåŸºç±»å¯¹è±¡å¯¹å¾…ã€‚ä¾‹å¦‚ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªè®¾è®¡ï¼šä¸€ä¸ª Dog ç±»å‹çš„å¯¹è±¡æ´¾ç”Ÿè‡ª Animal ç±»ï¼Œè¿™æ˜¯æ¨¡æ‹Ÿ"æ˜¯ä¸€ä¸ªï¼ˆis-aï¼‰"å…³ç³»ï¼ˆä¾‹å›¾ï¼ŒDog æ˜¯ä¸€ä¸ª Animalï¼‰ã€‚

- **å®ä¾‹åŒ–ï¼š**åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œç±»çš„å…·ä½“å¯¹è±¡ã€‚

- **æ–¹æ³•ï¼š**ç±»ä¸­å®šä¹‰çš„å‡½æ•°ã€‚

- **å¯¹è±¡ï¼š**é€šè¿‡ç±»å®šä¹‰çš„æ•°æ®ç»“æ„å®ä¾‹ã€‚å¯¹è±¡åŒ…æ‹¬ä¸¤ä¸ªæ•°æ®æˆå‘˜ï¼ˆç±»å˜é‡å’Œå®ä¾‹å˜é‡ï¼‰å’Œæ–¹æ³•ã€‚

### ç±»å®šä¹‰

è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š

```python
class ClassName:
    <statement-1>
    .
    .
    .
    <statement-N>
```

ç±»å®ä¾‹åŒ–åï¼Œå¯ä»¥ä½¿ç”¨å…¶å±æ€§ï¼Œå®é™…ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªç±»ä¹‹åï¼Œå¯ä»¥é€šè¿‡ç±»åè®¿é—®å…¶å±æ€§ã€‚

### ç±»å¯¹è±¡

ç±»å¯¹è±¡æ”¯æŒä¸¤ç§æ“ä½œï¼šå±æ€§å¼•ç”¨å’Œå®ä¾‹åŒ–ã€‚

å±æ€§å¼•ç”¨ä½¿ç”¨å’Œ Python ä¸­æ‰€æœ‰çš„å±æ€§å¼•ç”¨ä¸€æ ·çš„æ ‡å‡†è¯­æ³•ï¼š**obj.name**ã€‚

ç±»å¯¹è±¡åˆ›å»ºåï¼Œç±»å‘½åç©ºé—´ä¸­æ‰€æœ‰çš„å‘½åéƒ½æ˜¯æœ‰æ•ˆå±æ€§åã€‚æ‰€ä»¥å¦‚æœç±»å®šä¹‰æ˜¯è¿™æ ·:

```python
#!/usr/bin/python3

class MyClass:
    """ä¸€ä¸ªç®€å•çš„ç±»å®ä¾‹"""
    i = 12345
    def f(self):
        return 'hello world'

# å®ä¾‹åŒ–ç±»
x = MyClass()

# è®¿é—®ç±»çš„å±æ€§å’Œæ–¹æ³•
print("MyClass ç±»çš„å±æ€§ i ä¸ºï¼š", x.i)
print("MyClass ç±»çš„æ–¹æ³• f è¾“å‡ºä¸ºï¼š", x.f())
```

å®ä¾‹åŒ–ç±»ï¼š

```python
# å®ä¾‹åŒ–ç±»
x = MyClass()
# è®¿é—®ç±»çš„å±æ€§å’Œæ–¹æ³•
```

ä»¥ä¸Šåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç±»å®ä¾‹å¹¶å°†è¯¥å¯¹è±¡èµ‹ç»™å±€éƒ¨å˜é‡ xï¼Œx ä¸ºç©ºçš„å¯¹è±¡ã€‚

æ‰§è¡Œä»¥ä¸Šç¨‹åºè¾“å‡ºç»“æœä¸ºï¼š

```
MyClass ç±»çš„å±æ€§ i ä¸ºï¼š 12345
MyClass ç±»çš„æ–¹æ³• f è¾“å‡ºä¸ºï¼š hello world
```

å¾ˆå¤šç±»éƒ½å€¾å‘äºå°†å¯¹è±¡åˆ›å»ºä¸ºæœ‰åˆå§‹çŠ¶æ€çš„ã€‚å› æ­¤ç±»å¯èƒ½ä¼šå®šä¹‰ä¸€ä¸ªåä¸º **init**() çš„ç‰¹æ®Šæ–¹æ³•ï¼ˆæ„é€ æ–¹æ³•ï¼‰ï¼Œåƒä¸‹é¢è¿™æ ·ï¼š

```python
def __init__(self):
    self.data = []
```

ç±»å®šä¹‰äº† **init**() æ–¹æ³•çš„è¯ï¼Œç±»çš„å®ä¾‹åŒ–æ“ä½œä¼šè‡ªåŠ¨è°ƒç”¨ **init**() æ–¹æ³•ã€‚æ‰€ä»¥åœ¨ä¸‹ä¾‹ä¸­ï¼Œå¯ä»¥è¿™æ ·åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹:

```python
x = MyClass()
```

å½“ç„¶ï¼Œ **init**() æ–¹æ³•å¯ä»¥æœ‰å‚æ•°ï¼Œå‚æ•°é€šè¿‡ **init**() ä¼ é€’åˆ°ç±»çš„å®ä¾‹åŒ–æ“ä½œä¸Šã€‚ä¾‹å¦‚:

```python
>>> class Complex:
...     def __init__(self, realpart, imagpart):
...         self.r = realpart
...         self.i = imagpart
...
>>> x = Complex(3.0, -4.5)
>>> x.r, x.i
(3.0, -4.5)
```

### ç±»çš„æ–¹æ³•

åœ¨ç±»åœ°å†…éƒ¨ï¼Œä½¿ç”¨ def å…³é”®å­—å¯ä»¥ä¸ºç±»å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¸ä¸€èˆ¬å‡½æ•°å®šä¹‰ä¸åŒï¼Œç±»æ–¹æ³•å¿…é¡»åŒ…å«å‚æ•° self,ä¸”ä¸ºç¬¬ä¸€ä¸ªå‚æ•°:

```python
#!/usr/bin/python3

#ç±»å®šä¹‰
class people:
    #å®šä¹‰åŸºæœ¬å±æ€§
    name = ''
    age = 0
    #å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—®
    __weight = 0
    #å®šä¹‰æ„é€ æ–¹æ³•
    def __init__(self,n,a,w):
        self.name = n
        self.age = a
        self.__weight = w
    def speak(self):
        print("%s è¯´: æˆ‘ %d å²ã€‚" %(self.name,self.age))

# å®ä¾‹åŒ–ç±»
p = people('W3Cschool',10,30)
p.speak()
```

æ‰§è¡Œä»¥ä¸Šç¨‹åºè¾“å‡ºç»“æœä¸ºï¼š

```
W3Cschool è¯´: æˆ‘ 10 å²ã€‚
```

### ç»§æ‰¿

Python åŒæ ·æ”¯æŒç±»çš„ç»§æ‰¿ï¼Œå¦‚æœä¸€ç§è¯­è¨€ä¸æ”¯æŒç»§æ‰¿å°±ï¼Œç±»å°±æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚æ´¾ç”Ÿç±»çš„å®šä¹‰å¦‚ä¸‹æ‰€ç¤º:

```python
class DerivedClassName(BaseClassName1):
    <statement-1>
    .
    .
    .
    <statement-N>
```

éœ€è¦æ³¨æ„åœ†æ‹¬å·ä¸­åŸºç±»çš„é¡ºåºï¼Œè‹¥æ˜¯åŸºç±»ä¸­æœ‰ç›¸åŒçš„æ–¹æ³•åï¼Œè€Œåœ¨å­ç±»ä½¿ç”¨æ—¶æœªæŒ‡å®šï¼Œpython ä»å·¦è‡³å³æœç´¢ å³æ–¹æ³•åœ¨å­ç±»ä¸­æœªæ‰¾åˆ°æ—¶ï¼Œä»å·¦åˆ°å³æŸ¥æ‰¾åŸºç±»ä¸­æ˜¯å¦åŒ…å«æ–¹æ³•ã€‚

BaseClassNameï¼ˆç¤ºä¾‹ä¸­çš„åŸºç±»åï¼‰å¿…é¡»ä¸æ´¾ç”Ÿç±»å®šä¹‰åœ¨ä¸€ä¸ªä½œç”¨åŸŸå†…ã€‚é™¤äº†ç±»ï¼Œè¿˜å¯ä»¥ç”¨è¡¨è¾¾å¼ï¼ŒåŸºç±»å®šä¹‰åœ¨å¦ä¸€ä¸ªæ¨¡å—ä¸­æ—¶è¿™ä¸€ç‚¹éå¸¸æœ‰ç”¨:

```
class DerivedClassName(modname.BaseClassName):
```

**å®ä¾‹**

```python
#!/usr/bin/python3

#ç±»å®šä¹‰
class people:
    #å®šä¹‰åŸºæœ¬å±æ€§
    name = ''
    age = 0
    #å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—®
    __weight = 0
    #å®šä¹‰æ„é€ æ–¹æ³•
    def __init__(self,n,a,w):
        self.name = n
        self.age = a
        self.__weight = w
    def speak(self):
        print("%s è¯´: æˆ‘ %d å²ã€‚" %(self.name,self.age))

#å•ç»§æ‰¿ç¤ºä¾‹
class student(people):
    grade = ''
    def __init__(self,n,a,w,g):
        #è°ƒç”¨çˆ¶ç±»çš„æ„å‡½
        people.__init__(self,n,a,w)
        self.grade = g
    #è¦†å†™çˆ¶ç±»çš„æ–¹æ³•
    def speak(self):
        print("%s è¯´: æˆ‘ %d å²äº†ï¼Œæˆ‘åœ¨è¯» %d å¹´çº§"%(self.name,self.age,self.grade))



s = student('ken',10,60,3)
s.speak()
```

æ‰§è¡Œä»¥ä¸Šç¨‹åºè¾“å‡ºç»“æœä¸ºï¼š

```
ken è¯´: æˆ‘ 10 å²äº†ï¼Œæˆ‘åœ¨è¯» 3 å¹´çº§
```

### å¤šç»§æ‰¿

Python åŒæ ·æœ‰é™çš„æ”¯æŒå¤šç»§æ‰¿å½¢å¼ã€‚å¤šç»§æ‰¿çš„ç±»å®šä¹‰å½¢å¦‚ä¸‹ä¾‹:

```python
class DerivedClassName(Base1, Base2, Base3):
    <statement-1>
    .
    .
    .
    <statement-N>
```

éœ€è¦æ³¨æ„åœ†æ‹¬å·ä¸­çˆ¶ç±»çš„é¡ºåºï¼Œè‹¥æ˜¯çˆ¶ç±»ä¸­æœ‰ç›¸åŒçš„æ–¹æ³•åï¼Œè€Œåœ¨å­ç±»ä½¿ç”¨æ—¶æœªæŒ‡å®šï¼Œpython ä»å·¦è‡³å³æœç´¢ å³æ–¹æ³•åœ¨å­ç±»ä¸­æœªæ‰¾åˆ°æ—¶ï¼Œä»å·¦åˆ°å³æŸ¥æ‰¾çˆ¶ç±»ä¸­æ˜¯å¦åŒ…å«æ–¹æ³•ã€‚

```python
#!/usr/bin/python3

#ç±»å®šä¹‰
class people:
    #å®šä¹‰åŸºæœ¬å±æ€§
    name = ''
    age = 0
    #å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—®
    __weight = 0
    #å®šä¹‰æ„é€ æ–¹æ³•
    def __init__(self,n,a,w):
        self.name = n
        self.age = a
        self.__weight = w
    def speak(self):
        print("%s è¯´: æˆ‘ %d å²ã€‚" %(self.name,self.age))

#å•ç»§æ‰¿ç¤ºä¾‹
class student(people):
    grade = ''
    def __init__(self,n,a,w,g):
        #è°ƒç”¨çˆ¶ç±»çš„æ„å‡½
        people.__init__(self,n,a,w)
        self.grade = g
    #è¦†å†™çˆ¶ç±»çš„æ–¹æ³•
    def speak(self):
        print("%s è¯´: æˆ‘ %d å²äº†ï¼Œæˆ‘åœ¨è¯» %d å¹´çº§"%(self.name,self.age,self.grade))

#å¦ä¸€ä¸ªç±»ï¼Œå¤šé‡ç»§æ‰¿ä¹‹å‰çš„å‡†å¤‡
class speaker():
    topic = ''
    name = ''
    def __init__(self,n,t):
        self.name = n
        self.topic = t
    def speak(self):
        print("æˆ‘å« %sï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ¼”è¯´å®¶ï¼Œæˆ‘æ¼”è®²çš„ä¸»é¢˜æ˜¯ %s"%(self.name,self.topic))

#å¤šé‡ç»§æ‰¿
class sample(speaker,student):
    a =''
    def __init__(self,n,a,w,g,t):
        student.__init__(self,n,a,w,g)
        speaker.__init__(self,n,t)

test = sample("Tim",25,80,4,"Python")
test.speak()   #æ–¹æ³•ååŒï¼Œé»˜è®¤è°ƒç”¨çš„æ˜¯åœ¨æ‹¬å·ä¸­æ’å‰åœ°çˆ¶ç±»çš„æ–¹æ³•
```

æ‰§è¡Œä»¥ä¸Šç¨‹åºè¾“å‡ºç»“æœä¸ºï¼š

```
æˆ‘å« Timï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ¼”è¯´å®¶ï¼Œæˆ‘æ¼”è®²çš„ä¸»é¢˜æ˜¯ Python
```

### æ–¹æ³•é‡å†™

å¦‚æœä½ çš„çˆ¶ç±»æ–¹æ³•çš„åŠŸèƒ½ä¸èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œä½ å¯ä»¥åœ¨å­ç±»é‡å†™ä½ çˆ¶ç±»çš„æ–¹æ³•ï¼Œå®ä¾‹å¦‚ä¸‹ï¼š

```python
#!/usr/bin/python3

class Parent:        # å®šä¹‰çˆ¶ç±»
   def myMethod(self):
      print ('è°ƒç”¨çˆ¶ç±»æ–¹æ³•')

class Child(Parent): # å®šä¹‰å­ç±»
   def myMethod(self):
      print ('è°ƒç”¨å­ç±»æ–¹æ³•')

c = Child()          # å­ç±»å®ä¾‹
c.myMethod()         # å­ç±»è°ƒç”¨é‡å†™æ–¹æ³•
```

æ‰§è¡Œä»¥ä¸Šç¨‹åºè¾“å‡ºç»“æœä¸ºï¼š

```
è°ƒç”¨å­ç±»æ–¹æ³•
```

### ç±»å±æ€§ä¸æ–¹æ³•

#### ç±»çš„ç§æœ‰å±æ€§

**\_\_private_attrs**ï¼šä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥å±æ€§ä¸ºç§æœ‰ï¼Œä¸èƒ½åœ¨ç±»åœ°å¤–éƒ¨è¢«ä½¿ç”¨æˆ–ç›´æ¥è®¿é—®ã€‚åœ¨ç±»å†…éƒ¨çš„æ–¹æ³•ä¸­ä½¿ç”¨æ—¶**self.\_\_private_attrs**ã€‚

#### ç±»çš„æ–¹æ³•

åœ¨ç±»åœ°å†…éƒ¨ï¼Œä½¿ç”¨ def å…³é”®å­—å¯ä»¥ä¸ºç±»å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¸ä¸€èˆ¬å‡½æ•°å®šä¹‰ä¸åŒï¼Œç±»æ–¹æ³•å¿…é¡»åŒ…å«å‚æ•° self,ä¸”ä¸ºç¬¬ä¸€ä¸ªå‚æ•°

#### ç±»çš„ç§æœ‰æ–¹æ³•

**\_\_private_method**ï¼šä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥æ–¹æ³•ä¸ºç§æœ‰æ–¹æ³•ï¼Œä¸èƒ½åœ¨ç±»åœ°å¤–éƒ¨è°ƒç”¨ã€‚åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ **slef.\_\_private_methods**ã€‚

å®ä¾‹å¦‚ä¸‹ï¼š

```python
#!/usr/bin/python3

class JustCounter:
    __secretCount = 0  # ç§æœ‰å˜é‡
    publicCount = 0    # å…¬å¼€å˜é‡

    def count(self):
        self.__secretCount += 1
        self.publicCount += 1
        print (self.__secretCount)

counter = JustCounter()
counter.count()
counter.count()
print (counter.publicCount)
print (counter.__secretCount)  # æŠ¥é”™ï¼Œå®ä¾‹ä¸èƒ½è®¿é—®ç§æœ‰å˜é‡
```

æ‰§è¡Œä»¥ä¸Šç¨‹åºè¾“å‡ºç»“æœä¸ºï¼š

```
1
2
2
Traceback (most recent call last):
  File "test.py", line 16, in <module>
    print (counter.__secretCount)  # æŠ¥é”™ï¼Œå®ä¾‹ä¸èƒ½è®¿é—®ç§æœ‰å˜é‡
AttributeError: 'JustCounter' object has no attribute '__secretCount'
```

#### ç±»çš„ä¸“æœ‰æ–¹æ³•ï¼š

- \***\*init** :\*\* æ„é€ å‡½æ•°ï¼Œåœ¨ç”Ÿæˆå¯¹è±¡æ—¶è°ƒç”¨
- \***\*del** :\*\* ææ„å‡½æ•°ï¼Œé‡Šæ”¾å¯¹è±¡æ—¶ä½¿ç”¨
- \***\*repr** :\*\* æ‰“å°ï¼Œè½¬æ¢
- \***\*setitem** :\*\* æŒ‰ç…§ç´¢å¼•èµ‹å€¼
- \***\*getitem**:\*\* æŒ‰ç…§ç´¢å¼•è·å–å€¼
- \***\*len**:\*\* è·å¾—é•¿åº¦
- \***\*cmp**:\*\* æ¯”è¾ƒè¿ç®—
- \***\*call**:\*\* å‡½æ•°è°ƒç”¨
- \***\*add**:\*\* åŠ è¿ç®—
- \***\*sub**:\*\* å‡è¿ç®—
- \***\*mul**:\*\* ä¹˜è¿ç®—
- \***\*div**:\*\* é™¤è¿ç®—
- \***\*mod**:\*\* æ±‚ä½™è¿ç®—
- \***\*pow**:\*\* ä¹˜æ–¹

#### è¿ç®—ç¬¦é‡è½½

Python åŒæ ·æ”¯æŒè¿ç®—ç¬¦é‡è½½ï¼Œæˆ‘ä¹ˆå¯ä»¥å¯¹ç±»çš„ä¸“æœ‰æ–¹æ³•è¿›è¡Œé‡è½½ï¼Œå®ä¾‹å¦‚ä¸‹ï¼š

```python
#!/usr/bin/python3

class Vector:
   def __init__(self, a, b):
      self.a = a
      self.b = b

   def __str__(self):
      return 'Vector (%d, %d)' % (self.a, self.b)

   def __add__(self,other):
      return Vector(self.a + other.a, self.b + other.b)

v1 = Vector(2,10)
v2 = Vector(5,-2)
print (v1 + v2)
```

ä»¥ä¸Šä»£ç æ‰§è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤º:

```
Vector(7,8)
```

## æ ‡å‡†åº“æ¦‚è§ˆ

### æ“ä½œç³»ç»Ÿæ¥å£

os æ¨¡å—æä¾›äº†ä¸å°‘ä¸æ“ä½œç³»ç»Ÿç›¸å…³è”çš„å‡½æ•°ã€‚

```python
>>> import os
>>> os.getcwd()      # è¿”å›å½“å‰çš„å·¥ä½œç›®å½•
'C:\\Python34'
>>> os.chdir('/server/accesslogs')   # ä¿®æ”¹å½“å‰çš„å·¥ä½œç›®å½•
>>> os.system('mkdir today')   # æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ mkdir
0
```

### æ–‡ä»¶é€šé…ç¬¦

glob æ¨¡å—æä¾›äº†ä¸€ä¸ªå‡½æ•°ç”¨äºä»ç›®å½•é€šé…ç¬¦æœç´¢ä¸­ç”Ÿæˆæ–‡ä»¶åˆ—è¡¨:

```python
>>> import glob
>>> glob.glob('*.py')
['primes.py', 'random.py', 'quote.py']
```

### å‘½ä»¤è¡Œå‚æ•°

é€šç”¨å·¥å…·è„šæœ¬ç»å¸¸è°ƒç”¨å‘½ä»¤è¡Œå‚æ•°ã€‚è¿™äº›å‘½ä»¤è¡Œå‚æ•°ä»¥é“¾è¡¨å½¢å¼å­˜å‚¨äº sys æ¨¡å—çš„ argv å˜é‡ã€‚ä¾‹å¦‚åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ `python demo.py one two three` åå¯ä»¥å¾—åˆ°ä»¥ä¸‹è¾“å‡ºç»“æœ:

```python
>>> import sys
>>> print(sys.argv)
['demo.py', 'one', 'two', 'three']
```

### é”™è¯¯è¾“å‡ºé‡å®šå‘å’Œç¨‹åºç»ˆæ­¢

sys è¿˜æœ‰ stdinï¼Œstdout å’Œ stderr å±æ€§ï¼Œå³ä½¿åœ¨ stdout è¢«é‡å®šå‘æ—¶ï¼Œåè€…ä¹Ÿå¯ä»¥ç”¨äºæ˜¾ç¤ºè­¦å‘Šå’Œé”™è¯¯ä¿¡æ¯ã€‚

```python
>>> sys.stderr.write('Warning, log file not found starting a new one\n')
Warning, log file not found starting a new one
```

### å­—ç¬¦ä¸²æ­£åˆ™åŒ¹é…

re æ¨¡å—ä¸ºé«˜çº§å­—ç¬¦ä¸²å¤„ç†æä¾›äº†æ­£åˆ™è¡¨è¾¾å¼å·¥å…·ã€‚å¯¹äºå¤æ‚çš„åŒ¹é…å’Œå¤„ç†ï¼Œæ­£åˆ™è¡¨è¾¾å¼æä¾›äº†ç®€æ´ã€ä¼˜åŒ–çš„è§£å†³æ–¹æ¡ˆ:

```python
>>> import re
>>> re.findall(r'\bf[a-z]*', 'which foot or hand fell fastest')
['foot', 'fell', 'fastest']
>>> re.sub(r'(\b[a-z]+) \1', r'\1', 'cat in the the hat')
'cat in the hat'
```

### æ•°å­¦

math æ¨¡å—ä¸ºæµ®ç‚¹è¿ç®—æä¾›äº†å¯¹åº•å±‚ C å‡½æ•°åº“çš„è®¿é—®:

```python
>>> import math
>>> math.cos(math.pi / 4)
0.70710678118654757
>>> math.log(1024, 2)
10.0
```

# èµ„æ–™

- https://github.com/vinta/awesome-python - èµ„æºå¤§å…¨
- https://github.com/jobbole/awesome-python-cn - èµ„æºå¤§å…¨
- https://github.com/scrapy/scrapy - python çˆ¬è™«æ¡†æ¶
- https://github.com/faif/python-patterns - python è®¾è®¡æ¨¡å¼
- https://github.com/kennethreitz/python-guide - python æœ€ä½³å®è·µ
