<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/uploads/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/uploads/favicon.ico">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous" defer></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"dunwu.github.io","root":"/blog/","images":"/blog/images","scheme":"Pisces","darkmode":true,"version":"8.25.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"atom-one-light","dark":"atom-one-dark"},"prism":{"light":"atom-one-light","dark":"atom-one-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":true,"nav":null,"activeClass":"gitalk"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/blog/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src="/blog/js/config.js" defer></script>

    <meta name="description" content="é’æ‚Ÿçš„ä¸ªäººåšå®¢">
<meta property="og:type" content="website">
<meta property="og:title" content="Dunwu Blog">
<meta property="og:url" content="https://dunwu.github.io/blog/page/42/index.html">
<meta property="og:site_name" content="Dunwu Blog">
<meta property="og:description" content="é’æ‚Ÿçš„ä¸ªäººåšå®¢">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="é’æ‚Ÿ â—¾ Dunwu">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://dunwu.github.io/blog/page/42/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/42/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Dunwu Blog</title>
  








  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/blog/js/utils.js" defer></script><script src="/blog/js/motion.js" defer></script><script src="/blog/js/sidebar.js" defer></script><script src="/blog/js/next-boot.js" defer></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.5.0/dist/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/blog/js/third-party/search/local-search.js" defer></script>





  <script src="/blog/js/third-party/pace.js" defer></script>


  





  <noscript>
    <link rel="stylesheet" href="/blog/css/noscript.css">
  </noscript>
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Dunwu Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">å¤§é“è‡³ç®€ï¼ŒçŸ¥æ˜“è¡Œéš¾</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-about"><a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a></li><li class="menu-item menu-item-tags"><a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾<span class="badge">428</span></a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»<span class="badge">124</span></a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">508</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="æœç´¢..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="é’æ‚Ÿ â—¾ Dunwu"
      src="/blog/uploads/avatar.gif">
  <p class="site-author-name" itemprop="name">é’æ‚Ÿ â—¾ Dunwu</p>
  <div class="site-description" itemprop="description">é’æ‚Ÿçš„ä¸ªäººåšå®¢</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/blog/archives/">
          <span class="site-state-item-count">508</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/blog/categories/">
        <span class="site-state-item-count">124</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/blog/tags/">
        <span class="site-state-item-count">428</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/dunwu" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;dunwu" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:forbreak@163.com" title="E-Mail â†’ mailto:forbreak@163.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="è¿”å›é¡¶éƒ¨">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/pages/fe2da6cf/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="é’æ‚Ÿ â—¾ Dunwu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunwu Blog">
      <meta itemprop="description" content="é’æ‚Ÿçš„ä¸ªäººåšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Dunwu Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/pages/fe2da6cf/" class="post-title-link" itemprop="url">æ·±å…¥ç†è§£ Java æšä¸¾</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-06 15:02:02" itemprop="dateCreated datePublished" datetime="2019-05-06T15:02:02+08:00">2019-05-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-13 17:56:53" itemprop="dateModified" datetime="2025-09-13T17:56:53+08:00">2025-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Java/JavaCore/" itemprop="url" rel="index"><span itemprop="name">JavaCore</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Java/JavaCore/%E5%9F%BA%E7%A1%80%E7%89%B9%E6%80%A7/" itemprop="url" rel="index"><span itemprop="name">åŸºç¡€ç‰¹æ€§</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>13k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>11 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="æ·±å…¥ç†è§£-Java-æšä¸¾"><a href="#æ·±å…¥ç†è§£-Java-æšä¸¾" class="headerlink" title="æ·±å…¥ç†è§£ Java æšä¸¾"></a>æ·±å…¥ç†è§£ Java æšä¸¾</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><code>enum</code> çš„å…¨ç§°ä¸º enumerationï¼Œ æ˜¯ JDK5 ä¸­å¼•å…¥çš„ç‰¹æ€§ã€‚</p>
<p>åœ¨ Java ä¸­ï¼Œè¢« <code>enum</code> å…³é”®å­—ä¿®é¥°çš„ç±»å‹å°±æ˜¯æšä¸¾ç±»å‹ã€‚å½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">ColorEn</span> &#123; RED, GREEN, BLUE &#125;</span><br></pre></td></tr></table></figure>

<p><strong>æšä¸¾çš„å¥½å¤„</strong>ï¼šå¯ä»¥å°†å¸¸é‡ç»„ç»‡èµ·æ¥ï¼Œç»Ÿä¸€è¿›è¡Œç®¡ç†ã€‚</p>
<p><strong>æšä¸¾çš„å…¸å‹åº”ç”¨åœºæ™¯</strong>ï¼šé”™è¯¯ç ã€çŠ¶æ€æœºç­‰ã€‚</p>
<h2 id="æšä¸¾çš„æœ¬è´¨"><a href="#æšä¸¾çš„æœ¬è´¨" class="headerlink" title="æšä¸¾çš„æœ¬è´¨"></a>æšä¸¾çš„æœ¬è´¨</h2><p><code>java.lang.Enum</code>ç±»å£°æ˜</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Enum</span>&lt;E <span class="keyword">extends</span> <span class="title class_">Enum</span>&lt;E&gt;&gt;</span><br><span class="line">        <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;E&gt;, Serializable &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>æ–°å»ºä¸€ä¸ª ColorEn.java æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> io.github.dunwu.javacore.enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">ColorEn</span> &#123;</span><br><span class="line">    RED,YELLOW,BLUE</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ <code>javac ColorEn.java</code> å‘½ä»¤ï¼Œç”Ÿæˆ ColorEn.class æ–‡ä»¶ã€‚</p>
<p>ç„¶åæ‰§è¡Œ <code>javap ColorEn.class</code> å‘½ä»¤ï¼Œè¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Compiled from <span class="string">&quot;ColorEn.java&quot;</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">io</span>.github.dunwu.javacore.enumeration.ColorEn <span class="keyword">extends</span> <span class="title class_">java</span>.lang.Enum&lt;io.github.dunwu.javacore.enumeration.ColorEn&gt; &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> io.github.dunwu.javacore.enumeration.ColorEn RED;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> io.github.dunwu.javacore.enumeration.ColorEn YELLOW;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> io.github.dunwu.javacore.enumeration.ColorEn BLUE;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> io.github.dunwu.javacore.enumeration.ColorEn[] values();</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> io.github.dunwu.javacore.enumeration.ColorEn <span class="title function_">valueOf</span><span class="params">(java.lang.String)</span>;</span><br><span class="line">  <span class="keyword">static</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ’¡ è¯´æ˜ï¼š</p>
<p>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼š</p>
<p><strong>æšä¸¾çš„æœ¬è´¨æ˜¯ <code>java.lang.Enum</code> çš„å­ç±»ã€‚</strong></p>
<p>å°½ç®¡ <code>enum</code> çœ‹èµ·æ¥åƒæ˜¯ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ï¼Œäº‹å®ä¸Šï¼Œ<strong>enum æ˜¯ä¸€ç§å—é™åˆ¶çš„ç±»ï¼Œå¹¶ä¸”å…·æœ‰è‡ªå·±çš„æ–¹æ³•</strong>ã€‚æšä¸¾è¿™ç§ç‰¹æ®Šçš„ç±»å› ä¸ºè¢«ä¿®é¥°ä¸º <code>final</code>ï¼Œæ‰€ä»¥ä¸èƒ½ç»§æ‰¿å…¶ä»–ç±»ã€‚</p>
<p>å®šä¹‰çš„æšä¸¾å€¼ï¼Œä¼šè¢«é»˜è®¤ä¿®é¥°ä¸º <code>public static final</code> ï¼Œä»ä¿®é¥°å…³é”®å­—ï¼Œå³å¯çœ‹å‡ºæšä¸¾å€¼æœ¬è´¨ä¸Šæ˜¯é™æ€å¸¸é‡ã€‚</p>
</blockquote>
<h2 id="æšä¸¾çš„æ–¹æ³•"><a href="#æšä¸¾çš„æ–¹æ³•" class="headerlink" title="æšä¸¾çš„æ–¹æ³•"></a>æšä¸¾çš„æ–¹æ³•</h2><p>åœ¨ enum ä¸­ï¼Œæä¾›äº†ä¸€äº›åŸºæœ¬æ–¹æ³•ï¼š</p>
<ul>
<li><code>values()</code>ï¼šè¿”å› enum å®ä¾‹çš„æ•°ç»„ï¼Œè€Œä¸”è¯¥æ•°ç»„ä¸­çš„å…ƒç´ ä¸¥æ ¼ä¿æŒåœ¨ enum ä¸­å£°æ˜æ—¶çš„é¡ºåºã€‚</li>
<li><code>name()</code>ï¼šè¿”å›å®ä¾‹åã€‚</li>
<li><code>ordinal()</code>ï¼šè¿”å›å®ä¾‹å£°æ˜æ—¶çš„æ¬¡åºï¼Œä» 0 å¼€å§‹ã€‚</li>
<li><code>getDeclaringClass()</code>ï¼šè¿”å›å®ä¾‹æ‰€å±çš„ enum ç±»å‹ã€‚</li>
<li><code>equals()</code> ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€ä¸ªå¯¹è±¡ã€‚</li>
</ul>
<p>å¯ä»¥ä½¿ç”¨ <code>==</code> æ¥æ¯”è¾ƒ<code>enum</code>å®ä¾‹ã€‚</p>
<p>æ­¤å¤–ï¼Œ<code>java.lang.Enum</code>å®ç°äº†<code>Comparable</code>å’Œ <code>Serializable</code> æ¥å£ï¼Œæ‰€ä»¥ä¹Ÿæä¾› <code>compareTo()</code> æ–¹æ³•ã€‚</p>
<p><strong>ä¾‹ï¼šå±•ç¤º enum çš„åŸºæœ¬æ–¹æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EnumMethodDemo</span> &#123;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">Color</span> &#123;RED, GREEN, BLUE;&#125;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">Size</span> &#123;BIG, MIDDLE, SMALL;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;=========== Print all Color ===========&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Color c : Color.values()) &#123;</span><br><span class="line">            System.out.println(c + <span class="string">&quot; ordinal: &quot;</span> + c.ordinal());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;=========== Print all Size ===========&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Size s : Size.values()) &#123;</span><br><span class="line">            System.out.println(s + <span class="string">&quot; ordinal: &quot;</span> + s.ordinal());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">Color</span> <span class="variable">green</span> <span class="operator">=</span> Color.GREEN;</span><br><span class="line">        System.out.println(<span class="string">&quot;green name(): &quot;</span> + green.name());</span><br><span class="line">        System.out.println(<span class="string">&quot;green getDeclaringClass(): &quot;</span> + green.getDeclaringClass());</span><br><span class="line">        System.out.println(<span class="string">&quot;green hashCode(): &quot;</span> + green.hashCode());</span><br><span class="line">        System.out.println(<span class="string">&quot;green compareTo Color.GREEN: &quot;</span> + green.compareTo(Color.GREEN));</span><br><span class="line">        System.out.println(<span class="string">&quot;green equals Color.GREEN: &quot;</span> + green.equals(Color.GREEN));</span><br><span class="line">        System.out.println(<span class="string">&quot;green equals Size.MIDDLE: &quot;</span> + green.equals(Size.MIDDLE));</span><br><span class="line">        System.out.println(<span class="string">&quot;green equals 1: &quot;</span> + green.equals(<span class="number">1</span>));</span><br><span class="line">        System.out.format(<span class="string">&quot;green == Color.BLUE: %b\n&quot;</span>, green == Color.BLUE);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¾“å‡º</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">===========</span> <span class="string">Print</span> <span class="string">all</span> <span class="string">Color</span> <span class="string">===========</span></span><br><span class="line"><span class="attr">RED ordinal:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">GREEN ordinal:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">BLUE ordinal:</span> <span class="number">2</span></span><br><span class="line"><span class="string">===========</span> <span class="string">Print</span> <span class="string">all</span> <span class="string">Size</span> <span class="string">===========</span></span><br><span class="line"><span class="attr">BIG ordinal:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">MIDDLE ordinal:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">SMALL ordinal:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">green name():</span> <span class="string">GREEN</span></span><br><span class="line"><span class="attr">green getDeclaringClass():</span> <span class="string">class</span> <span class="string">org.zp.javase.enumeration.EnumDemo$Color</span></span><br><span class="line"><span class="attr">green hashCode():</span> <span class="number">460141958</span></span><br><span class="line"><span class="attr">green compareTo Color.GREEN:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">green equals Color.GREEN:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">green equals Size.MIDDLE:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">green equals 1:</span> <span class="literal">false</span></span><br><span class="line"><span class="string">green</span> <span class="string">==</span> <span class="attr">Color.BLUE:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h2 id="æšä¸¾çš„ç‰¹æ€§"><a href="#æšä¸¾çš„ç‰¹æ€§" class="headerlink" title="æšä¸¾çš„ç‰¹æ€§"></a>æšä¸¾çš„ç‰¹æ€§</h2><p>æšä¸¾çš„ç‰¹æ€§ï¼Œå½’ç»“èµ·æ¥å°±æ˜¯ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>é™¤äº†ä¸èƒ½ç»§æ‰¿ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥å°† <code>enum</code> çœ‹åšä¸€ä¸ªå¸¸è§„çš„ç±»</strong>ã€‚</p>
</blockquote>
<p>ä½†æ˜¯è¿™å¥è¯éœ€è¦æ‹†åˆ†å»ç†è§£ï¼Œè®©æˆ‘ä»¬ç»†ç»†é“æ¥ã€‚</p>
<h3 id="åŸºæœ¬ç‰¹æ€§"><a href="#åŸºæœ¬ç‰¹æ€§" class="headerlink" title="åŸºæœ¬ç‰¹æ€§"></a>åŸºæœ¬ç‰¹æ€§</h3><p><strong>å¦‚æœæšä¸¾ä¸­æ²¡æœ‰å®šä¹‰æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åœ¨æœ€åä¸€ä¸ªå®ä¾‹åé¢åŠ é€—å·ã€åˆ†å·æˆ–ä»€ä¹ˆéƒ½ä¸åŠ ã€‚</strong></p>
<p>å¦‚æœæšä¸¾ä¸­æ²¡æœ‰å®šä¹‰æ–¹æ³•ï¼Œ<strong>æšä¸¾å€¼é»˜è®¤ä¸ºä» 0 å¼€å§‹çš„æœ‰åºæ•°å€¼</strong>ã€‚ä»¥ Color æšä¸¾ç±»å‹ä¸¾ä¾‹ï¼Œå®ƒçš„æšä¸¾å¸¸é‡ä¾æ¬¡ä¸º <code>REDï¼š0ï¼ŒGREENï¼š1ï¼ŒBLUEï¼š2</code>ã€‚</p>
<h3 id="æšä¸¾å¯ä»¥æ·»åŠ æ–¹æ³•"><a href="#æšä¸¾å¯ä»¥æ·»åŠ æ–¹æ³•" class="headerlink" title="æšä¸¾å¯ä»¥æ·»åŠ æ–¹æ³•"></a>æšä¸¾å¯ä»¥æ·»åŠ æ–¹æ³•</h3><p>åœ¨æ¦‚å¿µç« èŠ‚æåˆ°äº†ï¼Œ<strong>æšä¸¾å€¼é»˜è®¤ä¸ºä» 0 å¼€å§‹çš„æœ‰åºæ•°å€¼</strong> ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šå¦‚ä½•ä¸ºæšä¸¾æ˜¾å¼çš„èµ‹å€¼ã€‚</p>
<p>ï¼ˆ1ï¼‰<strong>Java ä¸å…è®¸ä½¿ç”¨ <code>=</code> ä¸ºæšä¸¾å¸¸é‡èµ‹å€¼</strong></p>
<p>å¦‚æœä½ æ¥è§¦è¿‡ C&#x2F;C++ï¼Œä½ è‚¯å®šä¼šå¾ˆè‡ªç„¶çš„æƒ³åˆ°èµ‹å€¼ç¬¦å· <code>=</code> ã€‚åœ¨ C&#x2F;C++è¯­è¨€ä¸­çš„ enumï¼Œå¯ä»¥ç”¨èµ‹å€¼ç¬¦å·<code>=</code>æ˜¾å¼çš„ä¸ºæšä¸¾å¸¸é‡èµ‹å€¼ï¼›ä½†æ˜¯ ï¼Œå¾ˆé—æ†¾ï¼Œ<strong>Java è¯­æ³•ä¸­å´ä¸å…è®¸ä½¿ç”¨èµ‹å€¼ç¬¦å· <code>=</code> ä¸ºæšä¸¾å¸¸é‡èµ‹å€¼</strong>ã€‚</p>
<p><strong>ä¾‹ï¼šC&#x2F;C++ è¯­è¨€ä¸­çš„æšä¸¾å£°æ˜</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">    ONE = <span class="number">1</span>,</span><br><span class="line">    TWO,</span><br><span class="line">    THREE = <span class="number">3</span>,</span><br><span class="line">    TEN = <span class="number">10</span></span><br><span class="line">&#125; Number;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰<strong>æšä¸¾å¯ä»¥æ·»åŠ æ™®é€šæ–¹æ³•ã€é™æ€æ–¹æ³•ã€æŠ½è±¡æ–¹æ³•ã€æ„é€ æ–¹æ³•</strong></p>
<p>Java è™½ç„¶ä¸èƒ½ç›´æ¥ä¸ºå®ä¾‹èµ‹å€¼ï¼Œä½†æ˜¯å®ƒæœ‰æ›´ä¼˜ç§€çš„è§£å†³æ–¹æ¡ˆï¼š<strong>ä¸º enum æ·»åŠ æ–¹æ³•æ¥é—´æ¥å®ç°æ˜¾å¼èµ‹å€¼</strong>ã€‚</p>
<p>åˆ›å»º <code>enum</code> æ—¶ï¼Œå¯ä»¥ä¸ºå…¶æ·»åŠ å¤šç§æ–¹æ³•ï¼Œç”šè‡³å¯ä»¥ä¸ºå…¶æ·»åŠ æ„é€ æ–¹æ³•ã€‚</p>
<p><strong>æ³¨æ„ä¸€ä¸ªç»†èŠ‚ï¼šå¦‚æœè¦ä¸º enum å®šä¹‰æ–¹æ³•ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨ enum çš„æœ€åä¸€ä¸ªå®ä¾‹å°¾éƒ¨æ·»åŠ ä¸€ä¸ªåˆ†å·ã€‚æ­¤å¤–ï¼Œåœ¨ enum ä¸­ï¼Œå¿…é¡»å…ˆå®šä¹‰å®ä¾‹ï¼Œä¸èƒ½å°†å­—æ®µæˆ–æ–¹æ³•å®šä¹‰åœ¨å®ä¾‹å‰é¢ã€‚å¦åˆ™ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</strong></p>
<p><strong>ä¾‹ï¼šå…¨é¢å±•ç¤ºå¦‚ä½•åœ¨æšä¸¾ä¸­å®šä¹‰æ™®é€šæ–¹æ³•ã€é™æ€æ–¹æ³•ã€æŠ½è±¡æ–¹æ³•ã€æ„é€ æ–¹æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">ErrorCodeEn</span> &#123;</span><br><span class="line">    OK(<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getDescription</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;æˆåŠŸ&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    ERROR_A(<span class="number">100</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getDescription</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;é”™è¯¯A&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    ERROR_B(<span class="number">200</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getDescription</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;é”™è¯¯B&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> code;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ æ–¹æ³•ï¼šenumçš„æ„é€ æ–¹æ³•åªèƒ½è¢«å£°æ˜ä¸ºprivateæƒé™æˆ–ä¸å£°æ˜æƒé™</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">ErrorCodeEn</span><span class="params">(<span class="type">int</span> number)</span> &#123; <span class="comment">// æ„é€ æ–¹æ³•</span></span><br><span class="line">        <span class="built_in">this</span>.code = number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span> &#123; <span class="comment">// æ™®é€šæ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125; <span class="comment">// æ™®é€šæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title function_">getDescription</span><span class="params">()</span>; <span class="comment">// æŠ½è±¡æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span> &#123; <span class="comment">// é™æ€æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">for</span> (ErrorCodeEn s : ErrorCodeEn.values()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;code: &quot;</span> + s.getCode() + <span class="string">&quot;, description: &quot;</span> + s.getDescription());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// code: 0, description: æˆåŠŸ</span></span><br><span class="line"><span class="comment">// code: 100, description: é”™è¯¯A</span></span><br><span class="line"><span class="comment">// code: 200, description: é”™è¯¯B</span></span><br></pre></td></tr></table></figure>

<p>æ³¨ï¼šä¸Šé¢çš„ä¾‹å­å¹¶ä¸å¯å–ï¼Œä»…ä»…æ˜¯ä¸ºäº†å±•ç¤ºæšä¸¾æ”¯æŒå®šä¹‰å„ç§æ–¹æ³•ã€‚æ­£ç¡®çš„ä¾‹å­æƒ…å†µ<a href="#%E9%94%99%E8%AF%AF%E7%A0%81">é”™è¯¯ç ç¤ºä¾‹</a></p>
<h3 id="æšä¸¾å¯ä»¥å®ç°æ¥å£"><a href="#æšä¸¾å¯ä»¥å®ç°æ¥å£" class="headerlink" title="æšä¸¾å¯ä»¥å®ç°æ¥å£"></a>æšä¸¾å¯ä»¥å®ç°æ¥å£</h3><p><strong><code>enum</code> å¯ä»¥åƒä¸€èˆ¬ç±»ä¸€æ ·å®ç°æ¥å£ã€‚</strong></p>
<p>åŒæ ·æ˜¯å®ç°ä¸Šä¸€èŠ‚ä¸­çš„é”™è¯¯ç æšä¸¾ç±»ï¼Œé€šè¿‡å®ç°æ¥å£ï¼Œå¯ä»¥çº¦æŸå®ƒçš„æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">INumberEnum</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span>;</span><br><span class="line">    String <span class="title function_">getDescription</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">ErrorCodeEn2</span> <span class="keyword">implements</span> <span class="title class_">INumberEnum</span> &#123;</span><br><span class="line">    OK(<span class="number">0</span>, <span class="string">&quot;æˆåŠŸ&quot;</span>),</span><br><span class="line">    ERROR_A(<span class="number">100</span>, <span class="string">&quot;é”™è¯¯A&quot;</span>),</span><br><span class="line">    ERROR_B(<span class="number">200</span>, <span class="string">&quot;é”™è¯¯B&quot;</span>);</span><br><span class="line"></span><br><span class="line">    ErrorCodeEn2(<span class="type">int</span> number, String description) &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = number;</span><br><span class="line">        <span class="built_in">this</span>.description = description;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> code;</span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDescription</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> description;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æšä¸¾ä¸å¯ä»¥ç»§æ‰¿"><a href="#æšä¸¾ä¸å¯ä»¥ç»§æ‰¿" class="headerlink" title="æšä¸¾ä¸å¯ä»¥ç»§æ‰¿"></a>æšä¸¾ä¸å¯ä»¥ç»§æ‰¿</h3><p><strong>enum ä¸å¯ä»¥ç»§æ‰¿å¦å¤–ä¸€ä¸ªç±»ï¼Œå½“ç„¶ï¼Œä¹Ÿä¸èƒ½ç»§æ‰¿å¦ä¸€ä¸ª enum ã€‚</strong></p>
<p>å› ä¸º <code>enum</code> å®é™…ä¸Šéƒ½ç»§æ‰¿è‡ª <code>java.lang.Enum</code> ç±»ï¼Œè€Œ Java ä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œæ‰€ä»¥ <code>enum</code> ä¸èƒ½å†ç»§æ‰¿å…¶ä»–ç±»ï¼Œå½“ç„¶ä¹Ÿä¸èƒ½ç»§æ‰¿å¦ä¸€ä¸ª <code>enum</code>ã€‚</p>
<h2 id="æšä¸¾çš„åº”ç”¨"><a href="#æšä¸¾çš„åº”ç”¨" class="headerlink" title="æšä¸¾çš„åº”ç”¨"></a>æšä¸¾çš„åº”ç”¨</h2><h3 id="ç»„ç»‡å¸¸é‡"><a href="#ç»„ç»‡å¸¸é‡" class="headerlink" title="ç»„ç»‡å¸¸é‡"></a>ç»„ç»‡å¸¸é‡</h3><p>åœ¨ JDK5 ä¹‹å‰ï¼Œåœ¨ Java ä¸­å®šä¹‰å¸¸é‡éƒ½æ˜¯<code>public static final TYPE a;</code> è¿™æ ·çš„å½¢å¼ã€‚æœ‰äº†æšä¸¾ï¼Œä½ å¯ä»¥å°†æœ‰å…³è”å…³ç³»çš„å¸¸é‡ç»„ç»‡èµ·æ¥ï¼Œä½¿ä»£ç æ›´åŠ æ˜“è¯»ã€å®‰å…¨ï¼Œå¹¶ä¸”è¿˜å¯ä»¥ä½¿ç”¨æšä¸¾æä¾›çš„æ–¹æ³•ã€‚</p>
<p>ä¸‹é¢ä¸‰ç§å£°æ˜æ–¹å¼æ˜¯ç­‰ä»·çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123; RED, GREEN, BLUE &#125;</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123; RED, GREEN, BLUE, &#125;</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123; RED, GREEN, BLUE; &#125;</span><br></pre></td></tr></table></figure>

<h3 id="switch-çŠ¶æ€æœº"><a href="#switch-çŠ¶æ€æœº" class="headerlink" title="switch çŠ¶æ€æœº"></a>switch çŠ¶æ€æœº</h3><p>æˆ‘ä»¬ç»å¸¸ä½¿ç”¨ switch è¯­å¥æ¥å†™çŠ¶æ€æœºã€‚JDK7 ä»¥åï¼Œswitch å·²ç»æ”¯æŒ <code>int</code>ã€<code>char</code>ã€<code>String</code>ã€<code>enum</code> ç±»å‹çš„å‚æ•°ã€‚è¿™å‡ ç§ç±»å‹çš„å‚æ•°æ¯”è¾ƒèµ·æ¥ï¼Œä½¿ç”¨æšä¸¾çš„ switch ä»£ç æ›´å…·æœ‰å¯è¯»æ€§ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StateMachineDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Signal</span> &#123;</span><br><span class="line">        GREEN, YELLOW, RED</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getTrafficInstruct</span><span class="params">(Signal signal)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">instruct</span> <span class="operator">=</span> <span class="string">&quot;ä¿¡å·ç¯æ•…éšœ&quot;</span>;</span><br><span class="line">        <span class="keyword">switch</span> (signal) &#123;</span><br><span class="line">            <span class="keyword">case</span> RED:</span><br><span class="line">                instruct = <span class="string">&quot;çº¢ç¯åœ&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> YELLOW:</span><br><span class="line">                instruct = <span class="string">&quot;é»„ç¯è¯·æ³¨æ„&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> GREEN:</span><br><span class="line">                instruct = <span class="string">&quot;ç»¿ç¯è¡Œ&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instruct;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(getTrafficInstruct(Signal.RED));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// çº¢ç¯åœ</span></span><br></pre></td></tr></table></figure>

<h3 id="é”™è¯¯ç "><a href="#é”™è¯¯ç " class="headerlink" title="é”™è¯¯ç "></a>é”™è¯¯ç </h3><p>æšä¸¾å¸¸è¢«ç”¨äºå®šä¹‰ç¨‹åºé”™è¯¯ç ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ErrorCodeEnumDemo</span> &#123;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">ErrorCodeEn</span> &#123;</span><br><span class="line">        OK(<span class="number">0</span>, <span class="string">&quot;æˆåŠŸ&quot;</span>),</span><br><span class="line">        ERROR_A(<span class="number">100</span>, <span class="string">&quot;é”™è¯¯A&quot;</span>),</span><br><span class="line">        ERROR_B(<span class="number">200</span>, <span class="string">&quot;é”™è¯¯B&quot;</span>);</span><br><span class="line"></span><br><span class="line">        ErrorCodeEn(<span class="type">int</span> number, String msg) &#123;</span><br><span class="line">            <span class="built_in">this</span>.code = number;</span><br><span class="line">            <span class="built_in">this</span>.msg = msg;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> code;</span><br><span class="line">        <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> code;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getMsg</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> msg;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;ErrorCodeEn&#123;&quot;</span> + <span class="string">&quot;code=&quot;</span> + code + <span class="string">&quot;, msg=&#x27;&quot;</span> + msg + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">toStringAll</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            sb.append(<span class="string">&quot;ErrorCodeEn All Elements: [&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (ErrorCodeEn code : ErrorCodeEn.values()) &#123;</span><br><span class="line">                sb.append(code.getCode()).append(<span class="string">&quot;, &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(<span class="string">&quot;]&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> sb.toString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(ErrorCodeEn.toStringAll());</span><br><span class="line">        <span class="keyword">for</span> (ErrorCodeEn s : ErrorCodeEn.values()) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// ErrorCodeEn All Elements: [0, 100, 200, ]</span></span><br><span class="line"><span class="comment">// ErrorCodeEn&#123;code=0, msg=&#x27;æˆåŠŸ&#x27;&#125;</span></span><br><span class="line"><span class="comment">// ErrorCodeEn&#123;code=100, msg=&#x27;é”™è¯¯A&#x27;&#125;</span></span><br><span class="line"><span class="comment">// ErrorCodeEn&#123;code=200, msg=&#x27;é”™è¯¯B&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="ç»„ç»‡æšä¸¾"><a href="#ç»„ç»‡æšä¸¾" class="headerlink" title="ç»„ç»‡æšä¸¾"></a>ç»„ç»‡æšä¸¾</h3><p>å¯ä»¥å°†ç±»å‹ç›¸è¿‘çš„æšä¸¾é€šè¿‡æ¥å£æˆ–ç±»ç»„ç»‡èµ·æ¥ï¼Œä½†æ˜¯ä¸€èˆ¬ç”¨æ¥å£æ–¹å¼è¿›è¡Œç»„ç»‡ã€‚</p>
<p>åŸå› æ˜¯ï¼šJava æ¥å£åœ¨ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨ä¸º enum ç±»å‹åŠ ä¸Š<code>public static</code>ä¿®é¥°ç¬¦ï¼›Java ç±»åœ¨ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨ä¸º <code>enum</code> ç±»å‹åŠ ä¸Š static ä¿®é¥°ç¬¦ã€‚çœ‹å‡ºå·®å¼‚äº†å—ï¼Ÿæ²¡é”™ï¼Œå°±æ˜¯è¯´ï¼Œåœ¨ç±»ä¸­ç»„ç»‡ <code>enum</code>ï¼Œå¦‚æœä½ ä¸ç»™å®ƒä¿®é¥°ä¸º <code>public</code>ï¼Œé‚£ä¹ˆåªèƒ½åœ¨æœ¬åŒ…ä¸­è¿›è¡Œè®¿é—®ã€‚</p>
<p><strong>ä¾‹ï¼šåœ¨æ¥å£ä¸­ç»„ç»‡ enum</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EnumInInterfaceDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">INumberEnum</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span>;</span><br><span class="line">        String <span class="title function_">getDescription</span><span class="params">()</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Plant</span> &#123;</span><br><span class="line">        <span class="keyword">enum</span> <span class="title class_">Vegetable</span> <span class="keyword">implements</span> <span class="title class_">INumberEnum</span> &#123;</span><br><span class="line">            POTATO(<span class="number">0</span>, <span class="string">&quot;åœŸè±†&quot;</span>),</span><br><span class="line">            TOMATO(<span class="number">0</span>, <span class="string">&quot;è¥¿çº¢æŸ¿&quot;</span>);</span><br><span class="line"></span><br><span class="line">            Vegetable(<span class="type">int</span> number, String description) &#123;</span><br><span class="line">                <span class="built_in">this</span>.code = number;</span><br><span class="line">                <span class="built_in">this</span>.description = description;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">private</span> <span class="type">int</span> code;</span><br><span class="line">            <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">this</span>.code;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> String <span class="title function_">getDescription</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">this</span>.description;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">enum</span> <span class="title class_">Fruit</span> <span class="keyword">implements</span> <span class="title class_">INumberEnum</span> &#123;</span><br><span class="line">            APPLE(<span class="number">0</span>, <span class="string">&quot;è‹¹æœ&quot;</span>),</span><br><span class="line">            ORANGE(<span class="number">0</span>, <span class="string">&quot;æ¡”å­&quot;</span>),</span><br><span class="line">            BANANA(<span class="number">0</span>, <span class="string">&quot;é¦™è•‰&quot;</span>);</span><br><span class="line"></span><br><span class="line">            Fruit(<span class="type">int</span> number, String description) &#123;</span><br><span class="line">                <span class="built_in">this</span>.code = number;</span><br><span class="line">                <span class="built_in">this</span>.description = description;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">private</span> <span class="type">int</span> code;</span><br><span class="line">            <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">this</span>.code;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> String <span class="title function_">getDescription</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">this</span>.description;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Plant.Fruit f : Plant.Fruit.values()) &#123;</span><br><span class="line">            System.out.println(f.getDescription());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// è‹¹æœ</span></span><br><span class="line"><span class="comment">// æ¡”å­</span></span><br><span class="line"><span class="comment">// é¦™è•‰</span></span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ï¼šåœ¨ç±»ä¸­ç»„ç»‡ enum</strong></p>
<p>æœ¬ä¾‹å’Œä¸Šä¾‹æ•ˆæœç›¸åŒã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EnumInClassDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">INumberEnum</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span>;</span><br><span class="line">        String <span class="title function_">getDescription</span><span class="params">()</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Plant2</span> &#123;</span><br><span class="line">        <span class="keyword">enum</span> <span class="title class_">Vegetable</span> <span class="keyword">implements</span> <span class="title class_">INumberEnum</span> &#123;</span><br><span class="line">            <span class="comment">// ç•¥ï¼Œä¸ä¸Šé¢å®Œå…¨ç›¸åŒ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">enum</span> <span class="title class_">Fruit</span> <span class="keyword">implements</span> <span class="title class_">INumberEnum</span> &#123;</span><br><span class="line">            <span class="comment">// ç•¥ï¼Œä¸ä¸Šé¢å®Œå…¨ç›¸åŒ</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç•¥</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// åœŸè±†</span></span><br><span class="line"><span class="comment">// è¥¿çº¢æŸ¿</span></span><br></pre></td></tr></table></figure>

<h3 id="ç­–ç•¥æšä¸¾"><a href="#ç­–ç•¥æšä¸¾" class="headerlink" title="ç­–ç•¥æšä¸¾"></a>ç­–ç•¥æšä¸¾</h3><p>Effective Java ä¸­å±•ç¤ºäº†ä¸€ç§ç­–ç•¥æšä¸¾ã€‚è¿™ç§æšä¸¾é€šè¿‡æšä¸¾åµŒå¥—æšä¸¾çš„æ–¹å¼ï¼Œå°†æšä¸¾å¸¸é‡åˆ†ç±»å¤„ç†ã€‚</p>
<p>è¿™ç§åšæ³•è™½ç„¶æ²¡æœ‰ switch è¯­å¥ç®€æ´ï¼Œä½†æ˜¯æ›´åŠ å®‰å…¨ã€çµæ´»ã€‚</p>
<p><strong>ä¾‹ï¼šEffectvieJava ä¸­çš„ç­–ç•¥æšä¸¾èŒƒä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">PayrollDay</span> &#123;</span><br><span class="line">    MONDAY(PayType.WEEKDAY), TUESDAY(PayType.WEEKDAY), WEDNESDAY(</span><br><span class="line">            PayType.WEEKDAY), THURSDAY(PayType.WEEKDAY), FRIDAY(PayType.WEEKDAY), SATURDAY(</span><br><span class="line">            PayType.WEEKEND), SUNDAY(PayType.WEEKEND);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> PayType payType;</span><br><span class="line"></span><br><span class="line">    PayrollDay(PayType payType) &#123;</span><br><span class="line">        <span class="built_in">this</span>.payType = payType;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">double</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> hoursWorked, <span class="type">double</span> payRate)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> payType.pay(hoursWorked, payRate);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç­–ç•¥æšä¸¾</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">enum</span> <span class="title class_">PayType</span> &#123;</span><br><span class="line">        WEEKDAY &#123;</span><br><span class="line">            <span class="type">double</span> <span class="title function_">overtimePay</span><span class="params">(<span class="type">double</span> hours, <span class="type">double</span> payRate)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> hours &lt;= HOURS_PER_SHIFT ? <span class="number">0</span> : (hours - HOURS_PER_SHIFT)</span><br><span class="line">                        * payRate / <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        WEEKEND &#123;</span><br><span class="line">            <span class="type">double</span> <span class="title function_">overtimePay</span><span class="params">(<span class="type">double</span> hours, <span class="type">double</span> payRate)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> hours * payRate / <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">HOURS_PER_SHIFT</span> <span class="operator">=</span> <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">abstract</span> <span class="type">double</span> <span class="title function_">overtimePay</span><span class="params">(<span class="type">double</span> hrs, <span class="type">double</span> payRate)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> hoursWorked, <span class="type">double</span> payRate)</span> &#123;</span><br><span class="line">            <span class="type">double</span> <span class="variable">basePay</span> <span class="operator">=</span> hoursWorked * payRate;</span><br><span class="line">            <span class="keyword">return</span> basePay + overtimePay(hoursWorked, payRate);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æµ‹è¯•</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;æ—¶è–ª100çš„äººåœ¨å‘¨äº”å·¥ä½œ8å°æ—¶çš„æ”¶å…¥ï¼š&quot;</span> + PayrollDay.FRIDAY.pay(<span class="number">8.0</span>, <span class="number">100</span>));</span><br><span class="line">System.out.println(<span class="string">&quot;æ—¶è–ª100çš„äººåœ¨å‘¨å…­å·¥ä½œ8å°æ—¶çš„æ”¶å…¥ï¼š&quot;</span> + PayrollDay.SATURDAY.pay(<span class="number">8.0</span>, <span class="number">100</span>));</span><br></pre></td></tr></table></figure>

<h3 id="æšä¸¾å®ç°å•ä¾‹æ¨¡å¼"><a href="#æšä¸¾å®ç°å•ä¾‹æ¨¡å¼" class="headerlink" title="æšä¸¾å®ç°å•ä¾‹æ¨¡å¼"></a>æšä¸¾å®ç°å•ä¾‹æ¨¡å¼</h3><p>å•ä¾‹æ¨¡å¼æ˜¯æœ€å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ã€‚</p>
<p>å•ä¾‹æ¨¡å¼åœ¨å¹¶å‘ç¯å¢ƒä¸‹å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p>
<p>ä¸ºäº†çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œä¼ ç»Ÿåšæ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>é¥¿æ±‰å¼åŠ è½½</li>
<li>æ‡’æ±‰å¼ synchronize å’ŒåŒé‡æ£€æŸ¥</li>
<li>åˆ©ç”¨ java çš„é™æ€åŠ è½½æœºåˆ¶</li>
</ul>
<p>ç›¸æ¯”ä¸Šè¿°çš„æ–¹æ³•ï¼Œä½¿ç”¨æšä¸¾ä¹Ÿå¯ä»¥å®ç°å•ä¾‹ï¼Œè€Œä¸”è¿˜æ›´åŠ ç®€å•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingleEnumDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">SingleEn</span> &#123;</span><br><span class="line"></span><br><span class="line">        INSTANCE;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SingleEn.INSTANCE.setName(<span class="string">&quot;zp&quot;</span>);</span><br><span class="line">        System.out.println(SingleEn.INSTANCE.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/javazejian/article/details/71333103#enumset%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90">æ·±å…¥ç†è§£ Java æšä¸¾ç±»å‹(enum)</a></p>
<p>è¿™ç¯‡æ–‡ç« å¯¹äº Java æšä¸¾çš„ç‰¹æ€§è®²è§£å¾ˆä»”ç»†ï¼Œå…¶ä¸­å¯¹äºæšä¸¾å®ç°å•ä¾‹å’Œä¼ ç»Ÿå•ä¾‹å®ç°æ–¹å¼è¯´çš„å°¤ä¸ºç»†è‡´ã€‚</p>
</blockquote>
<h2 id="æšä¸¾å·¥å…·ç±»"><a href="#æšä¸¾å·¥å…·ç±»" class="headerlink" title="æšä¸¾å·¥å…·ç±»"></a>æšä¸¾å·¥å…·ç±»</h2><p>Java ä¸­æä¾›äº†ä¸¤ä¸ªæ–¹ä¾¿æ“ä½œ enum çš„å·¥å…·ç±»â€”â€”<code>EnumSet</code> å’Œ <code>EnumMap</code>ã€‚</p>
<h3 id="EnumSet"><a href="#EnumSet" class="headerlink" title="EnumSet"></a>EnumSet</h3><p><code>EnumSet</code> æ˜¯æšä¸¾ç±»å‹çš„é«˜æ€§èƒ½ <code>Set</code> å®ç°ã€‚å®ƒè¦æ±‚æ”¾å…¥å®ƒçš„æšä¸¾å¸¸é‡å¿…é¡»å±äºåŒä¸€æšä¸¾ç±»å‹ã€‚</p>
<p>ä¸»è¦æ¥å£ï¼š</p>
<ul>
<li><code>noneOf</code> - åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šå…ƒç´ ç±»å‹çš„ç©º EnumSet</li>
<li><code>allOf</code> - åˆ›å»ºä¸€ä¸ªæŒ‡å®šå…ƒç´ ç±»å‹å¹¶åŒ…å«æ‰€æœ‰æšä¸¾å€¼çš„ EnumSet</li>
<li><code>range</code> - åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬æšä¸¾å€¼ä¸­æŒ‡å®šèŒƒå›´å…ƒç´ çš„ EnumSet</li>
<li><code>complementOf</code> - åˆå§‹é›†åˆåŒ…æ‹¬æŒ‡å®šé›†åˆçš„è¡¥é›†</li>
<li><code>of</code> - åˆ›å»ºä¸€ä¸ªåŒ…æ‹¬å‚æ•°ä¸­æ‰€æœ‰å…ƒç´ çš„ EnumSet</li>
<li><code>copyOf</code> - åˆ›å»ºä¸€ä¸ªåŒ…å«å‚æ•°å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ çš„ EnumSet</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EnumSetDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;EnumSetå±•ç¤º&quot;</span>);</span><br><span class="line">        EnumSet&lt;ErrorCodeEn&gt; errSet = EnumSet.allOf(ErrorCodeEn.class);</span><br><span class="line">        <span class="keyword">for</span> (ErrorCodeEn e : errSet) &#123;</span><br><span class="line">            System.out.println(e.name() + <span class="string">&quot; : &quot;</span> + e.ordinal());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="EnumMap"><a href="#EnumMap" class="headerlink" title="EnumMap"></a>EnumMap</h3><p><code>EnumMap</code> æ˜¯ä¸“é—¨ä¸ºæšä¸¾ç±»å‹é‡èº«å®šåšçš„ <code>Map</code> å®ç°ã€‚è™½ç„¶ä½¿ç”¨å…¶å®ƒçš„ Map å®ç°ï¼ˆå¦‚ HashMapï¼‰ä¹Ÿèƒ½å®Œæˆæšä¸¾ç±»å‹å®ä¾‹åˆ°å€¼å¾—æ˜ å°„ï¼Œä½†æ˜¯ä½¿ç”¨ EnumMap ä¼šæ›´åŠ é«˜æ•ˆï¼šå®ƒåªèƒ½æ¥æ”¶åŒä¸€æšä¸¾ç±»å‹çš„å®ä¾‹ä½œä¸ºé”®å€¼ï¼Œå¹¶ä¸”ç”±äºæšä¸¾ç±»å‹å®ä¾‹çš„æ•°é‡ç›¸å¯¹å›ºå®šå¹¶ä¸”æœ‰é™ï¼Œæ‰€ä»¥ EnumMap ä½¿ç”¨æ•°ç»„æ¥å­˜æ”¾ä¸æšä¸¾ç±»å‹å¯¹åº”çš„å€¼ã€‚è¿™ä½¿å¾— EnumMap çš„æ•ˆç‡éå¸¸é«˜ã€‚</p>
<p>ä¸»è¦æ¥å£ï¼š</p>
<ul>
<li><code>size</code> - è¿”å›é”®å€¼å¯¹æ•°</li>
<li><code>containsValue</code> - æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„ value</li>
<li><code>containsKey</code> - æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„ key</li>
<li><code>get</code> - æ ¹æ®æŒ‡å®š key è·å– value</li>
<li><code>put</code> - å–å‡ºæŒ‡å®šçš„é”®å€¼å¯¹</li>
<li><code>remove</code> - åˆ é™¤æŒ‡å®š key</li>
<li><code>putAll</code> - æ‰¹é‡å–å‡ºé”®å€¼å¯¹</li>
<li><code>clear</code> - æ¸…é™¤æ•°æ®</li>
<li><code>keySet</code> - è·å– key é›†åˆ</li>
<li><code>values</code> - è¿”å›æ‰€æœ‰</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EnumMapDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Signal</span> &#123;</span><br><span class="line">        GREEN, YELLOW, RED</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;EnumMapå±•ç¤º&quot;</span>);</span><br><span class="line">        EnumMap&lt;Signal, String&gt; errMap = <span class="keyword">new</span> <span class="title class_">EnumMap</span>(Signal.class);</span><br><span class="line">        errMap.put(Signal.RED, <span class="string">&quot;çº¢ç¯&quot;</span>);</span><br><span class="line">        errMap.put(Signal.YELLOW, <span class="string">&quot;é»„ç¯&quot;</span>);</span><br><span class="line">        errMap.put(Signal.GREEN, <span class="string">&quot;ç»¿ç¯&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Iterator&lt;Map.Entry&lt;Signal, String&gt;&gt; iter = errMap.entrySet().iterator(); iter.hasNext();) &#123;</span><br><span class="line">            Map.Entry&lt;Signal, String&gt; entry = iter.next();</span><br><span class="line">            System.out.println(entry.getKey().name() + <span class="string">&quot; : &quot;</span> + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ‰©å±•é˜…è¯»ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/javazejian/article/details/71333103#enumset%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90">æ·±å…¥ç†è§£ Java æšä¸¾ç±»å‹(enum)</a></p>
<p>è¿™ç¯‡æ–‡ç« ä¸­å¯¹ EnumSet å’Œ EnumMap åŸç†åšäº†è¾ƒä¸ºè¯¦ç»†çš„ä»‹ç»ã€‚</p>
</blockquote>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/1553002212154.png" alt="img"></p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a target="_blank" rel="noopener" href="https://book.douban.com/subject/2130190/">Java ç¼–ç¨‹æ€æƒ³</a></li>
<li><a target="_blank" rel="noopener" href="https://book.douban.com/subject/3146174/">Java æ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li>
<li><a target="_blank" rel="noopener" href="https://book.douban.com/subject/3360807/">Effective java</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/javazejian/article/details/71333103#enumset%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90">æ·±å…¥ç†è§£ Java æšä¸¾ç±»å‹(enum)</a></li>
<li><a target="_blank" rel="noopener" href="https://droidyue.com/blog/2016/11/29/dive-into-enum/">https://droidyue.com/blog/2016/11/29/dive-into-enum/</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/pages/325069b6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="é’æ‚Ÿ â—¾ Dunwu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunwu Blog">
      <meta itemprop="description" content="é’æ‚Ÿçš„ä¸ªäººåšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Dunwu Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/pages/325069b6/" class="post-title-link" itemprop="url">æ·±å…¥ç†è§£ Java æ³¨è§£</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-06 15:02:02" itemprop="dateCreated datePublished" datetime="2019-05-06T15:02:02+08:00">2019-05-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-13 17:56:53" itemprop="dateModified" datetime="2025-09-13T17:56:53+08:00">2025-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Java/JavaCore/" itemprop="url" rel="index"><span itemprop="name">JavaCore</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Java/JavaCore/%E5%9F%BA%E7%A1%80%E7%89%B9%E6%80%A7/" itemprop="url" rel="index"><span itemprop="name">åŸºç¡€ç‰¹æ€§</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>17k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>16 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="æ·±å…¥ç†è§£-Java-æ³¨è§£"><a href="#æ·±å…¥ç†è§£-Java-æ³¨è§£" class="headerlink" title="æ·±å…¥ç†è§£ Java æ³¨è§£"></a>æ·±å…¥ç†è§£ Java æ³¨è§£</h1><blockquote>
<p>æœ¬æ–‡å†…å®¹åŸºäº JDK8ã€‚æ³¨è§£æ˜¯ JDK5 å¼•å…¥çš„ï¼Œåç»­ JDK ç‰ˆæœ¬æ‰©å±•äº†ä¸€äº›å†…å®¹ï¼Œæœ¬æ–‡ä¸­æ²¡æœ‰æ˜ç¡®æŒ‡æ˜ç‰ˆæœ¬çš„æ³¨è§£éƒ½æ˜¯ JDK5 å°±å·²ç»æ”¯æŒçš„æ³¨è§£ã€‚</p>
</blockquote>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><h3 id="æ³¨è§£çš„å½¢å¼"><a href="#æ³¨è§£çš„å½¢å¼" class="headerlink" title="æ³¨è§£çš„å½¢å¼"></a>æ³¨è§£çš„å½¢å¼</h3><p>Java ä¸­ï¼Œæ³¨è§£æ˜¯ä»¥ <code>@</code> å­—ç¬¦å¼€å§‹çš„ä¿®é¥°ç¬¦ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">mySuperMethod</span><span class="params">()</span> &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨è§£å¯ä»¥åŒ…å«å‘½åæˆ–æœªå‘½åçš„å±æ€§ï¼Œå¹¶ä¸”è¿™äº›å±æ€§æœ‰å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Author(</span></span><br><span class="line"><span class="meta">   name = &quot;Benjamin Franklin&quot;,</span></span><br><span class="line"><span class="meta">   date = &quot;3/27/2003&quot;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span>() &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåªæœ‰ä¸€ä¸ªåä¸º value çš„å±æ€§ï¼Œé‚£ä¹ˆåç§°å¯ä»¥çœç•¥ï¼Œå¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">myMethod</span><span class="params">()</span> &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ³¨è§£æ²¡æœ‰å±æ€§ï¼Œåˆ™ç§°ä¸º<code>æ ‡è®°æ³¨è§£</code>ã€‚å¦‚ï¼š<code>@Override</code>ã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯æ³¨è§£"><a href="#ä»€ä¹ˆæ˜¯æ³¨è§£" class="headerlink" title="ä»€ä¹ˆæ˜¯æ³¨è§£"></a>ä»€ä¹ˆæ˜¯æ³¨è§£</h3><p>ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œ<strong>æ³¨è§£æ˜¯ä¸€ç§æ ‡ç­¾ï¼Œå…¶å®è´¨ä¸Šå¯ä»¥è§†ä¸ºä¸€ç§ç‰¹æ®Šçš„æ³¨é‡Šï¼Œå¦‚æœæ²¡æœ‰è§£æå®ƒçš„ä»£ç ï¼Œå®ƒå¹¶ä¸æ¯”æ™®é€šæ³¨é‡Šå¼ºã€‚</strong></p>
<p>è§£æä¸€ä¸ªæ³¨è§£å¾€å¾€æœ‰ä¸¤ç§å½¢å¼ï¼š</p>
<ul>
<li><strong>ç¼–è¯‘æœŸç›´æ¥çš„æ‰«æ</strong> - ç¼–è¯‘å™¨çš„æ‰«ææŒ‡çš„æ˜¯ç¼–è¯‘å™¨åœ¨å¯¹ java ä»£ç ç¼–è¯‘å­—èŠ‚ç çš„è¿‡ç¨‹ä¸­ä¼šæ£€æµ‹åˆ°æŸä¸ªç±»æˆ–è€…æ–¹æ³•è¢«ä¸€äº›æ³¨è§£ä¿®é¥°ï¼Œè¿™æ—¶å®ƒå°±ä¼šå¯¹äºè¿™äº›æ³¨è§£è¿›è¡ŒæŸäº›å¤„ç†ã€‚è¿™ç§æƒ…å†µåªé€‚ç”¨äº JDK å†…ç½®çš„æ³¨è§£ç±»ã€‚</li>
<li><strong>è¿è¡ŒæœŸçš„åå°„</strong> - å¦‚æœè¦è‡ªå®šä¹‰æ³¨è§£ï¼ŒJava ç¼–è¯‘å™¨æ— æ³•è¯†åˆ«å¹¶å¤„ç†è¿™ä¸ªæ³¨è§£ï¼Œå®ƒåªèƒ½æ ¹æ®è¯¥æ³¨è§£çš„ä½œç”¨èŒƒå›´æ¥é€‰æ‹©æ˜¯å¦ç¼–è¯‘è¿›å­—èŠ‚ç æ–‡ä»¶ã€‚å¦‚æœè¦å¤„ç†æ³¨è§£ï¼Œå¿…é¡»åˆ©ç”¨åå°„æŠ€æœ¯ï¼Œè¯†åˆ«è¯¥æ³¨è§£ä»¥åŠå®ƒæ‰€æºå¸¦çš„ä¿¡æ¯ï¼Œç„¶ååšç›¸åº”çš„å¤„ç†ã€‚</li>
</ul>
<h3 id="æ³¨è§£çš„ä½œç”¨"><a href="#æ³¨è§£çš„ä½œç”¨" class="headerlink" title="æ³¨è§£çš„ä½œç”¨"></a>æ³¨è§£çš„ä½œç”¨</h3><p>æ³¨è§£æœ‰è®¸å¤šç”¨é€”ï¼š</p>
<ul>
<li>ç¼–è¯‘å™¨ä¿¡æ¯ - ç¼–è¯‘å™¨å¯ä»¥ä½¿ç”¨æ³¨è§£æ¥æ£€æµ‹é”™è¯¯æˆ–æŠ‘åˆ¶è­¦å‘Šã€‚</li>
<li>ç¼–è¯‘æ—¶å’Œéƒ¨ç½²æ—¶çš„å¤„ç† - ç¨‹åºå¯ä»¥å¤„ç†æ³¨è§£ä¿¡æ¯ä»¥ç”Ÿæˆä»£ç ï¼ŒXML æ–‡ä»¶ç­‰ã€‚</li>
<li>è¿è¡Œæ—¶å¤„ç† - å¯ä»¥åœ¨è¿è¡Œæ—¶æ£€æŸ¥æŸäº›æ³¨è§£å¹¶å¤„ç†ã€‚</li>
</ul>
<p>ä½œä¸º Java ç¨‹åºå‘˜ï¼Œå¤šå¤šå°‘å°‘éƒ½æ›¾ç»å†è¿‡è¢«å„ç§é…ç½®æ–‡ä»¶ï¼ˆxmlã€propertiesï¼‰æ”¯é…çš„ææƒ§ã€‚è¿‡å¤šçš„é…ç½®æ–‡ä»¶ä¼šä½¿å¾—é¡¹ç›®éš¾ä»¥ç»´æŠ¤ã€‚ä¸ªäººè®¤ä¸ºï¼Œä½¿ç”¨æ³¨è§£ä»¥å‡å°‘é…ç½®æ–‡ä»¶æˆ–ä»£ç ï¼Œæ˜¯æ³¨è§£æœ€å¤§çš„ç”¨å¤„ã€‚</p>
<h3 id="æ³¨è§£çš„ä»£ä»·"><a href="#æ³¨è§£çš„ä»£ä»·" class="headerlink" title="æ³¨è§£çš„ä»£ä»·"></a>æ³¨è§£çš„ä»£ä»·</h3><p>å‡¡äº‹æœ‰å¾—å¿…æœ‰å¤±ï¼Œæ³¨è§£æŠ€æœ¯åŒæ ·å¦‚æ­¤ã€‚ä½¿ç”¨æ³¨è§£ä¹Ÿæœ‰ä¸€å®šçš„ä»£ä»·ï¼š</p>
<ul>
<li>æ˜¾ç„¶ï¼Œå®ƒæ˜¯ä¸€ç§ä¾µå…¥å¼ç¼–ç¨‹ï¼Œé‚£ä¹ˆï¼Œè‡ªç„¶å°±å­˜åœ¨ç€å¢åŠ ç¨‹åºè€¦åˆåº¦çš„é—®é¢˜ã€‚</li>
<li>è‡ªå®šä¹‰æ³¨è§£çš„å¤„ç†éœ€è¦åœ¨è¿è¡Œæ—¶ï¼Œé€šè¿‡åå°„æŠ€æœ¯æ¥è·å–å±æ€§ã€‚å¦‚æœæ³¨è§£æ‰€ä¿®é¥°çš„å…ƒç´ æ˜¯ç±»çš„é public æˆå‘˜ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åå°„è·å–ã€‚è¿™å°±è¿èƒŒäº†é¢å‘å¯¹è±¡çš„å°è£…æ€§ã€‚</li>
<li>æ³¨è§£æ‰€äº§ç”Ÿçš„é—®é¢˜ï¼Œç›¸å¯¹è€Œè¨€ï¼Œæ›´éš¾ä»¥ debug æˆ–å®šä½ã€‚</li>
</ul>
<p>ä½†æ˜¯ï¼Œæ­£æ‰€è°“ç‘•ä¸æ©ç‘œï¼Œæ³¨è§£æ‰€ä»˜å‡ºçš„ä»£ä»·ï¼Œç›¸è¾ƒäºå®ƒæä¾›çš„åŠŸèƒ½è€Œè¨€ï¼Œè¿˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚</p>
<h3 id="æ³¨è§£çš„åº”ç”¨èŒƒå›´"><a href="#æ³¨è§£çš„åº”ç”¨èŒƒå›´" class="headerlink" title="æ³¨è§£çš„åº”ç”¨èŒƒå›´"></a>æ³¨è§£çš„åº”ç”¨èŒƒå›´</h3><p>æ³¨è§£å¯ä»¥åº”ç”¨äºç±»ã€å­—æ®µã€æ–¹æ³•å’Œå…¶ä»–ç¨‹åºå…ƒç´ çš„å£°æ˜ã€‚</p>
<p>JDK8 å¼€å§‹ï¼Œæ³¨è§£çš„åº”ç”¨èŒƒå›´è¿›ä¸€æ­¥æ‰©å¤§ï¼Œä»¥ä¸‹æ˜¯æ–°çš„åº”ç”¨èŒƒå›´ï¼š</p>
<p>ç±»å®ä¾‹åˆå§‹åŒ–è¡¨è¾¾å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="meta">@Interned</span> MyObject();</span><br></pre></td></tr></table></figure>

<p>ç±»å‹è½¬æ¢ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myString = (<span class="meta">@NonNull</span> String) str;</span><br></pre></td></tr></table></figure>

<p>å®ç°æ¥å£çš„å£°æ˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UnmodifiableList</span>&lt;T&gt; implements</span><br><span class="line">    <span class="meta">@Readonly</span> List&lt;<span class="meta">@Readonly</span> T&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>æŠ›å‡ºå¼‚å¸¸å£°æ˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">monitorTemperature</span><span class="params">()</span></span><br><span class="line">    <span class="keyword">throws</span> <span class="meta">@Critical</span> TemperatureException &#123;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å†…ç½®æ³¨è§£"><a href="#å†…ç½®æ³¨è§£" class="headerlink" title="å†…ç½®æ³¨è§£"></a>å†…ç½®æ³¨è§£</h2><p>JDK ä¸­å†…ç½®äº†ä»¥ä¸‹æ³¨è§£ï¼š</p>
<ul>
<li><code>@Override</code></li>
<li><code>@Deprecated</code></li>
<li><code>@SuppressWarnnings</code></li>
<li><code>@SafeVarargs</code>ï¼ˆJDK7 å¼•å…¥ï¼‰</li>
<li><code>@FunctionalInterface</code>ï¼ˆJDK8 å¼•å…¥ï¼‰</li>
</ul>
<h3 id="Override"><a href="#Override" class="headerlink" title="@Override"></a>@Override</h3><p><strong><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Override.html"><code>@Override</code></a> ç”¨äºè¡¨æ˜è¢«ä¿®é¥°æ–¹æ³•è¦†å†™äº†çˆ¶ç±»çš„æ–¹æ³•ã€‚</strong></p>
<p>å¦‚æœè¯•å›¾ä½¿ç”¨ <code>@Override</code> æ ‡è®°ä¸€ä¸ªå®é™…ä¸Šå¹¶æ²¡æœ‰è¦†å†™çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œjava ç¼–è¯‘å™¨ä¼šå‘Šè­¦ã€‚</p>
<p><code>@Override</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OverrideAnnotationDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;getName&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Man</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;override getName&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         *  æ”¾å¼€ä¸‹é¢çš„æ³¨é‡Šï¼Œç¼–è¯‘æ—¶ä¼šå‘Šè­¦</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">       <span class="comment">/*</span></span><br><span class="line"><span class="comment">        @Override</span></span><br><span class="line"><span class="comment">        public String getName2() &#123;</span></span><br><span class="line"><span class="comment">            return &quot;override getName2&quot;;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">per</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Man</span>();</span><br><span class="line">        System.out.println(per.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Deprecated"><a href="#Deprecated" class="headerlink" title="@Deprecated"></a>@Deprecated</h3><p><strong><code>@Deprecated</code> ç”¨äºæ ‡æ˜è¢«ä¿®é¥°çš„ç±»æˆ–ç±»æˆå‘˜ã€ç±»æ–¹æ³•å·²ç»åºŸå¼ƒã€è¿‡æ—¶ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚</strong></p>
<p><code>@Deprecated</code> æœ‰ä¸€å®šçš„<strong>å»¶ç»­æ€§</strong>ï¼šå¦‚æœæˆ‘ä»¬åœ¨ä»£ç ä¸­é€šè¿‡ç»§æ‰¿æˆ–è€…è¦†ç›–çš„æ–¹å¼ä½¿ç”¨äº†è¿‡æ—¶çš„ç±»æˆ–ç±»æˆå‘˜ï¼Œå³ä½¿å­ç±»æˆ–å­æ–¹æ³•æ²¡æœ‰æ ‡è®°ä¸º <code>@Deprecated</code>ï¼Œä½†ç¼–è¯‘å™¨ä»ç„¶ä¼šå‘Šè­¦ã€‚</p>
<blockquote>
<p>ğŸ”” æ³¨æ„ï¼š <code>@Deprecated</code> è¿™ä¸ªæ³¨è§£ç±»å‹å’Œ javadoc ä¸­çš„ <code>@deprecated</code> è¿™ä¸ª tag æ˜¯æœ‰åŒºåˆ«çš„ï¼šå‰è€…æ˜¯ java ç¼–è¯‘å™¨è¯†åˆ«çš„ï¼›è€Œåè€…æ˜¯è¢« javadoc å·¥å…·æ‰€è¯†åˆ«ç”¨æ¥ç”Ÿæˆæ–‡æ¡£ï¼ˆåŒ…å«ç¨‹åºæˆå‘˜ä¸ºä»€ä¹ˆå·²ç»è¿‡æ—¶ã€å®ƒåº”å½“å¦‚ä½•è¢«ç¦æ­¢æˆ–è€…æ›¿ä»£çš„æè¿°ï¼‰ã€‚</p>
</blockquote>
<p><code>@Deprecated</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeprecatedAnnotationDemo</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">DeprecatedField</span> &#123;</span><br><span class="line">        <span class="meta">@Deprecated</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">DEPRECATED_FIELD</span> <span class="operator">=</span> <span class="string">&quot;DeprecatedField&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">DeprecatedMethod</span> &#123;</span><br><span class="line">        <span class="meta">@Deprecated</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;DeprecatedMethod&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Deprecated</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">DeprecatedClass</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;DeprecatedClass&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(DeprecatedField.DEPRECATED_FIELD);</span><br><span class="line"></span><br><span class="line">        <span class="type">DeprecatedMethod</span> <span class="variable">dm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DeprecatedMethod</span>();</span><br><span class="line">        System.out.println(dm.print());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">DeprecatedClass</span> <span class="variable">dc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DeprecatedClass</span>();</span><br><span class="line">        System.out.println(dc.print());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Output:</span></span><br><span class="line"><span class="comment">//DeprecatedField</span></span><br><span class="line"><span class="comment">//DeprecatedMethod</span></span><br><span class="line"><span class="comment">//DeprecatedClass</span></span><br></pre></td></tr></table></figure>

<h3 id="SuppressWarnnings"><a href="#SuppressWarnnings" class="headerlink" title="@SuppressWarnnings"></a>@SuppressWarnnings</h3><p><strong><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/lang/SuppressWarnings.html"><code>@SuppressWarnings</code></a> ç”¨äºå…³é—­å¯¹ç±»ã€æ–¹æ³•ã€æˆå‘˜ç¼–è¯‘æ—¶äº§ç”Ÿçš„ç‰¹å®šè­¦å‘Šã€‚</strong></p>
<p><code>@SuppressWarning</code> ä¸æ˜¯ä¸€ä¸ªæ ‡è®°æ³¨è§£ã€‚å®ƒæœ‰ä¸€ä¸ªç±»å‹ä¸º <code>String[]</code> çš„æ•°ç»„æˆå‘˜ï¼Œè¿™ä¸ªæ•°ç»„ä¸­å­˜å‚¨çš„æ˜¯è¦å…³é—­çš„å‘Šè­¦ç±»å‹ã€‚å¯¹äº javac ç¼–è¯‘å™¨æ¥è®²ï¼Œå¯¹ <code>-Xlint</code> é€‰é¡¹æœ‰æ•ˆçš„è­¦å‘Šåä¹ŸåŒæ ·å¯¹ <code>@SuppressWarings</code> æœ‰æ•ˆï¼ŒåŒæ—¶ç¼–è¯‘å™¨ä¼šå¿½ç•¥æ‰æ— æ³•è¯†åˆ«çš„è­¦å‘Šåã€‚</p>
<p><code>@SuppressWarning</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;rawtypes&quot;, &quot;unchecked&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SuppressWarningsAnnotationDemo</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">SuppressDemo</span>&lt;T&gt; &#123;</span><br><span class="line">        <span class="keyword">private</span> T value;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> T <span class="title function_">getValue</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setValue</span><span class="params">(T <span class="keyword">var</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.value = <span class="keyword">var</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressWarnings(&#123;&quot;deprecation&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SuppressDemo</span> <span class="variable">d</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SuppressDemo</span>();</span><br><span class="line">        d.setValue(<span class="string">&quot;å—äº¬&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;åœ°åï¼š&quot;</span> + d.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@SuppressWarnings</code> æ³¨è§£çš„å¸¸è§å‚æ•°å€¼çš„ç®€å•è¯´æ˜ï¼š</p>
<ul>
<li><code>deprecation</code> - ä½¿ç”¨äº†ä¸èµæˆä½¿ç”¨çš„ç±»æˆ–æ–¹æ³•æ—¶çš„è­¦å‘Šï¼›</li>
<li><code>unchecked</code> - æ‰§è¡Œäº†æœªæ£€æŸ¥çš„è½¬æ¢æ—¶çš„è­¦å‘Šï¼Œä¾‹å¦‚å½“ä½¿ç”¨é›†åˆæ—¶æ²¡æœ‰ç”¨æ³›å‹ (Generics) æ¥æŒ‡å®šé›†åˆä¿å­˜çš„ç±»å‹;</li>
<li><code>fallthrough</code> - å½“ Switch ç¨‹åºå—ç›´æ¥é€šå¾€ä¸‹ä¸€ç§æƒ…å†µè€Œæ²¡æœ‰ Break æ—¶çš„è­¦å‘Š;</li>
<li><code>path</code> - åœ¨ç±»è·¯å¾„ã€æºæ–‡ä»¶è·¯å¾„ç­‰ä¸­æœ‰ä¸å­˜åœ¨çš„è·¯å¾„æ—¶çš„è­¦å‘Š;</li>
<li><code>serial</code> - å½“åœ¨å¯åºåˆ—åŒ–çš„ç±»ä¸Šç¼ºå°‘ serialVersionUID å®šä¹‰æ—¶çš„è­¦å‘Š;</li>
<li><code>finally</code> - ä»»ä½• finally å­å¥ä¸èƒ½æ­£å¸¸å®Œæˆæ—¶çš„è­¦å‘Š;</li>
<li><code>all</code> - æ‰€æœ‰çš„è­¦å‘Šã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;uncheck&quot;, &quot;deprecation&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InternalAnnotationDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@SuppressWarnings</span> æ ‡è®°æ¶ˆé™¤å½“å‰ç±»çš„å‘Šè­¦ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SuppressWarnings(&#123;&quot;deprecation&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;call method1&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@Deprecated</span> æ ‡è®°å½“å‰æ–¹æ³•ä¸ºåºŸå¼ƒæ–¹æ³•ï¼Œä¸å»ºè®®ä½¿ç”¨</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="meta">@Deprecated</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;call method2&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Deprecated</span> æ ‡è®°å½“å‰ç±»ä¸ºåºŸå¼ƒç±»ï¼Œä¸å»ºè®®ä½¿ç”¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Deprecated</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span> &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@Override</span> æ ‡è®°æ˜¾ç¤ºæŒ‡æ˜å½“å‰æ–¹æ³•è¦†å†™äº†çˆ¶ç±»æˆ–æ¥å£çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span> &#123; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">A</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">        obj.method1();</span><br><span class="line">        obj.method2();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SafeVarargs"><a href="#SafeVarargs" class="headerlink" title="@SafeVarargs"></a>@SafeVarargs</h3><p><code>@SafeVarargs</code> åœ¨ JDK7 ä¸­å¼•å…¥ã€‚</p>
<p><strong><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/lang/SafeVarargs.html"><code>@SafeVarargs</code></a> çš„ä½œç”¨æ˜¯ï¼šå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œåœ¨å¯å˜é•¿å‚æ•°ä¸­çš„æ³›å‹æ˜¯ç±»å‹å®‰å…¨çš„ã€‚å¯å˜é•¿å‚æ•°æ˜¯ä½¿ç”¨æ•°ç»„å­˜å‚¨çš„ï¼Œè€Œæ•°ç»„å’Œæ³›å‹ä¸èƒ½å¾ˆå¥½çš„æ··åˆä½¿ç”¨ã€‚</strong></p>
<p>ç®€å•çš„è¯´ï¼Œæ•°ç»„å…ƒç´ çš„æ•°æ®ç±»å‹åœ¨ç¼–è¯‘å’Œè¿è¡Œæ—¶éƒ½æ˜¯ç¡®å®šçš„ï¼Œè€Œæ³›å‹çš„æ•°æ®ç±»å‹åªæœ‰åœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šä¸‹æ¥ã€‚å› æ­¤ï¼Œå½“æŠŠä¸€ä¸ªæ³›å‹å­˜å‚¨åˆ°æ•°ç»„ä¸­æ—¶ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘é˜¶æ®µæ— æ³•ç¡®è®¤æ•°æ®ç±»å‹æ˜¯å¦åŒ¹é…ï¼Œå› æ­¤ä¼šç»™å‡ºè­¦å‘Šä¿¡æ¯ï¼›å³å¦‚æœæ³›å‹çš„çœŸå®æ•°æ®ç±»å‹æ— æ³•å’Œå‚æ•°æ•°ç»„çš„ç±»å‹åŒ¹é…ï¼Œä¼šå¯¼è‡´ <code>ClassCastException</code> å¼‚å¸¸ã€‚</p>
<p><code>@SafeVarargs</code> æ³¨è§£ä½¿ç”¨èŒƒå›´ï¼š</p>
<ul>
<li><code>@SafeVarargs</code> æ³¨è§£å¯ä»¥ç”¨äºæ„é€ æ–¹æ³•ã€‚</li>
<li><code>@SafeVarargs</code> æ³¨è§£å¯ä»¥ç”¨äº <code>static</code> æˆ– <code>final</code> æ–¹æ³•ã€‚</li>
</ul>
<p><code>@SafeVarargs</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SafeVarargsAnnotationDemo</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ­¤æ–¹æ³•å®é™…ä¸Šå¹¶ä¸å®‰å…¨ï¼Œä¸ä½¿ç”¨æ­¤æ³¨è§£ï¼Œç¼–è¯‘æ—¶ä¼šå‘Šè­¦</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SafeVarargs</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">wrongMethod</span><span class="params">(List&lt;String&gt;... stringLists)</span> &#123;</span><br><span class="line">        Object[] array = stringLists;</span><br><span class="line">        List&lt;Integer&gt; tmpList = Arrays.asList(<span class="number">42</span>);</span><br><span class="line">        array[<span class="number">0</span>] = tmpList; <span class="comment">// è¯­æ³•é”™è¯¯ï¼Œä½†æ˜¯ç¼–è¯‘ä¸å‘Šè­¦</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> stringLists[<span class="number">0</span>].get(<span class="number">0</span>); <span class="comment">// è¿è¡Œæ—¶æŠ¥ ClassCastException</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line"></span><br><span class="line">        wrongMethod(list, list2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç ï¼Œå¦‚æœä¸ä½¿ç”¨ <code>@SafeVarargs</code> ï¼Œç¼–è¯‘æ—¶ä¼šå‘Šè­¦</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[WARNING] <span class="regexp">/D:/</span>Codes<span class="regexp">/ZP/</span>Java<span class="regexp">/javacore/</span>codes<span class="regexp">/basics/</span>src<span class="regexp">/main/</span>java<span class="regexp">/io/gi</span>thub<span class="regexp">/dunwu/</span>javacore<span class="regexp">/annotation/</span>SafeVarargsAnnotationDemo.java: æŸäº›è¾“å…¥æ–‡ä»¶ä½¿ç”¨äº†æœªç»æ£€æŸ¥æˆ–ä¸å®‰å…¨çš„æ“ä½œã€‚</span><br><span class="line">[WARNING] <span class="regexp">/D:/</span>Codes<span class="regexp">/ZP/</span>Java<span class="regexp">/javacore/</span>codes<span class="regexp">/basics/</span>src<span class="regexp">/main/</span>java<span class="regexp">/io/gi</span>thub<span class="regexp">/dunwu/</span>javacore<span class="regexp">/annotation/</span>SafeVarargsAnnotationDemo.java: æœ‰å…³è¯¦ç»†ä¿¡æ¯, è¯·ä½¿ç”¨ -Xlint:unchecked é‡æ–°ç¼–è¯‘ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="FunctionalInterface"><a href="#FunctionalInterface" class="headerlink" title="@FunctionalInterface"></a>@FunctionalInterface</h3><p><code>@FunctionalInterface</code> åœ¨ JDK8 å¼•å…¥ã€‚</p>
<p><strong><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html"><code>@FunctionalInterface</code></a> ç”¨äºæŒ‡ç¤ºè¢«ä¿®é¥°çš„æ¥å£æ˜¯å‡½æ•°å¼æ¥å£ã€‚</strong></p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä¸€ä¸ªæ¥å£ç¬¦åˆâ€å‡½æ•°å¼æ¥å£â€å®šä¹‰ï¼Œä¸åŠ  <code>@FunctionalInterface</code> ä¹Ÿæ²¡å…³ç³»ï¼›ä½†å¦‚æœç¼–å†™çš„ä¸æ˜¯å‡½æ•°å¼æ¥å£ï¼Œå´ä½¿ç”¨ <code>@FunctionInterface</code>ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p>
<p>ä»€ä¹ˆæ˜¯å‡½æ•°å¼æ¥å£ï¼Ÿ</p>
<p><strong>å‡½æ•°å¼æ¥å£(Functional Interface)å°±æ˜¯ä¸€ä¸ªæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ªéæŠ½è±¡æ–¹æ³•çš„æ¥å£</strong>ã€‚å‡½æ•°å¼æ¥å£å¯ä»¥è¢«éšå¼è½¬æ¢ä¸º lambda è¡¨è¾¾å¼ã€‚</p>
<p>å‡½æ•°å¼æ¥å£çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ¥å£æœ‰ä¸”åªèƒ½æœ‰ä¸ªä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼ˆæŠ½è±¡æ–¹æ³•åªæœ‰æ–¹æ³•å®šä¹‰ï¼Œæ²¡æœ‰æ–¹æ³•ä½“ï¼‰ã€‚</li>
<li>ä¸èƒ½åœ¨æ¥å£ä¸­è¦†å†™ Object ç±»ä¸­çš„ public æ–¹æ³•ï¼ˆå†™äº†ç¼–è¯‘å™¨ä¹Ÿä¼šæŠ¥é”™ï¼‰ã€‚</li>
<li>å…è®¸æœ‰ default å®ç°æ–¹æ³•ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FunctionalInterfaceAnnotationDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@FunctionalInterface</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Func1</span>&lt;T&gt; &#123;</span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">printMessage</span><span class="params">(T message)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@FunctionalInterface</span> ä¿®é¥°çš„æ¥å£ä¸­å®šä¹‰ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œç¼–è¯‘æ—¶ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;T&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">/*@FunctionalInterface</span></span><br><span class="line"><span class="comment">    public interface Func2&lt;T&gt; &#123;</span></span><br><span class="line"><span class="comment">        void printMessage(T message);</span></span><br><span class="line"><span class="comment">        void printMessage2(T message);</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Func1</span> <span class="variable">func1</span> <span class="operator">=</span> message -&gt; System.out.println(message);</span><br><span class="line">        func1.printMessage(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">        func1.printMessage(<span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…ƒæ³¨è§£"><a href="#å…ƒæ³¨è§£" class="headerlink" title="å…ƒæ³¨è§£"></a>å…ƒæ³¨è§£</h2><p>JDK ä¸­è™½ç„¶å†…ç½®äº†å‡ ä¸ªæ³¨è§£ï¼Œä½†è¿™è¿œè¿œä¸èƒ½æ»¡è¶³å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„åƒå˜ä¸‡åŒ–çš„éœ€æ±‚ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰æ³¨è§£ï¼Œè€Œè¿™å°±éœ€è¦ç”¨åˆ°å…ƒæ³¨è§£ã€‚</p>
<p><strong>å…ƒæ³¨è§£çš„ä½œç”¨å°±æ˜¯ç”¨äºå®šä¹‰å…¶å®ƒçš„æ³¨è§£</strong>ã€‚</p>
<p>Java ä¸­æä¾›äº†ä»¥ä¸‹å…ƒæ³¨è§£ç±»å‹ï¼š</p>
<ul>
<li><code>@Retention</code></li>
<li><code>@Target</code></li>
<li><code>@Documented</code></li>
<li><code>@Inherited</code>ï¼ˆJDK8 å¼•å…¥ï¼‰</li>
<li><code>@Repeatable</code>ï¼ˆJDK8 å¼•å…¥ï¼‰</li>
</ul>
<p>è¿™äº›ç±»å‹å’Œå®ƒä»¬æ‰€æ”¯æŒçš„ç±»åœ¨ <code>java.lang.annotation</code> åŒ…ä¸­å¯ä»¥æ‰¾åˆ°ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹æ¯ä¸ªå…ƒæ³¨è§£çš„ä½œç”¨å’Œç›¸åº”åˆ†å‚æ•°çš„ä½¿ç”¨è¯´æ˜ã€‚</p>
<h3 id="Retention"><a href="#Retention" class="headerlink" title="@Retention"></a>@Retention</h3><p><strong><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html"><code>@Retention</code></a> æŒ‡æ˜äº†æ³¨è§£çš„ä¿ç•™çº§åˆ«ã€‚</strong></p>
<p><code>@Retention</code> æºç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.ANNOTATION_TYPE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Retention &#123;</span><br><span class="line">    RetentionPolicy <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>RetentionPolicy</code> æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œå®ƒå®šä¹‰äº†è¢« <code>@Retention</code> ä¿®é¥°çš„æ³¨è§£æ‰€æ”¯æŒçš„ä¿ç•™çº§åˆ«ï¼š</p>
<ul>
<li><code>RetentionPolicy.SOURCE</code> - æ ‡è®°çš„æ³¨è§£ä»…åœ¨æºæ–‡ä»¶ä¸­æœ‰æ•ˆï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥ã€‚</li>
<li><code>RetentionPolicy.CLASS</code> - æ ‡è®°çš„æ³¨è§£åœ¨ class æ–‡ä»¶ä¸­æœ‰æ•ˆï¼ŒJVM ä¼šå¿½ç•¥ã€‚</li>
<li><code>RetentionPolicy.RUNTIME</code> - æ ‡è®°çš„æ³¨è§£åœ¨è¿è¡Œæ—¶æœ‰æ•ˆã€‚</li>
</ul>
<p><code>@Retention</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Column &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">name</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;fieldName&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">setFuncName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;setField&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getFuncName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;getField&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">defaultDBValue</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Documented"><a href="#Documented" class="headerlink" title="@Documented"></a>@Documented</h3><p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Documented.html"><code>@Documented</code></a> è¡¨ç¤ºæ— è®ºä½•æ—¶ä½¿ç”¨æŒ‡å®šçš„æ³¨è§£ï¼Œéƒ½åº”ä½¿ç”¨ Javadocï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæ³¨é‡Šä¸åŒ…å«åœ¨ Javadoc ä¸­ï¼‰ã€‚æ›´å¤šå†…å®¹å¯ä»¥å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/javadoc/index.html">Javadoc tools page</a>ã€‚</p>
<p><code>@Documented</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Column &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">name</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;fieldName&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">setFuncName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;setField&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getFuncName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;getField&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">defaultDBValue</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Target"><a href="#Target" class="headerlink" title="@Target"></a>@Target</h3><p><strong><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html"><code>@Target</code></a> æŒ‡å®šæ³¨è§£å¯ä»¥ä¿®é¥°çš„å…ƒç´ ç±»å‹ã€‚</strong></p>
<p><code>@Target</code> æºç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.ANNOTATION_TYPE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Target &#123;</span><br><span class="line">    ElementType[] value();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>ElementType</code> æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œå®ƒå®šä¹‰äº†è¢« <code>@Target</code> ä¿®é¥°çš„æ³¨è§£å¯ä»¥åº”ç”¨çš„èŒƒå›´ï¼š</p>
<ul>
<li><code>ElementType.ANNOTATION_TYPE</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºæ³¨è§£ç±»å‹ã€‚</li>
<li><code>ElementType.CONSTRUCTOR</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºæ„é€ å‡½æ•°ã€‚</li>
<li><code>ElementType.FIELD</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºå­—æ®µæˆ–å±æ€§ã€‚</li>
<li><code>ElementType.LOCAL_VARIABLE</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºå±€éƒ¨å˜é‡ã€‚</li>
<li><code>ElementType.METHOD</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºæ–¹æ³•ã€‚</li>
<li><code>ElementType.PACKAGE</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºåŒ…å£°æ˜ã€‚</li>
<li><code>ElementType.PARAMETER</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºæ–¹æ³•çš„å‚æ•°ã€‚</li>
<li><code>ElementType.TYPE</code> - æ ‡è®°çš„æ³¨è§£å¯ä»¥åº”ç”¨äºç±»çš„ä»»ä½•å…ƒç´ ã€‚</li>
</ul>
<p><code>@Target</code> ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Table &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ•°æ®è¡¨åç§°æ³¨è§£ï¼Œé»˜è®¤å€¼ä¸ºç±»åç§°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">tableName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;className&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> NoDBColumn &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Inherited"><a href="#Inherited" class="headerlink" title="@Inherited"></a>@Inherited</h3><p><strong><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Inherited.html"><code>@Inherited</code></a> è¡¨ç¤ºæ³¨è§£ç±»å‹å¯ä»¥è¢«ç»§æ‰¿ï¼ˆé»˜è®¤æƒ…å†µä¸‹ä¸æ˜¯è¿™æ ·ï¼‰</strong>ã€‚</p>
<p>è¡¨ç¤ºè‡ªåŠ¨ç»§æ‰¿æ³¨è§£ç±»å‹ã€‚ å¦‚æœæ³¨è§£ç±»å‹å£°æ˜ä¸­å­˜åœ¨ <code>@Inherited</code> å…ƒæ³¨è§£ï¼Œåˆ™æ³¨è§£æ‰€ä¿®é¥°ç±»çš„æ‰€æœ‰å­ç±»éƒ½å°†ä¼šç»§æ‰¿æ­¤æ³¨è§£ã€‚</p>
<blockquote>
<p>ğŸ”” æ³¨æ„ï¼š<code>@Inherited</code> æ³¨è§£ç±»å‹æ˜¯è¢«æ ‡æ³¨è¿‡çš„ç±»çš„å­ç±»æ‰€ç»§æ‰¿ã€‚ç±»å¹¶ä¸ä»å®ƒæ‰€å®ç°çš„æ¥å£ç»§æ‰¿æ³¨è§£ï¼Œæ–¹æ³•å¹¶ä¸ä»å®ƒæ‰€è¦†å†™çš„æ–¹æ³•ç»§æ‰¿æ³¨è§£ã€‚</p>
<p>æ­¤å¤–ï¼Œå½“ <code>@Inherited</code> ç±»å‹æ ‡æ³¨çš„æ³¨è§£çš„ <code>@Retention</code> æ˜¯ <code>RetentionPolicy.RUNTIME</code>ï¼Œåˆ™åå°„ API å¢å¼ºäº†è¿™ç§ç»§æ‰¿æ€§ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ <code>java.lang.reflect</code> å»æŸ¥è¯¢ä¸€ä¸ª <code>@Inherited</code> ç±»å‹çš„æ³¨è§£æ—¶ï¼Œåå°„ä»£ç æ£€æŸ¥å°†å±•å¼€å·¥ä½œï¼šæ£€æŸ¥ç±»å’Œå…¶çˆ¶ç±»ï¼Œç›´åˆ°å‘ç°æŒ‡å®šçš„æ³¨è§£ç±»å‹è¢«å‘ç°ï¼Œæˆ–è€…åˆ°è¾¾ç±»ç»§æ‰¿ç»“æ„çš„é¡¶å±‚ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Greeting &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">FontColor</span>&#123; BULE,RED,GREEN&#125;;</span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span>;</span><br><span class="line">    FontColor <span class="title function_">fontColor</span><span class="params">()</span> <span class="keyword">default</span> FontColor.GREEN;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Repeatable"><a href="#Repeatable" class="headerlink" title="@Repeatable"></a>@Repeatable</h3><p><strong><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Repeatable.html"><code>@Repeatable</code></a> è¡¨ç¤ºæ³¨è§£å¯ä»¥é‡å¤ä½¿ç”¨ã€‚</strong></p>
<p>ä»¥ Spring <code>@Scheduled</code> ä¸ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD, ElementType.ANNOTATION_TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Schedules &#123;</span><br><span class="line">	Scheduled[] value();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD, ElementType.ANNOTATION_TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Repeatable(Schedules.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Scheduled &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åº”ç”¨ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TaskRunner</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Scheduled(&quot;0 0/15 * * * ?&quot;)</span></span><br><span class="line">    <span class="meta">@Scheduled(&quot;0 0 12 * ?&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">task1</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è‡ªå®šä¹‰æ³¨è§£"><a href="#è‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="è‡ªå®šä¹‰æ³¨è§£"></a>è‡ªå®šä¹‰æ³¨è§£</h2><p>ä½¿ç”¨ <code>@interface</code> è‡ªå®šä¹‰æ³¨è§£æ—¶ï¼Œè‡ªåŠ¨ç»§æ‰¿äº† <code>java.lang.annotation.Annotation</code> æ¥å£ï¼Œç”±ç¼–è¯‘ç¨‹åºè‡ªåŠ¨å®Œæˆå…¶ä»–ç»†èŠ‚ã€‚åœ¨å®šä¹‰æ³¨è§£æ—¶ï¼Œä¸èƒ½ç»§æ‰¿å…¶ä»–çš„æ³¨è§£æˆ–æ¥å£ã€‚<code>@interface</code> ç”¨æ¥å£°æ˜ä¸€ä¸ªæ³¨è§£ï¼Œå…¶ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å®é™…ä¸Šæ˜¯å£°æ˜äº†ä¸€ä¸ªé…ç½®å‚æ•°ã€‚æ–¹æ³•çš„åç§°å°±æ˜¯å‚æ•°çš„åç§°ï¼Œè¿”å›å€¼ç±»å‹å°±æ˜¯å‚æ•°çš„ç±»å‹ï¼ˆè¿”å›å€¼ç±»å‹åªèƒ½æ˜¯åŸºæœ¬ç±»å‹ã€Classã€Stringã€enumï¼‰ã€‚å¯ä»¥é€šè¿‡ <code>default</code> æ¥å£°æ˜å‚æ•°çš„é»˜è®¤å€¼ã€‚</p>
<p>è¿™é‡Œï¼Œæˆ‘ä¼šé€šè¿‡å®ç°ä¸€ä¸ªåä¸º <code>RegexValid</code> çš„æ­£åˆ™æ ¡éªŒæ³¨è§£å·¥å…·æ¥å±•ç¤ºè‡ªå®šä¹‰æ³¨è§£çš„å…¨æ­¥éª¤ã€‚</p>
<h3 id="æ³¨è§£çš„å®šä¹‰"><a href="#æ³¨è§£çš„å®šä¹‰" class="headerlink" title="æ³¨è§£çš„å®šä¹‰"></a>æ³¨è§£çš„å®šä¹‰</h3><p>æ³¨è§£çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> æ³¨è§£å &#123;å®šä¹‰ä½“&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªæ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.FIELD, ElementType.PARAMETER&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> RegexValid &#123;&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼š</p>
<p>é€šè¿‡ä¸Šä¸€èŠ‚å¯¹äºå…ƒæ³¨è§£ <a href="#target"><code>@Target</code></a>ã€<a href="#retention"><code>@Retention</code></a>ã€<a href="#documented"><code>@Documented</code></a> çš„è¯´æ˜ï¼Œè¿™é‡Œå°±å¾ˆå®¹æ˜“ç†è§£äº†ã€‚</p>
<ul>
<li>ä¸Šé¢çš„ä»£ç ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º <code>@RegexValid</code> çš„æ³¨è§£ã€‚</li>
<li><code>@Documented</code> è¡¨ç¤º <code>@RegexValid</code> åº”è¯¥ä½¿ç”¨ javadocã€‚</li>
<li><code>@Target(&#123;ElementType.FIELD, ElementType.PARAMETER&#125;)</code> è¡¨ç¤º <code>@RegexValid</code> å¯ä»¥åœ¨ç±»æˆå‘˜æˆ–æ–¹æ³•å‚æ•°ä¸Šä¿®é¥°ã€‚</li>
<li>@Retention(RetentionPolicy.RUNTIME) è¡¨ç¤º <code>@RegexValid</code> åœ¨è¿è¡Œæ—¶æœ‰æ•ˆã€‚</li>
</ul>
</blockquote>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å·²ç»å®šä¹‰äº†ä¸€ä¸ªæ²¡æœ‰ä»»ä½•å±æ€§çš„æ³¨è§£ï¼Œå¦‚æœåˆ°æ­¤ä¸ºæ­¢ï¼Œå®ƒä»…ä»…æ˜¯ä¸€ä¸ªæ ‡è®°æ³¨è§£ã€‚ä½œä¸ºæ­£åˆ™å·¥å…·ï¼Œæ²¡æœ‰å±æ€§å¯ä»€ä¹ˆä¹Ÿåšä¸äº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¸ºå®ƒæ·»åŠ æ³¨è§£å±æ€§ã€‚</p>
<h3 id="æ³¨è§£å±æ€§"><a href="#æ³¨è§£å±æ€§" class="headerlink" title="æ³¨è§£å±æ€§"></a>æ³¨è§£å±æ€§</h3><p>æ³¨è§£å±æ€§çš„è¯­æ³•å½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[è®¿é—®çº§åˆ«ä¿®é¥°ç¬¦]</span> <span class="selector-attr">[æ•°æ®ç±»å‹]</span> åç§°() default é»˜è®¤å€¼;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦å®šä¹‰åœ¨æ³¨è§£ä¸­å®šä¹‰ä¸€ä¸ªåä¸º value çš„å­—ç¬¦ä¸²å±æ€§ï¼Œå…¶é»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œè®¿é—®çº§åˆ«ä¸ºé»˜è®¤çº§åˆ«ï¼Œé‚£ä¹ˆåº”è¯¥å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span> value() <span class="literal">default</span> <span class="string">&quot;&quot;</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ”” æ³¨æ„ï¼š**åœ¨æ³¨è§£ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰å±æ€§æ—¶ï¼Œå±æ€§ååé¢éœ€è¦åŠ  <code>()</code>**ã€‚</p>
</blockquote>
<p>å®šä¹‰æ³¨è§£å±æ€§æœ‰ä»¥ä¸‹è¦ç‚¹ï¼š</p>
<ul>
<li><p><strong>æ³¨è§£å±æ€§åªèƒ½ä½¿ç”¨ <code>public</code> æˆ–é»˜è®¤è®¿é—®çº§åˆ«ï¼ˆå³ä¸æŒ‡å®šè®¿é—®çº§åˆ«ä¿®é¥°ç¬¦ï¼‰ä¿®é¥°</strong>ã€‚</p>
</li>
<li><p><strong>æ³¨è§£å±æ€§çš„æ•°æ®ç±»å‹æœ‰é™åˆ¶è¦æ±‚</strong>ã€‚æ”¯æŒçš„æ•°æ®ç±»å‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ‰€æœ‰åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆbyteã€charã€shortã€intã€longã€floatã€doubleã€booleanï¼‰</li>
<li>String ç±»å‹</li>
<li>Class ç±»</li>
<li>enum ç±»å‹</li>
<li>Annotation ç±»å‹</li>
<li>ä»¥ä¸Šæ‰€æœ‰ç±»å‹çš„æ•°ç»„</li>
</ul>
</li>
<li><p><strong>æ³¨è§£å±æ€§å¿…é¡»æœ‰ç¡®å®šçš„å€¼ï¼Œå»ºè®®æŒ‡å®šé»˜è®¤å€¼</strong>ã€‚æ³¨è§£å±æ€§åªèƒ½é€šè¿‡æŒ‡å®šé»˜è®¤å€¼æˆ–ä½¿ç”¨æ³¨è§£æ—¶æŒ‡å®šå±æ€§å€¼ï¼Œç›¸è¾ƒä¹‹ä¸‹ï¼ŒæŒ‡å®šé»˜è®¤å€¼çš„æ–¹å¼æ›´ä¸ºå¯é ã€‚æ³¨è§£å±æ€§å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸å¯ä»¥ä¸º nullã€‚è¿™ä¸ªçº¦æŸä½¿å¾—æ³¨è§£å¤„ç†å™¨å¾ˆéš¾åˆ¤æ–­æ³¨è§£å±æ€§æ˜¯é»˜è®¤å€¼ï¼Œæˆ–æ˜¯ä½¿ç”¨æ³¨è§£æ—¶æ‰€æŒ‡å®šçš„å±æ€§å€¼ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬è®¾ç½®é»˜è®¤å€¼æ—¶ï¼Œä¸€èˆ¬ä¼šå®šä¹‰ä¸€äº›ç‰¹æ®Šçš„å€¼ï¼Œä¾‹å¦‚ç©ºå­—ç¬¦ä¸²æˆ–è€…è´Ÿæ•°ã€‚</p>
</li>
<li><p>å¦‚æœæ³¨è§£ä¸­åªæœ‰ä¸€ä¸ªå±æ€§å€¼ï¼Œæœ€å¥½å°†å…¶å‘½åä¸º valueã€‚å› ä¸ºï¼ŒæŒ‡å®šå±æ€§åä¸º valueï¼Œåœ¨ä½¿ç”¨æ³¨è§£æ—¶ï¼ŒæŒ‡å®š value çš„å€¼å¯ä»¥ä¸æŒ‡å®šå±æ€§åç§°ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸¤ç§æ–¹å¼æ•ˆæœç›¸åŒ</span></span><br><span class="line"><span class="meta">@RegexValid(&quot;^((\\+)?86\\s*)?((13[0-9])|(15([0-3]|[5-9]))|(18[0,2,5-9]))\\d&#123;8&#125;$&quot;)</span></span><br><span class="line"><span class="meta">@RegexValid(value = &quot;^((\\+)?86\\s*)?((13[0-9])|(15([0-3]|[5-9]))|(18[0,2,5-9]))\\d&#123;8&#125;$&quot;)</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<p>äº†è§£äº†æ³¨è§£å±æ€§çš„å®šä¹‰è¦ç‚¹ï¼Œè®©æˆ‘ä»¬æ¥ä¸º <code>@RegexValid</code> æ³¨è§£å®šä¹‰å‡ ä¸ªå±æ€§ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.FIELD, ElementType.PARAMETER&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> RegexValid &#123;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">Policy</span> &#123;</span><br><span class="line">        <span class="comment">// @formatter:off</span></span><br><span class="line">        EMPTY(<span class="literal">null</span>),</span><br><span class="line">        DATE(<span class="string">&quot;^(?:(?!0000)[0-9]&#123;4&#125;([-/.]?)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1&quot;</span></span><br><span class="line">            + <span class="string">&quot;(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]&#123;2&#125;(?:0[48]|[2468][048]|[13579][26])|&quot;</span></span><br><span class="line">            + <span class="string">&quot;(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\\2(?:29))$&quot;</span>),</span><br><span class="line">        MAIL(<span class="string">&quot;^[A-Za-z0-9](([_\\.\\-]?[a-zA-Z0-9]+)*)@([A-Za-z0-9]+)(([\\.\\-]?[a-zA-Z0-9]+)*)\\.([A-Za-z]&#123;2,&#125;)$&quot;</span>);</span><br><span class="line">        <span class="comment">// @formatter:on</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> String policy;</span><br><span class="line"></span><br><span class="line">        Policy(String policy) &#123;</span><br><span class="line">            <span class="built_in">this</span>.policy = policy;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getPolicy</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> policy;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    Policy <span class="title function_">policy</span><span class="params">()</span> <span class="keyword">default</span> Policy.EMPTY;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼š</p>
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªæ³¨è§£å±æ€§ï¼š<code>String</code> ç±»å‹çš„ value å±æ€§å’Œ <code>Policy</code> æšä¸¾ç±»å‹çš„ policy å±æ€§ã€‚<code>Policy</code> æšä¸¾ä¸­å®šä¹‰äº†å‡ ä¸ªé»˜è®¤çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™æ˜¯ä¸ºäº†ç›´æ¥ä½¿ç”¨è¿™å‡ ä¸ªå¸¸ç”¨è¡¨è¾¾å¼å»æ­£åˆ™æ ¡éªŒã€‚è€ƒè™‘åˆ°ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦è‡ªå·±ä¼ å…¥ä¸€äº›è‡ªå®šä¹‰æ­£åˆ™è¡¨è¾¾å¼å»æ ¡éªŒå…¶ä»–åœºæ™¯ï¼Œæ‰€ä»¥å®šä¹‰äº† value å±æ€§ï¼Œå…è®¸ä½¿ç”¨è€…ä¼ å…¥æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
</blockquote>
<p>è‡³æ­¤ï¼Œ<code>@RegexValid</code> çš„å£°æ˜å·²ç»ç»“æŸã€‚ä½†æ˜¯ï¼Œç¨‹åºä»ä¸çŸ¥é“å¦‚ä½•å¤„ç† <code>@RegexValid</code> è¿™ä¸ªæ³¨è§£ã€‚æˆ‘ä»¬è¿˜éœ€è¦å®šä¹‰æ³¨è§£å¤„ç†å™¨ã€‚</p>
<h3 id="æ³¨è§£å¤„ç†å™¨"><a href="#æ³¨è§£å¤„ç†å™¨" class="headerlink" title="æ³¨è§£å¤„ç†å™¨"></a>æ³¨è§£å¤„ç†å™¨</h3><p>å¦‚æœæ²¡æœ‰ç”¨æ¥è¯»å–æ³¨è§£çš„æ–¹æ³•å’Œå·¥ä½œï¼Œé‚£ä¹ˆæ³¨è§£ä¹Ÿå°±ä¸ä¼šæ¯”æ³¨é‡Šæ›´æœ‰ç”¨å¤„äº†ã€‚ä½¿ç”¨æ³¨è§£çš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†å°±æ˜¯åˆ›å»ºäºä½¿ç”¨æ³¨è§£å¤„ç†å™¨ã€‚JDK5 æ‰©å±•äº†åå°„æœºåˆ¶çš„ APIï¼Œä»¥å¸®åŠ©ç¨‹åºå‘˜å¿«é€Ÿçš„æ„é€ è‡ªå®šä¹‰æ³¨è§£å¤„ç†å™¨ã€‚</p>
<p><strong><code>java.lang.annotation.Annotation</code> æ˜¯ä¸€ä¸ªæ¥å£ï¼Œç¨‹åºå¯ä»¥é€šè¿‡åå°„æ¥è·å–æŒ‡å®šç¨‹åºå…ƒç´ çš„æ³¨è§£å¯¹è±¡ï¼Œç„¶åé€šè¿‡æ³¨è§£å¯¹è±¡æ¥è·å–æ³¨è§£é‡Œé¢çš„å…ƒæ•°æ®</strong>ã€‚</p>
<p><code>Annotation</code> æ¥å£æºç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Annotation</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    String <span class="title function_">toString</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    Class&lt;? <span class="keyword">extends</span> <span class="title class_">Annotation</span>&gt; annotationType();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é™¤æ­¤ä¹‹å¤–ï¼ŒJava ä¸­æ”¯æŒ<strong>æ³¨è§£å¤„ç†å™¨æ¥å£ <code>java.lang.reflect.AnnotatedElement</code></strong> ï¼Œè¯¥æ¥å£ä»£è¡¨ç¨‹åºä¸­å¯ä»¥æ¥å—æ³¨è§£çš„ç¨‹åºå…ƒç´ ï¼Œè¯¥æ¥å£ä¸»è¦æœ‰å¦‚ä¸‹å‡ ä¸ªå®ç°ç±»ï¼š</p>
<ul>
<li><code>Class</code> - ç±»å®šä¹‰</li>
<li><code>Constructor</code> - æ„é€ å™¨å®šä¹‰</li>
<li><code>Field</code> - ç´¯çš„æˆå‘˜å˜é‡å®šä¹‰</li>
<li><code>Method</code> - ç±»çš„æ–¹æ³•å®šä¹‰</li>
<li><code>Package</code> - ç±»çš„åŒ…å®šä¹‰</li>
</ul>
<p><code>java.lang.reflect</code> åŒ…ä¸‹ä¸»è¦åŒ…å«ä¸€äº›å®ç°åå°„åŠŸèƒ½çš„å·¥å…·ç±»ã€‚å®é™…ä¸Šï¼Œ<code>java.lang.reflect</code> åŒ…æ‰€æœ‰æä¾›çš„åå°„ API æ‰©å……äº†è¯»å–è¿è¡Œæ—¶æ³¨è§£ä¿¡æ¯çš„èƒ½åŠ›ã€‚å½“ä¸€ä¸ªæ³¨è§£ç±»å‹è¢«å®šä¹‰ä¸ºè¿è¡Œæ—¶çš„æ³¨è§£åï¼Œè¯¥æ³¨è§£æ‰èƒ½æ˜¯è¿è¡Œæ—¶å¯è§ï¼Œå½“ class æ–‡ä»¶è¢«è£…è½½æ—¶è¢«ä¿å­˜åœ¨ class æ–‡ä»¶ä¸­çš„æ³¨è§£æ‰ä¼šè¢«è™šæ‹Ÿæœºè¯»å–ã€‚<br><code>AnnotatedElement</code> æ¥å£æ˜¯æ‰€æœ‰ç¨‹åºå…ƒç´ ï¼ˆClassã€Method å’Œ Constructorï¼‰çš„çˆ¶æ¥å£ï¼Œæ‰€ä»¥ç¨‹åºé€šè¿‡åå°„è·å–äº†æŸä¸ªç±»çš„<code>AnnotatedElement</code> å¯¹è±¡ä¹‹åï¼Œç¨‹åºå°±å¯ä»¥è°ƒç”¨è¯¥å¯¹è±¡çš„å¦‚ä¸‹å››ä¸ªä¸ªæ–¹æ³•æ¥è®¿é—®æ³¨è§£ä¿¡æ¯ï¼š</p>
<ul>
<li><code>getAnnotation</code> - è¿”å›è¯¥ç¨‹åºå…ƒç´ ä¸Šå­˜åœ¨çš„ã€æŒ‡å®šç±»å‹çš„æ³¨è§£ï¼Œå¦‚æœè¯¥ç±»å‹æ³¨è§£ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› nullã€‚</li>
<li><code>getAnnotations</code> - è¿”å›è¯¥ç¨‹åºå…ƒç´ ä¸Šå­˜åœ¨çš„æ‰€æœ‰æ³¨è§£ã€‚</li>
<li><code>isAnnotationPresent</code> - åˆ¤æ–­è¯¥ç¨‹åºå…ƒç´ ä¸Šæ˜¯å¦åŒ…å«æŒ‡å®šç±»å‹çš„æ³¨è§£ï¼Œå­˜åœ¨åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</li>
<li><code>getDeclaredAnnotations</code> - è¿”å›ç›´æ¥å­˜åœ¨äºæ­¤å…ƒç´ ä¸Šçš„æ‰€æœ‰æ³¨é‡Šã€‚ä¸æ­¤æ¥å£ä¸­çš„å…¶ä»–æ–¹æ³•ä¸åŒï¼Œè¯¥æ–¹æ³•å°†å¿½ç•¥ç»§æ‰¿çš„æ³¨é‡Šã€‚ï¼ˆå¦‚æœæ²¡æœ‰æ³¨é‡Šç›´æ¥å­˜åœ¨äºæ­¤å…ƒç´ ä¸Šï¼Œåˆ™è¿”å›é•¿åº¦ä¸ºé›¶çš„ä¸€ä¸ªæ•°ç»„ã€‚ï¼‰è¯¥æ–¹æ³•çš„è°ƒç”¨è€…å¯ä»¥éšæ„ä¿®æ”¹è¿”å›çš„æ•°ç»„ï¼›è¿™ä¸ä¼šå¯¹å…¶ä»–è°ƒç”¨è€…è¿”å›çš„æ•°ç»„äº§ç”Ÿä»»ä½•å½±å“ã€‚</li>
</ul>
<p>äº†è§£äº†ä»¥ä¸Šå†…å®¹ï¼Œè®©æˆ‘ä»¬æ¥å®ç° <code>@RegexValid</code> çš„æ³¨è§£å¤„ç†å™¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexValidUtil</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        Field[] fields = obj.getClass().getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            <span class="comment">// åˆ¤æ–­æˆå‘˜æ˜¯å¦è¢« @RegexValid æ³¨è§£æ‰€ä¿®é¥°</span></span><br><span class="line">            <span class="keyword">if</span> (field.isAnnotationPresent(RegexValid.class)) &#123;</span><br><span class="line">                <span class="type">RegexValid</span> <span class="variable">valid</span> <span class="operator">=</span> field.getAnnotation(RegexValid.class);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// å¦‚æœ value ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œè¯´æ˜æ²¡æœ‰æ³¨å…¥è‡ªå®šä¹‰æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ”¹ç”¨ policy å±æ€§</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> valid.value();</span><br><span class="line">                <span class="keyword">if</span> (<span class="string">&quot;&quot;</span>.equals(value)) &#123;</span><br><span class="line">                    RegexValid.<span class="type">Policy</span> <span class="variable">policy</span> <span class="operator">=</span> valid.policy();</span><br><span class="line">                    value = policy.getPolicy();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// é€šè¿‡è®¾ç½® setAccessible(true) æ¥è®¿é—®ç§æœ‰æˆå‘˜</span></span><br><span class="line">                field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">                <span class="type">Object</span> <span class="variable">fieldObj</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fieldObj = field.get(obj);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (fieldObj == <span class="literal">null</span>) &#123;</span><br><span class="line">                    sb.append(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">                        .append(String.format(<span class="string">&quot;%s ç±»ä¸­çš„ %s å­—æ®µä¸èƒ½ä¸ºç©ºï¼&quot;</span>, obj.getClass().getName(), field.getName()));</span><br><span class="line">                    result = <span class="literal">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (fieldObj <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">                        <span class="type">String</span> <span class="variable">text</span> <span class="operator">=</span> (String) fieldObj;</span><br><span class="line">                        <span class="type">Pattern</span> <span class="variable">p</span> <span class="operator">=</span> Pattern.compile(value);</span><br><span class="line">                        <span class="type">Matcher</span> <span class="variable">m</span> <span class="operator">=</span> p.matcher(text);</span><br><span class="line">                        result = m.matches();</span><br><span class="line">                        <span class="keyword">if</span> (!result) &#123;</span><br><span class="line">                            sb.append(<span class="string">&quot;\n&quot;</span>).append(String.format(<span class="string">&quot;%s ä¸æ˜¯åˆæ³•çš„ %s ï¼&quot;</span>, text, field.getName()));</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        sb.append(<span class="string">&quot;\n&quot;</span>).append(</span><br><span class="line">                            String.format(<span class="string">&quot;%s ç±»ä¸­çš„ %s å­—æ®µä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸èƒ½ä½¿ç”¨æ­¤æ³¨è§£æ ¡éªŒï¼&quot;</span>, obj.getClass().getName(), field.getName()));</span><br><span class="line">                        result = <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (sb.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Exception</span>(sb.toString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼š</p>
<p>ä»¥ä¸Šç¤ºä¾‹ä¸­çš„æ³¨è§£å¤„ç†å™¨ï¼Œæ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>é€šè¿‡ getDeclaredFields åå°„æ–¹æ³•è·å–ä¼ å…¥å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜ã€‚</li>
<li>éå†æˆå‘˜ï¼Œä½¿ç”¨ isAnnotationPresent åˆ¤æ–­æˆå‘˜æ˜¯å¦è¢«æŒ‡å®šæ³¨è§£æ‰€ä¿®é¥°ï¼Œå¦‚æœä¸æ˜¯ï¼Œç›´æ¥è·³è¿‡ã€‚</li>
<li>å¦‚æœæˆå‘˜è¢«æ³¨è§£æ‰€ä¿®é¥°ï¼Œé€šè¿‡ <code>RegexValid valid = field.getAnnotation(RegexValid.class);</code> è¿™æ ·çš„å½¢å¼è·å–ï¼Œæ³¨è§£å®ä¾‹åŒ–å¯¹è±¡ï¼Œç„¶åï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>valid.value()</code> æˆ– <code>valid.policy()</code> è¿™æ ·çš„å½¢å¼è·å–æ³¨è§£ä¸­è®¾å®šçš„å±æ€§å€¼ã€‚</li>
<li>æ ¹æ®å±æ€§å€¼ï¼Œè¿›è¡Œé€»è¾‘å¤„ç†ã€‚</li>
</ol>
</blockquote>
<h3 id="ä½¿ç”¨æ³¨è§£"><a href="#ä½¿ç”¨æ³¨è§£" class="headerlink" title="ä½¿ç”¨æ³¨è§£"></a>ä½¿ç”¨æ³¨è§£</h3><p>å®Œæˆäº†ä»¥ä¸Šå·¥ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£äº†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexValidDemo</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line">        <span class="meta">@RegexValid(policy = RegexValid.Policy.DATE)</span></span><br><span class="line">        <span class="keyword">private</span> String date;</span><br><span class="line">        <span class="meta">@RegexValid(policy = RegexValid.Policy.MAIL)</span></span><br><span class="line">        <span class="keyword">private</span> String mail;</span><br><span class="line">        <span class="meta">@RegexValid(&quot;^((\\+)?86\\s*)?((13[0-9])|(15([0-3]|[5-9]))|(18[0,2,5-9]))\\d&#123;8&#125;$&quot;)</span></span><br><span class="line">        <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String name, String date, String mail, String phone)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.name = name;</span><br><span class="line">            <span class="built_in">this</span>.date = date;</span><br><span class="line">            <span class="built_in">this</span>.mail = mail;</span><br><span class="line">            <span class="built_in">this</span>.phone = phone;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> + <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&quot;, date=&#x27;&quot;</span> + date + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&quot;, mail=&#x27;&quot;</span> + mail + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&quot;, phone=&#x27;&quot;</span></span><br><span class="line">                + phone + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printDate</span><span class="params">(<span class="meta">@RegexValid(policy = RegexValid.Policy.DATE)</span> String date)</span>&#123;</span><br><span class="line">        System.out.println(date);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;1990-01-31&quot;</span>, <span class="string">&quot;xxx@163.com&quot;</span>, <span class="string">&quot;18612341234&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jack&quot;</span>, <span class="string">&quot;2019-02-29&quot;</span>, <span class="string">&quot;sadhgs&quot;</span>, <span class="string">&quot;183xxxxxxxx&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (RegexValidUtil.check(user)) &#123;</span><br><span class="line">            System.out.println(user + <span class="string">&quot;æ­£åˆ™æ ¡éªŒé€šè¿‡&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (RegexValidUtil.check(user2)) &#123;</span><br><span class="line">            System.out.println(user2 + <span class="string">&quot;æ­£åˆ™æ ¡éªŒé€šè¿‡&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/java/javacore/xmind/%E6%B3%A8%E8%A7%A3%E7%AE%80%E4%BB%8B.svg" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/java/javacore/xmind/%E5%85%83%E6%B3%A8%E8%A7%A3.svg" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/java/javacore/xmind/%E5%86%85%E7%BD%AE%E6%B3%A8%E8%A7%A3.svg" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/java/javacore/xmind/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3.svg" alt="img"></p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a target="_blank" rel="noopener" href="https://book.douban.com/subject/2130190/">Java ç¼–ç¨‹æ€æƒ³</a></li>
<li><a target="_blank" rel="noopener" href="https://book.douban.com/subject/3146174/">Java æ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li>
<li><a target="_blank" rel="noopener" href="https://book.douban.com/subject/3360807/">Effective java</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/tutorial/java/annotations/">Oracle å®˜æ–¹æ–‡æ¡£ä¹‹æ³¨è§£ç¯‡</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/peida/archive/2013/04/24/3036689.html">æ·±å…¥ç†è§£ Javaï¼šæ³¨è§£ï¼ˆAnnotationï¼‰è‡ªå®šä¹‰æ³¨è§£å…¥é—¨</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/briblue/article/details/73824058">https://blog.csdn.net/briblue/article/details/73824058</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/pages/bcc7c02f/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="é’æ‚Ÿ â—¾ Dunwu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunwu Blog">
      <meta itemprop="description" content="é’æ‚Ÿçš„ä¸ªäººåšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Dunwu Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/pages/bcc7c02f/" class="post-title-link" itemprop="url">JDK8 å…¥é—¨æŒ‡å—</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-06 15:02:02" itemprop="dateCreated datePublished" datetime="2019-05-06T15:02:02+08:00">2019-05-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-13 17:56:53" itemprop="dateModified" datetime="2025-09-13T17:56:53+08:00">2025-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Java/JavaCore/" itemprop="url" rel="index"><span itemprop="name">JavaCore</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Java/JavaCore/%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/" itemprop="url" rel="index"><span itemprop="name">é«˜çº§ç‰¹æ€§</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>19k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>17 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="JDK8-å…¥é—¨æŒ‡å—"><a href="#JDK8-å…¥é—¨æŒ‡å—" class="headerlink" title="JDK8 å…¥é—¨æŒ‡å—"></a>JDK8 å…¥é—¨æŒ‡å—</h1><blockquote>
<p>JDK8 å‡çº§å¸¸è§é—®é¢˜ç« èŠ‚æ˜¯æˆ‘ä¸ªäººçš„ç»éªŒæ•´ç†ã€‚å…¶ä»–å†…å®¹åŸºæœ¬ç¿»è¯‘è‡ª <a target="_blank" rel="noopener" href="https://github.com/winterbe/java8-tutorial">java8-tutorial</a></p>
<p><strong>ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ <a target="_blank" rel="noopener" href="https://github.com/dunwu/javacore/">javacore</a></strong></p>
<p>å…³é”®è¯ï¼š<code>Stream</code>ã€<code>lambda</code>ã€<code>Optional</code>ã€<code>@FunctionalInterface</code></p>
</blockquote>
<h2 id="Default-Methods-for-Interfaces-æ¥å£çš„é»˜è®¤æ–¹æ³•"><a href="#Default-Methods-for-Interfaces-æ¥å£çš„é»˜è®¤æ–¹æ³•" class="headerlink" title="Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•)"></a>Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•)</h2><p>Java 8 ä½¿æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ä½¿ç”¨ <code>default</code> å…³é”®å­—å°†éæŠ½è±¡æ–¹æ³•å®ç°æ·»åŠ åˆ°æ¥å£ã€‚è¿™ä¸ªåŠŸèƒ½ä¹Ÿè¢«ç§°ä¸ºè™šæ‹Ÿæ‰©å±•æ–¹æ³•ã€‚</p>
<p>è¿™æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Formula</span> &#123;</span><br><span class="line">    <span class="type">double</span> <span class="title function_">calculate</span><span class="params">(<span class="type">int</span> a)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> <span class="type">double</span> <span class="title function_">sqrt</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Math.sqrt(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é™¤äº†æŠ½è±¡æ–¹æ³• <code>calculate</code> ï¼Œæ¥å£ <code>Formula</code> è¿˜å®šä¹‰äº†é»˜è®¤æ–¹æ³• <code>sqrt</code>ã€‚å…·ä½“ç±»åªéœ€è¦æ‰§è¡ŒæŠ½è±¡æ–¹æ³•è®¡ç®—ã€‚é»˜è®¤çš„æ–¹æ³• <code>sqrt</code> å¯ä»¥ç”¨äºå¼€ç®±å³ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Formula</span> <span class="variable">formula</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Formula</span>() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">calculate</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sqrt(a * <span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">formula.calculate(<span class="number">100</span>);     <span class="comment">// 100.0</span></span><br><span class="line">formula.sqrt(<span class="number">16</span>);           <span class="comment">// 4.0</span></span><br></pre></td></tr></table></figure>

<p><code>Formula</code> è¢«å®ç°ä¸ºä¸€ä¸ªåŒ¿åå¯¹è±¡ã€‚ä»£ç éå¸¸å†—é•¿ï¼šç”¨äº <code>sqrt(a * 100)</code> è¿™æ ·ç®€å•çš„è®¡ç®—çš„ 6 è¡Œä»£ç ã€‚æ­£å¦‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­çœ‹åˆ°çš„ï¼Œåœ¨ Java 8 ä¸­å®ç°å•ä¸ªæ–¹æ³•å¯¹è±¡æœ‰æ›´å¥½çš„æ–¹æ³•ã€‚</p>
<h2 id="Lambda-expressions-Lambda-è¡¨è¾¾å¼"><a href="#Lambda-expressions-Lambda-è¡¨è¾¾å¼" class="headerlink" title="Lambda expressions(Lambda è¡¨è¾¾å¼)"></a>Lambda expressions(Lambda è¡¨è¾¾å¼)</h2><p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜å¦‚ä½•åœ¨ä»¥å‰ç‰ˆæœ¬çš„ Java ä¸­å¯¹å­—ç¬¦ä¸²åˆ—è¡¨è¿›è¡Œæ’åºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; names = Arrays.asList(<span class="string">&quot;peter&quot;</span>, <span class="string">&quot;anna&quot;</span>, <span class="string">&quot;mike&quot;</span>, <span class="string">&quot;xenia&quot;</span>);</span><br><span class="line"></span><br><span class="line">Collections.sort(names, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(String a, String b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> b.compareTo(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>é™æ€å·¥å…·æ–¹æ³• <code>Collections.sort</code> ä¸ºäº†å¯¹æŒ‡å®šçš„åˆ—è¡¨è¿›è¡Œæ’åºï¼Œæ¥å—ä¸€ä¸ªåˆ—è¡¨å’Œä¸€ä¸ªæ¯”è¾ƒå™¨ã€‚æ‚¨ä¼šå‘ç°è‡ªå·±ç»å¸¸éœ€è¦åˆ›å»ºåŒ¿åæ¯”è¾ƒå™¨å¹¶å°†å…¶ä¼ é€’ç»™æ’åºæ–¹æ³•ã€‚</p>
<p>Java 8 ä½¿ç”¨æ›´ç®€çŸ­çš„ <strong>lambda è¡¨è¾¾å¼</strong>æ¥é¿å…å¸¸å¸¸åˆ›å»ºåŒ¿åå¯¹è±¡çš„é—®é¢˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Collections.sort(names, (String a, String b) -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> b.compareTo(a);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å¦‚æ‚¨æ‰€è§ï¼Œè¿™æ®µä»£ç æ¯”ä¸Šæ®µä»£ç ç®€æ´å¾ˆå¤šã€‚ä½†æ˜¯ï¼Œè¿˜å¯ä»¥æ›´åŠ ç®€æ´ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collections.sort(names, (String a, String b) -&gt; b.compareTo(a));</span><br></pre></td></tr></table></figure>

<p>è¿™è¡Œä»£ç ä¸­ï¼Œä½ çœå»äº†èŠ±æ‹¬å· <code>&#123;&#125;</code> å’Œ return å…³é”®å­—ã€‚ä½†æ˜¯ï¼Œè¿™è¿˜ä¸ç®—å®Œï¼Œå®ƒè¿˜å¯ä»¥å†è¿›ä¸€æ­¥ç®€æ´ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">names.sort((a, b) -&gt; b.compareTo(a));</span><br></pre></td></tr></table></figure>

<p>åˆ—è¡¨ç°åœ¨æœ‰ä¸€ä¸ª <code>sort</code> æ–¹æ³•ã€‚æ­¤å¤–ï¼Œjava ç¼–è¯‘å™¨çŸ¥é“å‚æ•°ç±»å‹ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä¸æŒ‡å®šå…¥å‚çš„æ•°æ®ç±»å‹ã€‚è®©æˆ‘ä»¬æ·±å…¥æ¢è®¨å¦‚ä½•ä½¿ç”¨ lambda è¡¨è¾¾å¼ã€‚</p>
<h2 id="Functional-Interfaces-å‡½æ•°æ¥å£"><a href="#Functional-Interfaces-å‡½æ•°æ¥å£" class="headerlink" title="Functional Interfaces(å‡½æ•°æ¥å£)"></a>Functional Interfaces(å‡½æ•°æ¥å£)</h2><p>lambda è¡¨è¾¾å¼å¦‚ä½•é€‚åº” Java çš„ç±»å‹ç³»ç»Ÿï¼Ÿæ¯ä¸ª lambda å¯¹åº”ä¸€ä¸ªç”±æ¥å£æŒ‡å®šçš„ç±»å‹ã€‚ä¸€ä¸ªæ‰€è°“çš„<em>å‡½æ•°æ¥å£</em>å¿…é¡»åŒ…å«ä¸€ä¸ª<strong>æŠ½è±¡æ–¹æ³•å£°æ˜</strong>ã€‚è¯¥ç±»å‹çš„æ¯ä¸ª lambda è¡¨è¾¾å¼éƒ½å°†ä¸æ­¤æŠ½è±¡æ–¹æ³•åŒ¹é…ã€‚ç”±äºé»˜è®¤æ–¹æ³•ä¸æ˜¯æŠ½è±¡çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥è‡ªç”±åœ°æ·»åŠ é»˜è®¤æ–¹æ³•åˆ°ä½ çš„å‡½æ•°æ¥å£ã€‚</p>
<p>åªè¦ä¿è¯æ¥å£ä»…åŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå°±å¯ä»¥ä½¿ç”¨ä»»æ„çš„æ¥å£ä½œä¸º lambda è¡¨è¾¾å¼ã€‚ä¸ºç¡®ä¿æ‚¨çš„æ¥å£ç¬¦åˆè¦æ±‚ï¼Œæ‚¨åº”è¯¥æ·»åŠ  <code>@FunctionalInterface</code> æ³¨è§£ã€‚ç¼–è¯‘å™¨æ³¨æ„åˆ°è¿™ä¸ªæ³¨è§£åï¼Œä¸€æ—¦æ‚¨å°è¯•åœ¨æ¥å£ä¸­æ·»åŠ ç¬¬äºŒä¸ªæŠ½è±¡æ–¹æ³•å£°æ˜ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ›å‡ºç¼–è¯‘å™¨é”™è¯¯ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Converter</span>&lt;F, T&gt; &#123;</span><br><span class="line">    T <span class="title function_">convert</span><span class="params">(F from)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Converter&lt;String, Integer&gt; converter = (from) -&gt; Integer.valueOf(from);</span><br><span class="line"><span class="type">Integer</span> <span class="variable">converted</span> <span class="operator">=</span> converter.convert(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">System.out.println(converted);    <span class="comment">// 123</span></span><br></pre></td></tr></table></figure>

<p>è¯·è®°ä½ï¼Œå¦‚æœ <code>@FunctionalInterface</code> æ³¨è§£è¢«çœç•¥ï¼Œä»£ç ä¹Ÿæ˜¯æœ‰æ•ˆçš„ã€‚</p>
<h2 id="Method-and-Constructor-References-æ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨"><a href="#Method-and-Constructor-References-æ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨" class="headerlink" title="Method and Constructor References(æ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨)"></a>Method and Constructor References(æ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨)</h2><p>ä¸Šé¢çš„ç¤ºä¾‹ä»£ç å¯ä»¥é€šè¿‡ä½¿ç”¨é™æ€æ–¹æ³•å¼•ç”¨è¿›ä¸€æ­¥ç®€åŒ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Converter&lt;String, Integer&gt; converter = Integer::valueOf;</span><br><span class="line"><span class="type">Integer</span> <span class="variable">converted</span> <span class="operator">=</span> converter.convert(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">System.out.println(converted);   <span class="comment">// 123</span></span><br></pre></td></tr></table></figure>

<p>Java 8 å…è®¸æ‚¨é€šè¿‡ <code>::</code> å…³é”®å­—ä¼ é€’æ–¹æ³•æˆ–æ„é€ å‡½æ•°çš„å¼•ç”¨ã€‚ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•å¼•ç”¨ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥å¼•ç”¨å¯¹è±¡æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Something</span> &#123;</span><br><span class="line">    String <span class="title function_">startsWith</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(s.charAt(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Something</span> <span class="variable">something</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Something</span>();</span><br><span class="line">Converter&lt;String, String&gt; converter = something::startsWith;</span><br><span class="line"><span class="type">String</span> <span class="variable">converted</span> <span class="operator">=</span> converter.convert(<span class="string">&quot;Java&quot;</span>);</span><br><span class="line">System.out.println(converted);    <span class="comment">// &quot;J&quot;</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ¥è§‚å¯Ÿä¸€ä¸‹ <code>::</code> å…³é”®å­—æ˜¯å¦‚ä½•ä½œç”¨äºæ„é€ å™¨çš„ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæœ‰å¤šä¸ªæ„é€ å™¨çš„ç¤ºä¾‹ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    String firstName;</span><br><span class="line">    String lastName;</span><br><span class="line"></span><br><span class="line">    Person() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    Person(String firstName, String lastName) &#123;</span><br><span class="line">        <span class="built_in">this</span>.firstName = firstName;</span><br><span class="line">        <span class="built_in">this</span>.lastName = lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ï¼Œæˆ‘ä»¬æŒ‡å®šä¸€ä¸ªç”¨äºåˆ›å»º Person å¯¹è±¡çš„ PersonFactory æ¥å£ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonFactory</span>&lt;P <span class="keyword">extends</span> <span class="title class_">Person</span>&gt; &#123;</span><br><span class="line">    P <span class="title function_">create</span><span class="params">(String firstName, String lastName)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¸æ˜¯æ‰‹åŠ¨å®ç°å·¥å‚ï¼Œè€Œæ˜¯é€šè¿‡æ„é€ å¼•ç”¨å°†æ‰€æœ‰ä¸œè¥¿ç²˜åˆåœ¨ä¸€èµ·ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PersonFactory&lt;Person&gt; personFactory = Person::<span class="keyword">new</span>;</span><br><span class="line"><span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> personFactory.create(<span class="string">&quot;Peter&quot;</span>, <span class="string">&quot;Parker&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šè¿‡ <code>Person::new</code> æ¥åˆ›å»ºä¸€ä¸ª Person æ„é€ å™¨çš„å¼•ç”¨ã€‚Java ç¼–è¯‘å™¨ä¼šæ ¹æ®<code>PersonFactory.create</code> çš„ç­¾åè‡ªåŠ¨åŒ¹é…æ­£ç¡®çš„æ„é€ å™¨ã€‚</p>
<h2 id="Lambda-Scopes-Lambda-ä½œç”¨åŸŸ"><a href="#Lambda-Scopes-Lambda-ä½œç”¨åŸŸ" class="headerlink" title="Lambda Scopes(Lambda ä½œç”¨åŸŸ)"></a>Lambda Scopes(Lambda ä½œç”¨åŸŸ)</h2><p>ä» lambda è¡¨è¾¾å¼è®¿é—®å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ä¸åŒ¿åå¯¹è±¡éå¸¸ç›¸ä¼¼ã€‚æ‚¨å¯ä»¥è®¿é—®æœ¬åœ°å¤–éƒ¨ä½œç”¨åŸŸçš„å¸¸é‡ä»¥åŠå®ä¾‹çš„æˆå‘˜å˜é‡å’Œé™æ€å˜é‡ã€‚</p>
<h3 id="Accessing-local-variables-è®¿é—®æœ¬åœ°å˜é‡"><a href="#Accessing-local-variables-è®¿é—®æœ¬åœ°å˜é‡" class="headerlink" title="Accessing local variables(è®¿é—®æœ¬åœ°å˜é‡)"></a>Accessing local variables(è®¿é—®æœ¬åœ°å˜é‡)</h3><p>æˆ‘ä»¬å¯ä»¥è®¿é—® lambda è¡¨è¾¾å¼ä½œç”¨åŸŸå¤–éƒ¨çš„å¸¸é‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">Converter&lt;Integer, String&gt; stringConverter =</span><br><span class="line">        (from) -&gt; String.valueOf(from + num);</span><br><span class="line"></span><br><span class="line">stringConverter.convert(<span class="number">2</span>);     <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>ä¸åŒäºåŒ¿åå¯¹è±¡çš„æ˜¯ï¼šè¿™ä¸ªå˜é‡ <code>num</code> ä¸æ˜¯ä¸€å®šè¦è¢« <code>final</code> ä¿®é¥°ã€‚ä¸‹é¢çš„ä»£ç ä¸€æ ·åˆæ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">Converter&lt;Integer, String&gt; stringConverter =</span><br><span class="line">        (from) -&gt; String.valueOf(from + num);</span><br><span class="line"></span><br><span class="line">stringConverter.convert(<span class="number">2</span>);     <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œ<code>num</code> å¿…é¡»æ˜¯éšå¼å¸¸é‡çš„ã€‚ä¸‹é¢çš„ä»£ç ä¸èƒ½ç¼–è¯‘é€šè¿‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">Converter&lt;Integer, String&gt; stringConverter =</span><br><span class="line">        (from) -&gt; String.valueOf(from + num);</span><br><span class="line">num = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼Œåœ¨ lambda è¡¨è¾¾å¼ä¸­å¯¹ <code>num</code> åšå†™æ“ä½œä¹Ÿæ˜¯è¢«ç¦æ­¢çš„ã€‚</p>
<h3 id="Accessing-fields-and-static-variables-è®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡"><a href="#Accessing-fields-and-static-variables-è®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡" class="headerlink" title="Accessing fields and static variables(è®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡)"></a>Accessing fields and static variables(è®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡)</h3><p>ä¸å±€éƒ¨å˜é‡ç›¸æ¯”ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥åœ¨ lambda è¡¨è¾¾å¼ä¸­è¯»å†™å®ä¾‹çš„æˆå‘˜å˜é‡ï¼Œä¹Ÿå¯ä»¥è¯»å†™å®ä¾‹çš„é™æ€å˜é‡ã€‚è¿™ç§è¡Œä¸ºåœ¨åŒ¿åå¯¹è±¡ä¸­æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Lambda4</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> outerStaticNum;</span><br><span class="line">    <span class="type">int</span> outerNum;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testScopes</span><span class="params">()</span> &#123;</span><br><span class="line">        Converter&lt;Integer, String&gt; stringConverter1 = (from) -&gt; &#123;</span><br><span class="line">            outerNum = <span class="number">23</span>;</span><br><span class="line">            <span class="keyword">return</span> String.valueOf(from);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        Converter&lt;Integer, String&gt; stringConverter2 = (from) -&gt; &#123;</span><br><span class="line">            outerStaticNum = <span class="number">72</span>;</span><br><span class="line">            <span class="keyword">return</span> String.valueOf(from);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Accessing-Default-Interface-Methodsï¼ˆè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•ï¼‰"><a href="#Accessing-Default-Interface-Methodsï¼ˆè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•ï¼‰" class="headerlink" title="Accessing Default Interface Methodsï¼ˆè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•ï¼‰"></a>Accessing Default Interface Methodsï¼ˆè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•ï¼‰</h3><p>è¿˜è®°å¾—ç¬¬ä¸€èŠ‚çš„ formula ä¾‹å­å—ï¼Ÿ <code>Formula</code> æ¥å£å®šä¹‰äº†ä¸€ä¸ªé»˜è®¤æ–¹æ³• <code>sqrt</code>ï¼Œå®ƒå¯ä»¥è¢«æ¯ä¸ª formula å®ä¾‹ï¼ˆåŒ…æ‹¬åŒ¿åå¯¹è±¡ï¼‰è®¿é—®ã€‚è¿™ä¸ªç‰¹æ€§ä¸é€‚ç”¨äº lambda è¡¨è¾¾å¼ã€‚</p>
<p>é»˜è®¤æ–¹æ³•<strong>ä¸èƒ½</strong>è¢« lambda è¡¨è¾¾å¼è®¿é—®ã€‚ä¸‹é¢çš„ä»£ç ä¸èƒ½ç¼–è¯‘é€šè¿‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Formula</span> <span class="variable">formula</span> <span class="operator">=</span> (a) -&gt; sqrt(a * <span class="number">100</span>);</span><br></pre></td></tr></table></figure>

<h2 id="Built-in-Functional-Interfaces-å†…ç½®å‡½æ•°æ¥å£"><a href="#Built-in-Functional-Interfaces-å†…ç½®å‡½æ•°æ¥å£" class="headerlink" title="Built-in Functional Interfaces(å†…ç½®å‡½æ•°æ¥å£)"></a>Built-in Functional Interfaces(å†…ç½®å‡½æ•°æ¥å£)</h2><p>JDK 1.8 API åŒ…å«è®¸å¤šå†…ç½®çš„åŠŸèƒ½æ¥å£ã€‚å®ƒä»¬ä¸­çš„ä¸€äº›åœ¨è¾ƒæ—©çš„ Java ç‰ˆæœ¬ï¼ˆæ¯”å¦‚ <code>Comparator</code> æˆ– <code>Runnable</code>ï¼‰ä¸­æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚è¿™äº›ç°æœ‰çš„æ¥å£é€šè¿‡ <code>@FunctionalInterfaceannotation</code> æ³¨è§£è¢«æ‰©å±•ä¸ºæ”¯æŒ Lambdaã€‚</p>
<p>ä½†æ˜¯ï¼ŒJava 8 API ä¹Ÿæä¾›äº†ä¸å°‘æ–°çš„å‡½æ•°æ¥å£ã€‚å…¶ä¸­ä¸€äº›æ–°æ¥å£åœ¨ <a target="_blank" rel="noopener" href="https://code.google.com/p/guava-libraries/">Google Guava</a> åº“ä¸­æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚å³ä½¿æ‚¨ç†Ÿæ‚‰è¿™ä¸ªåº“ï¼Œä¹Ÿåº”è¯¥å¯†åˆ‡å…³æ³¨å¦‚ä½•é€šè¿‡ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•æ‰©å±•æ¥æ‰©å±•è¿™äº›æ¥å£ã€‚</p>
<h3 id="Predicates"><a href="#Predicates" class="headerlink" title="Predicates"></a>Predicates</h3><p><code>Predicate</code> æ˜¯åªæœ‰ä¸€ä¸ªå‚æ•°çš„å¸ƒå°”å€¼å‡½æ•°ã€‚è¯¥æ¥å£åŒ…å«å„ç§é»˜è®¤æ–¹æ³•ï¼Œç”¨äºå°†è°“è¯ç»„åˆæˆå¤æ‚çš„é€»è¾‘æœ¯è¯­ï¼ˆä¸ã€æˆ–ã€éï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Predicate&lt;String&gt; predicate = (s) -&gt; s.length() &gt; <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">predicate.test(<span class="string">&quot;foo&quot;</span>);              <span class="comment">// true</span></span><br><span class="line">predicate.negate().test(<span class="string">&quot;foo&quot;</span>);     <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">Predicate&lt;Boolean&gt; nonNull = Objects::nonNull;</span><br><span class="line">Predicate&lt;Boolean&gt; isNull = Objects::isNull;</span><br><span class="line"></span><br><span class="line">Predicate&lt;String&gt; isEmpty = String::isEmpty;</span><br><span class="line">Predicate&lt;String&gt; isNotEmpty = isEmpty.negate();</span><br></pre></td></tr></table></figure>

<h3 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h3><p><code>Function</code> æ¥å—ä¸€ä¸ªå‚æ•°å¹¶äº§ç”Ÿä¸€ä¸ªç»“æœã€‚å¯ä»¥ä½¿ç”¨é»˜è®¤æ–¹æ³•å°†å¤šä¸ªå‡½æ•°é“¾æ¥åœ¨ä¸€èµ·ï¼ˆcomposeã€andThenï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Function&lt;String, Integer&gt; toInteger = Integer::valueOf;</span><br><span class="line">Function&lt;String, String&gt; backToString = toInteger.andThen(String::valueOf);</span><br><span class="line"></span><br><span class="line">backToString.apply(<span class="string">&quot;123&quot;</span>);     <span class="comment">// &quot;123&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Suppliers"><a href="#Suppliers" class="headerlink" title="Suppliers"></a>Suppliers</h3><p><code>Supplier</code> äº§ç”Ÿä¸€ä¸ªæ³›å‹ç»“æœã€‚ä¸ <code>Function</code> ä¸åŒï¼Œ<code>Supplier</code> ä¸æ¥å—å‚æ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Supplier&lt;Person&gt; personSupplier = Person::<span class="keyword">new</span>;</span><br><span class="line">personSupplier.get();   <span class="comment">// new Person</span></span><br></pre></td></tr></table></figure>

<h3 id="Consumers"><a href="#Consumers" class="headerlink" title="Consumers"></a>Consumers</h3><p>Consumer è¡¨ç¤ºè¦åœ¨ä¸€ä¸ªè¾“å…¥å‚æ•°ä¸Šæ‰§è¡Œçš„æ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Consumer&lt;Person&gt; greeter = (p) -&gt; System.out.println(<span class="string">&quot;Hello, &quot;</span> + p.firstName);</span><br><span class="line">greeter.accept(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Luke&quot;</span>, <span class="string">&quot;Skywalker&quot;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="Comparators"><a href="#Comparators" class="headerlink" title="Comparators"></a>Comparators</h3><p>æ¯”è¾ƒå™¨åœ¨è€ç‰ˆæœ¬çš„ Java ä¸­æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚ Java 8 ä¸ºæ¥å£æ·»åŠ äº†å„ç§é»˜è®¤æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Comparator&lt;Person&gt; comparator = (p1, p2) -&gt; p1.firstName.compareTo(p2.firstName);</span><br><span class="line"></span><br><span class="line"><span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;John&quot;</span>, <span class="string">&quot;Doe&quot;</span>);</span><br><span class="line"><span class="type">Person</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Wonderland&quot;</span>);</span><br><span class="line"></span><br><span class="line">comparator.compare(p1, p2);             <span class="comment">// &gt; 0</span></span><br><span class="line">comparator.reversed().compare(p1, p2);  <span class="comment">// &lt; 0</span></span><br></pre></td></tr></table></figure>

<h2 id="Optionals"><a href="#Optionals" class="headerlink" title="Optionals"></a>Optionals</h2><p><code>Optional</code> ä¸æ˜¯åŠŸèƒ½æ€§æ¥å£ï¼Œè€Œæ˜¯é˜²æ­¢ <code>NullPointerException</code> çš„å¥½å·¥å…·ã€‚è¿™æ˜¯ä¸‹ä¸€èŠ‚çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å¿«é€Ÿçœ‹çœ‹ <code>Optional</code> æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p>
<p><code>Optional</code> æ˜¯ä¸€ä¸ªç®€å•çš„å®¹å™¨ï¼Œå…¶å€¼å¯ä»¥æ˜¯ null æˆ–é nullã€‚æƒ³æƒ³ä¸€ä¸ªå¯èƒ½è¿”å›ä¸€ä¸ªéç©ºç»“æœçš„æ–¹æ³•ï¼Œä½†æœ‰æ—¶å€™ä»€ä¹ˆéƒ½ä¸è¿”å›ã€‚ä¸æ˜¯è¿”å› nullï¼Œè€Œæ˜¯è¿”å› Java 8 ä¸­çš„ <code>Optional</code>ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;String&gt; optional = Optional.of(<span class="string">&quot;bam&quot;</span>);</span><br><span class="line"></span><br><span class="line">optional.isPresent();           <span class="comment">// true</span></span><br><span class="line">optional.get();                 <span class="comment">// &quot;bam&quot;</span></span><br><span class="line">optional.orElse(<span class="string">&quot;fallback&quot;</span>);    <span class="comment">// &quot;bam&quot;</span></span><br><span class="line"></span><br><span class="line">optional.ifPresent((s) -&gt; System.out.println(s.charAt(<span class="number">0</span>)));     <span class="comment">// &quot;b&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="Streams"><a href="#Streams" class="headerlink" title="Streams"></a>Streams</h2><p><code>java.util.Stream</code> è¡¨ç¤ºå¯ä»¥åœ¨å…¶ä¸Šæ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œçš„å…ƒç´ åºåˆ—ã€‚æµæ“ä½œæ˜¯ä¸­é—´æˆ–ç»ˆç«¯ã€‚å½“ç»ˆç«¯æ“ä½œè¿”å›ä¸€ä¸ªç‰¹å®šç±»å‹çš„ç»“æœæ—¶ï¼Œä¸­é—´æ“ä½œè¿”å›æµæœ¬èº«ï¼Œæ‰€ä»¥ä½ å¯ä»¥é“¾æ¥å¤šä¸ªæ–¹æ³•è°ƒç”¨ã€‚æµåœ¨æºä¸Šåˆ›å»ºï¼Œä¾‹å¦‚ä¸€ä¸ª <code>java.util.Collection</code> åƒåˆ—è¡¨æˆ–é›†åˆï¼ˆä¸æ”¯æŒæ˜ å°„ï¼‰ã€‚æµæ“ä½œæ—¢å¯ä»¥æŒ‰é¡ºåºæ‰§è¡Œï¼Œä¹Ÿå¯ä»¥å¹¶è¡Œæ‰§è¡Œã€‚</p>
<blockquote>
<p>æµæ˜¯éå¸¸å¼ºå¤§çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘å†™äº†ä¸€ä¸ªç‹¬ç«‹çš„ <a target="_blank" rel="noopener" href="http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/">Java8 Streams æ•™ç¨‹</a> ã€‚<strong>æ‚¨è¿˜åº”è¯¥æŸ¥çœ‹ Sequentï¼Œå°†å…¶ä½œä¸º Web çš„ç±»ä¼¼åº“ã€‚</strong></p>
</blockquote>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹é¡ºåºæµå¦‚ä½•å·¥ä½œã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä»¥å­—ç¬¦ä¸²åˆ—è¡¨çš„å½¢å¼åˆ›å»ºä¸€ä¸ªç¤ºä¾‹æºä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; stringCollection = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">stringCollection.add(<span class="string">&quot;ddd2&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;aaa2&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;bbb1&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;aaa1&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;bbb3&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;bbb2&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;ddd1&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Java 8 ä¸­çš„é›†åˆå·²è¢«æ‰©å±•ï¼Œå› æ­¤æ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨ <code>Collection.stream()</code> æˆ–<code>Collection.parallelStream()</code> æ¥ç®€å•åœ°åˆ›å»ºæµã€‚ä»¥ä¸‹å„èŠ‚ä»‹ç»æœ€å¸¸è§çš„æµæ“ä½œã€‚</p>
<h3 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h3><p>è¿‡æ»¤å™¨æ¥å—ä¸€ä¸ªè°“è¯æ¥è¿‡æ»¤æµçš„æ‰€æœ‰å…ƒç´ ã€‚è¿™ä¸ªæ“ä½œæ˜¯ä¸­é—´çš„ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿè°ƒç”¨å¦ä¸€ä¸ªæµæ“ä½œï¼ˆ<code>forEach</code>ï¼‰çš„ç»“æœã€‚ ForEach æ¥å—ä¸€ä¸ªæ¶ˆè´¹è€…è¢«æ‰§è¡Œçš„è¿‡æ»¤æµä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚ ForEach æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œã€‚å®ƒæ˜¯æ— æ•ˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½è°ƒç”¨å¦ä¸€ä¸ªæµæ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">stringCollection</span><br><span class="line">    .stream()</span><br><span class="line">    .filter((s) -&gt; s.startsWith(<span class="string">&quot;a&quot;</span>))</span><br><span class="line">    .forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;aaa2&quot;, &quot;aaa1&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Sorted"><a href="#Sorted" class="headerlink" title="Sorted"></a>Sorted</h3><p>æ’åºæ˜¯ä¸€ä¸ªä¸­é—´æ“ä½œï¼Œè¿”å›æµçš„æ’åºè§†å›¾ã€‚å…ƒç´ æŒ‰è‡ªç„¶é¡ºåºæ’åºï¼Œé™¤éæ‚¨ä¼ é€’è‡ªå®šä¹‰æ¯”è¾ƒå™¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">stringCollection</span><br><span class="line">    .stream()</span><br><span class="line">    .sorted()</span><br><span class="line">    .filter((s) -&gt; s.startsWith(<span class="string">&quot;a&quot;</span>))</span><br><span class="line">    .forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;aaa1&quot;, &quot;aaa2&quot;</span></span><br></pre></td></tr></table></figure>

<p>è¯·è®°ä½ï¼Œæ’åºåªä¼šåˆ›å»ºæµçš„æ’åºè§†å›¾ï¼Œè€Œä¸ä¼šæ“çºµæ”¯æŒçš„é›†åˆçš„æ’åºã€‚ <code>stringCollection</code> çš„æ’åºæ˜¯ä¸å˜çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(stringCollection);</span><br><span class="line"><span class="comment">// ddd2, aaa2, bbb1, aaa1, bbb3, ccc, bbb2, ddd1</span></span><br></pre></td></tr></table></figure>

<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p>ä¸­é—´æ“ä½œæ˜ å°„é€šè¿‡ç»™å®šå‡½æ•°å°†æ¯ä¸ªå…ƒç´ è½¬æ¢ä¸ºå¦ä¸€ä¸ªå¯¹è±¡ã€‚ä»¥ä¸‹ç¤ºä¾‹å°†æ¯ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™å­—æ¯å­—ç¬¦ä¸²ã€‚ä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>map</code> å°†æ¯ä¸ªå¯¹è±¡è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ã€‚ç»“æœæµçš„æ³›å‹ç±»å‹å–å†³äºæ‚¨ä¼ é€’ç»™ <code>map</code> çš„å‡½æ•°çš„æ³›å‹ç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">stringCollection</span><br><span class="line">    .stream()</span><br><span class="line">    .map(String::toUpperCase)</span><br><span class="line">    .sorted((a, b) -&gt; b.compareTo(a))</span><br><span class="line">    .forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;DDD2&quot;, &quot;DDD1&quot;, &quot;CCC&quot;, &quot;BBB3&quot;, &quot;BBB2&quot;, &quot;AAA2&quot;, &quot;AAA1&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Match"><a href="#Match" class="headerlink" title="Match"></a>Match</h3><p>å¯ä»¥ä½¿ç”¨å„ç§åŒ¹é…æ“ä½œæ¥æ£€æŸ¥æŸä¸ªè°“è¯æ˜¯å¦ä¸æµåŒ¹é…ã€‚æ‰€æœ‰è¿™äº›æ“ä½œéƒ½æ˜¯ç»ˆç«¯å¹¶è¿”å›å¸ƒå°”ç»“æœã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">anyStartsWithA</span> <span class="operator">=</span></span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .anyMatch((s) -&gt; s.startsWith(<span class="string">&quot;a&quot;</span>));</span><br><span class="line"></span><br><span class="line">System.out.println(anyStartsWithA);      <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="variable">allStartsWithA</span> <span class="operator">=</span></span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .allMatch((s) -&gt; s.startsWith(<span class="string">&quot;a&quot;</span>));</span><br><span class="line"></span><br><span class="line">System.out.println(allStartsWithA);      <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="variable">noneStartsWithZ</span> <span class="operator">=</span></span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .noneMatch((s) -&gt; s.startsWith(<span class="string">&quot;z&quot;</span>));</span><br><span class="line"></span><br><span class="line">System.out.println(noneStartsWithZ);      <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="Count"><a href="#Count" class="headerlink" title="Count"></a>Count</h4><p>Count æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œè¿”å›æµä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">startsWithB</span> <span class="operator">=</span></span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .filter((s) -&gt; s.startsWith(<span class="string">&quot;b&quot;</span>))</span><br><span class="line">        .count();</span><br><span class="line"></span><br><span class="line">System.out.println(startsWithB);    <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<h3 id="Reduce"><a href="#Reduce" class="headerlink" title="Reduce"></a>Reduce</h3><p>è¯¥ç»ˆç«¯æ“ä½œä½¿ç”¨ç»™å®šçš„åŠŸèƒ½å¯¹æµçš„å…ƒç´ è¿›è¡Œç¼©å‡ã€‚ç»“æœæ˜¯ä¸€ä¸ª <code>Optional</code> æŒæœ‰ç¼©å°åçš„å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;String&gt; reduced =</span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .sorted()</span><br><span class="line">        .reduce((s1, s2) -&gt; s1 + <span class="string">&quot;#&quot;</span> + s2);</span><br><span class="line"></span><br><span class="line">reduced.ifPresent(System.out::println);</span><br><span class="line"><span class="comment">// &quot;aaa1##aaa2##bbb1##bbb2##bbb3##ccc##ddd1##ddd2&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="Parallel-Streams"><a href="#Parallel-Streams" class="headerlink" title="Parallel Streams"></a>Parallel Streams</h2><p>å¦‚ä¸Šæ‰€è¿°ï¼Œæµå¯ä»¥æ˜¯é¡ºåºçš„ä¹Ÿå¯ä»¥æ˜¯å¹¶è¡Œçš„ã€‚é¡ºåºæµä¸Šçš„æ“ä½œåœ¨å•ä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œè€Œå¹¶è¡Œæµä¸Šçš„æ“ä½œåœ¨å¤šä¸ªçº¿ç¨‹ä¸ŠåŒæ—¶æ‰§è¡Œã€‚</p>
<p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†é€šè¿‡ä½¿ç”¨å¹¶è¡Œæµæé«˜æ€§èƒ½æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¾ƒå¤§çš„ç‹¬ç‰¹å…ƒç´ çš„åˆ—è¡¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">1000000</span>;</span><br><span class="line">List&lt;String&gt; values = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(max);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; max; i++) &#123;</span><br><span class="line">    <span class="type">UUID</span> <span class="variable">uuid</span> <span class="operator">=</span> UUID.randomUUID();</span><br><span class="line">    values.add(uuid.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬æµ‹é‡å¯¹è¿™ä¸ªé›†åˆè¿›è¡Œæ’åºæ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</p>
<h3 id="Sequential-Sort"><a href="#Sequential-Sort" class="headerlink" title="Sequential Sort"></a>Sequential Sort</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">t0</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> values.stream().sorted().count();</span><br><span class="line">System.out.println(count);</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">t1</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">millis</span> <span class="operator">=</span> TimeUnit.NANOSECONDS.toMillis(t1 - t0);</span><br><span class="line">System.out.println(String.format(<span class="string">&quot;sequential sort took: %d ms&quot;</span>, millis));</span><br><span class="line"></span><br><span class="line"><span class="comment">// sequential sort took: 899 ms</span></span><br></pre></td></tr></table></figure>

<h3 id="Parallel-Sort"><a href="#Parallel-Sort" class="headerlink" title="Parallel Sort"></a>Parallel Sort</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">t0</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> values.parallelStream().sorted().count();</span><br><span class="line">System.out.println(count);</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">t1</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">millis</span> <span class="operator">=</span> TimeUnit.NANOSECONDS.toMillis(t1 - t0);</span><br><span class="line">System.out.println(String.format(<span class="string">&quot;parallel sort took: %d ms&quot;</span>, millis));</span><br><span class="line"></span><br><span class="line"><span class="comment">// parallel sort took: 472 ms</span></span><br></pre></td></tr></table></figure>

<p>å¦‚ä½ æ‰€è§ï¼Œä¸¤ä¸ªä»£ç æ®µå·®ä¸å¤šï¼Œä½†æ˜¯å¹¶è¡Œæ’åºå¿«äº†è¿‘ 50%ã€‚ä½ æ‰€éœ€åšçš„ä»…ä»…æ˜¯å°† <code>stream()</code> æ”¹ä¸º <code>parallelStream()</code> ã€‚</p>
<h2 id="Maps"><a href="#Maps" class="headerlink" title="Maps"></a>Maps</h2><p>å¦‚å‰æ‰€è¿°ï¼Œmap ä¸ç›´æ¥æ”¯æŒæµã€‚Map æ¥å£æœ¬èº«æ²¡æœ‰å¯ç”¨çš„ <code>stream()</code> æ–¹æ³•ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡ <code>map.keySet().stream()</code> ã€ <code>map.values().stream()</code> å’Œ <code>map.entrySet().stream()</code> åˆ›å»ºæŒ‡å®šçš„æµã€‚</p>
<p>æ­¤å¤–ï¼Œmap æ”¯æŒå„ç§æ–°çš„ã€æœ‰ç”¨çš„æ–¹æ³•æ¥å¤„ç†å¸¸è§ä»»åŠ¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    map.putIfAbsent(i, <span class="string">&quot;val&quot;</span> + i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">map.forEach((id, val) -&gt; System.out.println(val));</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç åº”è¯¥æ˜¯è‡ªæˆ‘è§£é‡Šçš„ï¼š<code>putIfAbsent</code> é˜»æ­¢æˆ‘ä»¬å†™å…¥é¢å¤–çš„ç©ºå€¼æ£€æŸ¥ï¼›<code>forEach</code> æ¥å—æ¶ˆè´¹è€…ä¸º map çš„æ¯ä¸ªå€¼å®ç°æ“ä½œã€‚</p>
<p>è¿™ä¸ªä¾‹å­å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨å‡½æ•°æ¥è®¡ç®— map ä¸Šçš„ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">map.computeIfPresent(<span class="number">3</span>, (num, val) -&gt; val + num);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// val33</span></span><br><span class="line"></span><br><span class="line">map.computeIfPresent(<span class="number">9</span>, (num, val) -&gt; <span class="literal">null</span>);</span><br><span class="line">map.containsKey(<span class="number">9</span>);     <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">map.computeIfAbsent(<span class="number">23</span>, num -&gt; <span class="string">&quot;val&quot;</span> + num);</span><br><span class="line">map.containsKey(<span class="number">23</span>);    <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">map.computeIfAbsent(<span class="number">3</span>, num -&gt; <span class="string">&quot;bam&quot;</span>);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// val33</span></span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ å¦‚ä½•åˆ é™¤ç»™å®šé”®çš„æ¡ç›®ï¼Œåªæœ‰å½“å‰é”®æ˜ å°„åˆ°ç»™å®šå€¼æ—¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">map.remove(<span class="number">3</span>, <span class="string">&quot;val3&quot;</span>);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// val33</span></span><br><span class="line"></span><br><span class="line">map.remove(<span class="number">3</span>, <span class="string">&quot;val33&quot;</span>);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// null</span></span><br></pre></td></tr></table></figure>

<p>å¦ä¸€ä¸ªæœ‰ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map.getOrDefault(<span class="number">42</span>, <span class="string">&quot;not found&quot;</span>);  <span class="comment">// not found</span></span><br></pre></td></tr></table></figure>

<p>åˆå¹¶ä¸€ä¸ª map çš„ entry å¾ˆç®€å•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">map.merge(<span class="number">9</span>, <span class="string">&quot;val9&quot;</span>, (value, newValue) -&gt; value.concat(newValue));</span><br><span class="line">map.get(<span class="number">9</span>);             <span class="comment">// val9</span></span><br><span class="line"></span><br><span class="line">map.merge(<span class="number">9</span>, <span class="string">&quot;concat&quot;</span>, (value, newValue) -&gt; value.concat(newValue));</span><br><span class="line">map.get(<span class="number">9</span>);             <span class="comment">// val9concat</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸å­˜åœ¨è¯¥é”®çš„æ¡ç›®ï¼Œåˆå¹¶æˆ–è€…å°†é”®&#x2F;å€¼æ”¾å…¥ map ä¸­ï¼›å¦åˆ™å°†è°ƒç”¨åˆå¹¶å‡½æ•°æ¥æ›´æ”¹ç°æœ‰å€¼ã€‚</p>
<h2 id="Date-API"><a href="#Date-API" class="headerlink" title="Date API"></a>Date API</h2><p>Java 8 åœ¨ <code>java.time</code> åŒ…ä¸‹æ–°å¢äº†ä¸€ä¸ªå…¨æ–°çš„æ—¥æœŸå’Œæ—¶é—´ APIã€‚æ–°çš„æ—¥æœŸ API ä¸ <a target="_blank" rel="noopener" href="http://www.joda.org/joda-time/">Joda-Time</a> åº“ç›¸ä¼¼ï¼Œä½†ä¸ä¸€æ ·ã€‚ä»¥ä¸‹ç¤ºä¾‹æ¶µç›–äº†æ­¤æ–° API çš„æœ€é‡è¦éƒ¨åˆ†ã€‚</p>
<h3 id="Clock"><a href="#Clock" class="headerlink" title="Clock"></a>Clock</h3><p><code>Clock</code> æä¾›å¯¹å½“å‰æ—¥æœŸå’Œæ—¶é—´çš„è®¿é—®ã€‚<code>Clock</code> çŸ¥é“ä¸€ä¸ªæ—¶åŒºï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥ä»£æ›¿ <code>System.currentTimeMillis()</code> ï¼Œè·å–ä» <strong>Unix EPOCH</strong> å¼€å§‹çš„ä»¥æ¯«ç§’ä¸ºå•ä½çš„å½“å‰æ—¶é—´ã€‚æ—¶é—´çº¿ä¸Šçš„æŸä¸€æ—¶åˆ»ä¹Ÿç”±ç±» <code>Instant</code> è¡¨ç¤ºã€‚ Instants å¯ä»¥ç”¨æ¥åˆ›å»ºé—ç•™çš„ <code>java.util.Date</code> å¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Clock</span> <span class="variable">clock</span> <span class="operator">=</span> Clock.systemDefaultZone();</span><br><span class="line"><span class="type">long</span> <span class="variable">millis</span> <span class="operator">=</span> clock.millis();</span><br><span class="line"></span><br><span class="line"><span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> clock.instant();</span><br><span class="line"><span class="type">Date</span> <span class="variable">legacyDate</span> <span class="operator">=</span> Date.from(instant);   <span class="comment">// legacy java.util.Date</span></span><br></pre></td></tr></table></figure>

<h3 id="Timezones"><a href="#Timezones" class="headerlink" title="Timezones"></a>Timezones</h3><p>æ—¶åŒºç”± <code>ZoneId</code> è¡¨ç¤ºã€‚ä»–ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°é€šè¿‡é™æ€å·¥å‚æ–¹æ³•è®¿é—®ã€‚æ—¶åŒºå®šä¹‰äº†æŸä¸€æ—¶åˆ»å’Œå½“åœ°æ—¥æœŸã€æ—¶é—´ä¹‹é—´è½¬æ¢çš„é‡è¦åç§»é‡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(ZoneId.getAvailableZoneIds());</span><br><span class="line"><span class="comment">// prints all available timezone ids</span></span><br><span class="line"></span><br><span class="line"><span class="type">ZoneId</span> <span class="variable">zone1</span> <span class="operator">=</span> ZoneId.of(<span class="string">&quot;Europe/Berlin&quot;</span>);</span><br><span class="line"><span class="type">ZoneId</span> <span class="variable">zone2</span> <span class="operator">=</span> ZoneId.of(<span class="string">&quot;Brazil/East&quot;</span>);</span><br><span class="line">System.out.println(zone1.getRules());</span><br><span class="line">System.out.println(zone2.getRules());</span><br><span class="line"></span><br><span class="line"><span class="comment">// ZoneRules[currentStandardOffset=+01:00]</span></span><br><span class="line"><span class="comment">// ZoneRules[currentStandardOffset=-03:00]</span></span><br></pre></td></tr></table></figure>

<h3 id="LocalTime"><a href="#LocalTime" class="headerlink" title="LocalTime"></a>LocalTime</h3><p><code>LocalTime</code> ä»£è¡¨æ²¡æœ‰æ—¶åŒºçš„æ—¶é—´ï¼Œä¾‹å¦‚æ™šä¸Š 10 ç‚¹æˆ– 17:30:15ã€‚ä»¥ä¸‹ç¤ºä¾‹ä¸ºä¸Šé¢å®šä¹‰çš„æ—¶åŒºåˆ›å»ºä¸¤ä¸ªæœ¬åœ°æ—¶é—´ã€‚ç„¶åæˆ‘ä»¬æ¯”è¾ƒä¸¤æ¬¡ï¼Œå¹¶è®¡ç®—ä¸¤æ¬¡ä¹‹é—´çš„å°æ—¶å’Œåˆ†é’Ÿçš„å·®å¼‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LocalTime</span> <span class="variable">now1</span> <span class="operator">=</span> LocalTime.now(zone1);</span><br><span class="line"><span class="type">LocalTime</span> <span class="variable">now2</span> <span class="operator">=</span> LocalTime.now(zone2);</span><br><span class="line"></span><br><span class="line">System.out.println(now1.isBefore(now2));  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">hoursBetween</span> <span class="operator">=</span> ChronoUnit.HOURS.between(now1, now2);</span><br><span class="line"><span class="type">long</span> <span class="variable">minutesBetween</span> <span class="operator">=</span> ChronoUnit.MINUTES.between(now1, now2);</span><br><span class="line"></span><br><span class="line">System.out.println(hoursBetween);       <span class="comment">// -3</span></span><br><span class="line">System.out.println(minutesBetween);     <span class="comment">// -239</span></span><br></pre></td></tr></table></figure>

<p><code>LocalTime</code> å¸¦æœ‰å„ç§å·¥å‚æ–¹æ³•ï¼Œä»¥ç®€åŒ–æ–°å®ä¾‹çš„åˆ›å»ºï¼ŒåŒ…æ‹¬è§£ææ—¶é—´å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LocalTime</span> <span class="variable">late</span> <span class="operator">=</span> LocalTime.of(<span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>);</span><br><span class="line">System.out.println(late);       <span class="comment">// 23:59:59</span></span><br><span class="line"></span><br><span class="line"><span class="type">DateTimeFormatter</span> <span class="variable">germanFormatter</span> <span class="operator">=</span></span><br><span class="line">    DateTimeFormatter</span><br><span class="line">        .ofLocalizedTime(FormatStyle.SHORT)</span><br><span class="line">        .withLocale(Locale.GERMAN);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalTime</span> <span class="variable">leetTime</span> <span class="operator">=</span> LocalTime.parse(<span class="string">&quot;13:37&quot;</span>, germanFormatter);</span><br><span class="line">System.out.println(leetTime);   <span class="comment">// 13:37</span></span><br></pre></td></tr></table></figure>

<h3 id="LocalDate"><a href="#LocalDate" class="headerlink" title="LocalDate"></a>LocalDate</h3><p><code>LocalDate</code> è¡¨ç¤ºä¸åŒçš„æ—¥æœŸï¼Œä¾‹å¦‚ï¼š2014 å¹´ 3 æœˆ 11 æ—¥ã€‚å®ƒæ˜¯ä¸å¯å˜çš„ï¼Œå¹¶ä¸”ä¸ <code>LocalTime</code> å®Œå…¨ç±»ä¼¼ã€‚è¯¥ç¤ºä¾‹æ¼”ç¤ºå¦‚ä½•é€šè¿‡åŠ å‡æ—¥ã€æœˆæˆ–å¹´æ¥è®¡ç®—æ–°æ—¥æœŸã€‚è¯·è®°ä½ï¼Œæ¯ä¸ªæ“ä½œéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LocalDate</span> <span class="variable">today</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">tomorrow</span> <span class="operator">=</span> today.plus(<span class="number">1</span>, ChronoUnit.DAYS);</span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">yesterday</span> <span class="operator">=</span> tomorrow.minusDays(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">independenceDay</span> <span class="operator">=</span> LocalDate.of(<span class="number">2014</span>, Month.JULY, <span class="number">4</span>);</span><br><span class="line"><span class="type">DayOfWeek</span> <span class="variable">dayOfWeek</span> <span class="operator">=</span> independenceDay.getDayOfWeek();</span><br><span class="line">System.out.println(dayOfWeek);    <span class="comment">// FRIDAY</span></span><br></pre></td></tr></table></figure>

<p>ä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è§£æå‡º LocalDate å¯¹è±¡ï¼Œå’Œè§£æ LocalTime ä¸€æ ·çš„ç®€å•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DateTimeFormatter</span> <span class="variable">germanFormatter</span> <span class="operator">=</span></span><br><span class="line">    DateTimeFormatter</span><br><span class="line">        .ofLocalizedDate(FormatStyle.MEDIUM)</span><br><span class="line">        .withLocale(Locale.GERMAN);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">xmas</span> <span class="operator">=</span> LocalDate.parse(<span class="string">&quot;24.12.2014&quot;</span>, germanFormatter);</span><br><span class="line">System.out.println(xmas);   <span class="comment">// 2014-12-24</span></span><br></pre></td></tr></table></figure>

<h3 id="LocalDateTime"><a href="#LocalDateTime" class="headerlink" title="LocalDateTime"></a>LocalDateTime</h3><p>LocalDateTime è¡¨ç¤ºæ—¥æœŸæ—¶é—´ã€‚å®ƒå°†æ—¥æœŸå’Œæ—¶é—´ç»„åˆæˆä¸€ä¸ªå®ä¾‹ã€‚ <code>LocalDateTime</code> æ˜¯ä¸å¯å˜çš„ï¼Œå…¶ä½œç”¨ç±»ä¼¼äº <code>LocalTime</code> å’Œ <code>LocalDate</code>ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ–¹æ³•å»è·å–æ—¥æœŸæ—¶é—´ä¸­æŸä¸ªå•ä½çš„å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LocalDateTime</span> <span class="variable">sylvester</span> <span class="operator">=</span> LocalDateTime.of(<span class="number">2014</span>, Month.DECEMBER, <span class="number">31</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">DayOfWeek</span> <span class="variable">dayOfWeek</span> <span class="operator">=</span> sylvester.getDayOfWeek();</span><br><span class="line">System.out.println(dayOfWeek);      <span class="comment">// WEDNESDAY</span></span><br><span class="line"></span><br><span class="line"><span class="type">Month</span> <span class="variable">month</span> <span class="operator">=</span> sylvester.getMonth();</span><br><span class="line">System.out.println(month);          <span class="comment">// DECEMBER</span></span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">minuteOfDay</span> <span class="operator">=</span> sylvester.getLong(ChronoField.MINUTE_OF_DAY);</span><br><span class="line">System.out.println(minuteOfDay);    <span class="comment">// 1439</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸€ä¸ªæ—¶åŒºçš„é™„åŠ ä¿¡æ¯å¯ä»¥è½¬ä¸ºä¸€ä¸ªå®ä¾‹ã€‚è¿™ä¸ªå®ä¾‹å¾ˆå®¹æ˜“è½¬ä¸º<code>java.util.Date</code> ç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> sylvester</span><br><span class="line">        .atZone(ZoneId.systemDefault())</span><br><span class="line">        .toInstant();</span><br><span class="line"></span><br><span class="line"><span class="type">Date</span> <span class="variable">legacyDate</span> <span class="operator">=</span> Date.from(instant);</span><br><span class="line">System.out.println(legacyDate);     <span class="comment">// Wed Dec 31 23:59:59 CET 2014</span></span><br></pre></td></tr></table></figure>

<p>æ—¥æœŸæ—¶é—´çš„æ ¼å¼åŒ–ç±»ä¼¼äº Date æˆ– Timeã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å¼åˆ›å»ºæ ¼å¼åŒ–ç¨‹åºï¼Œè€Œä¸æ˜¯ä½¿ç”¨é¢„å®šä¹‰çš„æ ¼å¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DateTimeFormatter</span> <span class="variable">formatter</span> <span class="operator">=</span></span><br><span class="line">    DateTimeFormatter</span><br><span class="line">        .ofPattern(<span class="string">&quot;MMM dd, yyyy - HH:mm&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalDateTime</span> <span class="variable">parsed</span> <span class="operator">=</span> LocalDateTime.parse(<span class="string">&quot;Nov 03, 2014 - 07:13&quot;</span>, formatter);</span><br><span class="line"><span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> formatter.format(parsed);</span><br><span class="line">System.out.println(string);     <span class="comment">// Nov 03, 2014 - 07:13</span></span><br></pre></td></tr></table></figure>

<p>ä¸åŒäº <code>java.text.NumberFormat</code> ï¼Œ <code>DateTimeFormatter</code> æ˜¯ä¸å¯å˜ä¸”<strong>çº¿ç¨‹å®‰å…¨çš„</strong> ã€‚</p>
<p>æ›´å¤šå…³äºæ—¥æœŸæ ¼å¼åŒ–çš„å†…å®¹å¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">è¿™é‡Œ</a>.</p>
<h2 id="Annotations"><a href="#Annotations" class="headerlink" title="Annotations"></a>Annotations</h2><p>Java 8 ä¸­çš„æ³¨é‡Šæ˜¯å¯é‡å¤çš„ã€‚è®©æˆ‘ä»¬ç›´æ¥çœ‹ä¸€ä¸ªä¾‹å­æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåŒ…å«å®é™…æ³¨é‡Šæ•°ç»„çš„å¤–å±‚æ³¨é‡Šï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@interface</span> Hints &#123;</span><br><span class="line">    Hint[] value();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repeatable(Hints.class)</span></span><br><span class="line"><span class="meta">@interface</span> Hint &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Java8 å…è®¸æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ <code>@Repeatable</code> æ³¨è§£æ¥å¼•å…¥å¤šä¸ªåŒç±»å‹çš„æ³¨è§£ã€‚</p>
<h3 id="Variant-1-ä½¿ç”¨å®¹å™¨æ³¨è§£-è€å¥—è·¯"><a href="#Variant-1-ä½¿ç”¨å®¹å™¨æ³¨è§£-è€å¥—è·¯" class="headerlink" title="Variant 1: ä½¿ç”¨å®¹å™¨æ³¨è§£ (è€å¥—è·¯)"></a>Variant 1: ä½¿ç”¨å®¹å™¨æ³¨è§£ (è€å¥—è·¯)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Hints(&#123;@Hint(&quot;hint1&quot;), @Hint(&quot;hint2&quot;)&#125;)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Variant-2-ä½¿ç”¨-repeatable-æ³¨è§£-æ–°å¥—è·¯"><a href="#Variant-2-ä½¿ç”¨-repeatable-æ³¨è§£-æ–°å¥—è·¯" class="headerlink" title="Variant 2: ä½¿ç”¨ repeatable æ³¨è§£ (æ–°å¥—è·¯)"></a>Variant 2: ä½¿ç”¨ repeatable æ³¨è§£ (æ–°å¥—è·¯)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Hint(&quot;hint1&quot;)</span></span><br><span class="line"><span class="meta">@Hint(&quot;hint2&quot;)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åœºæ™¯ 2ï¼ŒJava ç¼–è¯‘å™¨éšå¼åœ°è®¾ç½®äº† <code>@Hints</code> æ³¨è§£ã€‚</p>
<p>è¿™å¯¹äºé€šè¿‡åå°„æ¥è¯»å–æ³¨è§£ä¿¡æ¯å¾ˆé‡è¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Hint</span> <span class="variable">hint</span> <span class="operator">=</span> Person.class.getAnnotation(Hint.class);</span><br><span class="line">System.out.println(hint);                   <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line"><span class="type">Hints</span> <span class="variable">hints1</span> <span class="operator">=</span> Person.class.getAnnotation(Hints.class);</span><br><span class="line">System.out.println(hints1.value().length);  <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">Hint[] hints2 = Person.class.getAnnotationsByType(Hint.class);</span><br><span class="line">System.out.println(hints2.length);          <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>å°½ç®¡ï¼Œæˆ‘ä»¬ä»æ²¡æœ‰åœ¨ Person ç±»ä¸Šå£°æ˜ <code>@Hints</code> æ³¨è§£ï¼Œä½†æ˜¯ä»å¯ä»¥é€šè¿‡<code>getAnnotation(Hints.class)</code> è¯»å–å®ƒã€‚ç„¶è€Œï¼Œæ›´ä¾¿åˆ©çš„æ–¹å¼æ˜¯ <code>getAnnotationsByType</code> ï¼Œå®ƒå¯ä»¥ç›´æ¥è®¿é—®æ‰€æœ‰ <code>@Hint</code> æ³¨è§£ã€‚</p>
<p>æ­¤å¤–ï¼ŒJava 8 ä¸­çš„æ³¨é‡Šä½¿ç”¨æ‰©å±•äº†ä¸¤ä¸ªæ–°çš„ç›®æ ‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE_PARAMETER, ElementType.TYPE_USE&#125;)</span></span><br><span class="line"><span class="meta">@interface</span> MyAnnotation &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>æ°´å¹³çº¿ä»¥ä¸Šä¸º <a target="_blank" rel="noopener" href="https://github.com/winterbe/java8-tutorial">java8-tutorial</a> ç¿»è¯‘å†…å®¹ã€‚</p>
<hr>
<h2 id="JDK8-å‡çº§å¸¸è§é—®é¢˜"><a href="#JDK8-å‡çº§å¸¸è§é—®é¢˜" class="headerlink" title="JDK8 å‡çº§å¸¸è§é—®é¢˜"></a>JDK8 å‡çº§å¸¸è§é—®é¢˜</h2><blockquote>
<p>JDK8 å‘å¸ƒå¾ˆä¹…äº†ï¼Œå®ƒæä¾›äº†è®¸å¤šå¸å¼•äººçš„æ–°ç‰¹æ€§ï¼Œèƒ½å¤Ÿæé«˜ç¼–ç¨‹æ•ˆç‡ã€‚</p>
<p>å¦‚æœæ˜¯æ–°çš„é¡¹ç›®ï¼Œä½¿ç”¨ JDK8 å½“ç„¶æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä½†æ˜¯ï¼Œå¯¹äºä¸€äº›è€çš„é¡¹ç›®ï¼Œå‡çº§åˆ° JDK8 åˆ™å­˜åœ¨ä¸€äº›å…¼å®¹æ€§é—®é¢˜ï¼Œæ˜¯å¦å‡çº§éœ€è¦é…Œæƒ…è€ƒè™‘ã€‚</p>
<p>è¿‘æœŸï¼Œæˆ‘åœ¨å·¥ä½œä¸­é‡åˆ°ä¸€ä¸ªä»»åŠ¡ï¼Œå°†éƒ¨é—¨æ‰€æœ‰é¡¹ç›®çš„ JDK ç‰ˆæœ¬å‡çº§åˆ° 1.8 ï¼ˆè€ç‰ˆæœ¬å¤§å¤šæ˜¯ 1.6ï¼‰ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä¸€äº›é—®é¢˜ç‚¹ï¼Œå¹¶ç»“åˆåœ¨ç½‘ä¸Šçœ‹åˆ°çš„å‘ï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹ã€‚</p>
</blockquote>
<h3 id="Intellij-ä¸­çš„-JDK-ç¯å¢ƒè®¾ç½®"><a href="#Intellij-ä¸­çš„-JDK-ç¯å¢ƒè®¾ç½®" class="headerlink" title="Intellij ä¸­çš„ JDK ç¯å¢ƒè®¾ç½®"></a>Intellij ä¸­çš„ JDK ç¯å¢ƒè®¾ç½®</h3><h4 id="Settings"><a href="#Settings" class="headerlink" title="Settings"></a>Settings</h4><p>ç‚¹å‡» <strong>File &gt; Settings &gt; Java Compiler</strong></p>
<p>Project bytecode version é€‰æ‹© 1.8</p>
<p>ç‚¹å‡» <strong>File &gt; Settings &gt; Build Tools &gt; Maven &gt; Importing</strong></p>
<p>é€‰æ‹© JDK for importer ä¸º 1.8</p>
<h4 id="Projcet-Settings"><a href="#Projcet-Settings" class="headerlink" title="Projcet Settings"></a>Projcet Settings</h4><p><strong>Project SDK</strong> é€‰æ‹© 1.8</p>
<h4 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h4><p>å¦‚æœ web åº”ç”¨çš„å¯åŠ¨æ–¹å¼ä¸º Application ï¼Œéœ€è¦ä¿®æ”¹ JRE</p>
<p>ç‚¹å‡» <strong>Run&#x2F;Debug Configurations &gt; Configuration</strong></p>
<p>é€‰æ‹© JRE ä¸º 1.8</p>
<h3 id="Linux-ç¯å¢ƒä¿®æ”¹"><a href="#Linux-ç¯å¢ƒä¿®æ”¹" class="headerlink" title="Linux ç¯å¢ƒä¿®æ”¹"></a>Linux ç¯å¢ƒä¿®æ”¹</h3><h4 id="ä¿®æ”¹ç¯å¢ƒå˜é‡"><a href="#ä¿®æ”¹ç¯å¢ƒå˜é‡" class="headerlink" title="ä¿®æ”¹ç¯å¢ƒå˜é‡"></a>ä¿®æ”¹ç¯å¢ƒå˜é‡</h4><p>ä¿®æ”¹ <code>/etc/profile</code> ä¸­çš„ <strong>JAVA_HOME</strong>ï¼Œè®¾ç½® ä¸º jdk8 æ‰€åœ¨è·¯å¾„ã€‚</p>
<p>ä¿®æ”¹åï¼Œæ‰§è¡Œ <code>source /etc/profile</code> ç”Ÿæ•ˆã€‚</p>
<p>ç¼–è¯‘ã€å‘å¸ƒè„šæœ¬ä¸­å¦‚æœæœ‰ <code>export JAVA_HOME</code> ï¼Œéœ€è¦æ³¨æ„ï¼Œéœ€è¦ä½¿ç”¨ jdk8 çš„è·¯å¾„ã€‚</p>
<h4 id="ä¿®æ”¹-maven"><a href="#ä¿®æ”¹-maven" class="headerlink" title="ä¿®æ”¹ maven"></a>ä¿®æ”¹ maven</h4><p>settings.xml ä¸­ profile çš„æ¿€æ´»æ¡ä»¶å¦‚æœæ˜¯ jdkï¼Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹ jdk ç‰ˆæœ¬</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span> <span class="comment">&lt;!-- ä¿®æ”¹ä¸º 1.8 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="ä¿®æ”¹-server"><a href="#ä¿®æ”¹-server" class="headerlink" title="ä¿®æ”¹ server"></a>ä¿®æ”¹ server</h4><p>ä¿®æ”¹ server ä¸­çš„ javac ç‰ˆæœ¬ï¼Œä»¥ resin ä¸ºä¾‹ï¼š</p>
<p>ä¿®æ”¹ resin é…ç½®æ–‡ä»¶ä¸­çš„ javac å‚æ•°ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">javac</span> <span class="attr">compiler</span>=<span class="string">&quot;internal&quot;</span> <span class="attr">args</span>=<span class="string">&quot;-source 1.8&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="sun-åŒ…ç¼ºå¤±é—®é¢˜"><a href="#sun-åŒ…ç¼ºå¤±é—®é¢˜" class="headerlink" title="sun.* åŒ…ç¼ºå¤±é—®é¢˜"></a>sun.* åŒ…ç¼ºå¤±é—®é¢˜</h3><p>JDK8 ä¸å†æä¾› <code>sun.*</code> åŒ…ä¾›å¼€å‘è€…ä½¿ç”¨ï¼Œå› ä¸ºè¿™äº›æ¥å£ä¸æ˜¯å…¬å…±æ¥å£ï¼Œä¸èƒ½ä¿è¯åœ¨æ‰€æœ‰ Java å…¼å®¹çš„å¹³å°ä¸Šå·¥ä½œã€‚</p>
<p>ä½¿ç”¨äº†è¿™äº› API çš„ç¨‹åºå¦‚æœè¦å‡çº§åˆ° JDK 1.8 éœ€è¦å¯»æ±‚æ›¿ä»£æ–¹æ¡ˆã€‚</p>
<p>è™½ç„¶ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å¯¼å…¥åŒ…å« <code>sun.*</code> æ¥å£ jar åŒ…åˆ° classpath ç›®å½•ï¼Œä½†è¿™ä¸æ˜¯ä¸€ä¸ªå¥½çš„åšæ³•ã€‚</p>
<p>éœ€è¦è¯¦ç»†äº†è§£ä¸ºä»€ä¹ˆä¸è¦ä½¿ç”¨ <code>sun.*</code> ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html">Why Developers Should Not Write Programs That Call â€˜sunâ€™ Packages</a></p>
<h3 id="é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹"><a href="#é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹" class="headerlink" title="é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹"></a>é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹</h3><p>å‡çº§åä¼°è®¡æœ‰äº›å°ä¼™ä¼´åœ¨ä½¿ç”¨ä¸å®‰å…¨ç®—æ³•æ—¶å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œsoï¼Œæ”¯æŒä¸å®‰å…¨ç®—æ³•è¿˜æ˜¯æœ‰å¿…è¦çš„</p>
<p>æ‰¾åˆ°$JAVA_HOME ä¸‹ <code>jre/lib/security/java.security</code> ï¼Œå°†ç¦ç”¨çš„ç®—æ³•è®¾ç½®ä¸ºç©ºï¼š<code>jdk.certpath.disabledAlgorithms=</code> ã€‚</p>
<h3 id="JVM-å‚æ•°è°ƒæ•´"><a href="#JVM-å‚æ•°è°ƒæ•´" class="headerlink" title="JVM å‚æ•°è°ƒæ•´"></a>JVM å‚æ•°è°ƒæ•´</h3><p>åœ¨ jdk8 ä¸­ï¼ŒPermSize ç›¸å…³çš„å‚æ•°å·²ç»ä¸è¢«ä½¿ç”¨ï¼š</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-XX:MaxPermSize=size</span><br><span class="line"></span><br><span class="line">Sets <span class="keyword">the</span> maximum permanent generation <span class="literal">space</span> size (<span class="keyword">in</span> <span class="keyword">bytes</span>). This option was deprecated <span class="keyword">in</span> JDK <span class="number">8</span>, <span class="keyword">and</span> superseded <span class="keyword">by</span> <span class="keyword">the</span> -XX:MaxMetaspaceSize option.</span><br><span class="line"></span><br><span class="line">-XX:PermSize=size</span><br><span class="line"></span><br><span class="line">Sets <span class="keyword">the</span> <span class="literal">space</span> (<span class="keyword">in</span> <span class="keyword">bytes</span>) allocated <span class="built_in">to</span> <span class="keyword">the</span> permanent generation that triggers <span class="keyword">a</span> garbage collection <span class="keyword">if</span> <span class="keyword">it</span> is exceeded. This option was deprecated un JDK <span class="number">8</span>, <span class="keyword">and</span> superseded <span class="keyword">by</span> <span class="keyword">the</span> -XX:MetaspaceSize option.</span><br></pre></td></tr></table></figure>

<p>JDK8 ä¸­å†ä¹Ÿæ²¡æœ‰ <code>PermGen</code> äº†ã€‚å…¶ä¸­çš„æŸäº›éƒ¨åˆ†ï¼Œå¦‚è¢« intern çš„å­—ç¬¦ä¸²ï¼Œåœ¨ JDK7 ä¸­å·²ç»ç§»åˆ°äº†æ™®é€šå †é‡Œã€‚<strong>å…¶ä½™ç»“æ„åœ¨ JDK8 ä¸­ä¼šè¢«ç§»åˆ°ç§°ä½œâ€œMetaspaceâ€çš„æœ¬æœºå†…å­˜åŒºä¸­ï¼Œè¯¥åŒºåŸŸåœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨ç”Ÿé•¿ï¼Œä¹Ÿä¼šè¢«åƒåœ¾å›æ”¶ã€‚å®ƒæœ‰ä¸¤ä¸ªæ ‡è®°ï¼šMetaspaceSize å’Œ MaxMetaspaceSizeã€‚</strong></p>
<p>-XX:MetaspaceSize&#x3D;size</p>
<blockquote>
<p>Sets the size of the allocated class metadata space that will trigger a garbage collection the first time it is exceeded. This threshold for a garbage collection is increased or decreased depending on the amount of metadata used. The default size depends on the platform.</p>
</blockquote>
<p>-XX:MaxMetaspaceSize&#x3D;size</p>
<blockquote>
<p>Sets the maximum amount of native memory that can be allocated for class metadata. By default, the size is not limited. The amount of metadata for an application depends on the application itself, other running applications, and the amount of memory available on the system.</p>
</blockquote>
<p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•å°†ç±»ç±»å…ƒæ•°æ®çš„ä¸Šé™è®¾ç½®ä¸º 256 MBï¼š</p>
<p>XX:MaxMetaspaceSize&#x3D;256m</p>
<h3 id="å­—èŠ‚ç é—®é¢˜"><a href="#å­—èŠ‚ç é—®é¢˜" class="headerlink" title="å­—èŠ‚ç é—®é¢˜"></a>å­—èŠ‚ç é—®é¢˜</h3><p>ASM 5.0 beta å¼€å§‹æ”¯æŒ JDK8</p>
<p><strong>å­—èŠ‚ç é”™è¯¯</strong></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java<span class="selector-class">.io</span><span class="selector-class">.IOException</span>: invalid constant type: <span class="number">15</span></span><br><span class="line">	at javassist<span class="selector-class">.bytecode</span><span class="selector-class">.ConstPool</span><span class="selector-class">.readOne</span>(ConstPool<span class="selector-class">.java</span>:<span class="number">1113</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥æ‰¾ç»„ä»¶ç”¨åˆ°äº† mvelï¼Œmvel ä¸ºäº†æé«˜æ•ˆç‡è¿›è¡Œäº†å­—èŠ‚ç ä¼˜åŒ–ï¼Œæ­£å¥½ç¢°ä¸Š JDK8 æ­»ç©´ï¼Œæ‰€ä»¥éœ€è¦å‡çº§ã€‚</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mvel<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mvel2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.7.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>javassist</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.javassist<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javassist<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.18.1-GA<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>æ³¨æ„</strong></p>
<p>æœ‰äº›éƒ¨ç½²å·¥å…·ä¸ä¼šåˆ é™¤æ—§ç‰ˆæœ¬ jar åŒ…ï¼Œæ‰€ä»¥å¯ä»¥å°è¯•æ‰‹åŠ¨åˆ é™¤è€ç‰ˆæœ¬ jar åŒ…ã€‚</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="http://asm.ow2.org/history.html">http://asm.ow2.org/history.html</a></p>
<h3 id="Java-è¿æ¥-redis-å¯åŠ¨æŠ¥é”™-Error-redis-clients-jedis-HostAndPort-cant-resolve-localhost-address"><a href="#Java-è¿æ¥-redis-å¯åŠ¨æŠ¥é”™-Error-redis-clients-jedis-HostAndPort-cant-resolve-localhost-address" class="headerlink" title="Java è¿æ¥ redis å¯åŠ¨æŠ¥é”™ Error redis clients jedis HostAndPort cant resolve localhost address"></a>Java è¿æ¥ redis å¯åŠ¨æŠ¥é”™ Error redis clients jedis HostAndPort cant resolve localhost address</h3><p>é”™è¯¯ç¯å¢ƒ:<br>æœ¬åœ° window å¼€å‘ç¯å¢ƒæ²¡æœ‰é—®é¢˜ã€‚ä¸Šåˆ° Linux ç¯å¢ƒ,å¯åŠ¨å‡ºç°é—®é¢˜ã€‚<br>é”™è¯¯ä¿¡æ¯:<br>Error redis clients jedis HostAndPort cant resolve localhost address</p>
<p>è§£å†³åŠæ³•:</p>
<p>ï¼ˆ1ï¼‰æŸ¥çœ‹ Linux ç³»ç»Ÿçš„ä¸»æœºå</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># hostname</span></span><br><span class="line"><span class="keyword">template</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰æŸ¥çœ‹&#x2F;etc&#x2F;hosts æ–‡ä»¶ä¸­æ˜¯å¦æœ‰ 127.0.0.1 å¯¹åº”ä¸»æœºåï¼Œå¦‚æœæ²¡æœ‰åˆ™æ·»åŠ </p>
<h3 id="Resin-å®¹å™¨æŒ‡å®š-JDK-1-8"><a href="#Resin-å®¹å™¨æŒ‡å®š-JDK-1-8" class="headerlink" title="Resin å®¹å™¨æŒ‡å®š JDK 1.8"></a>Resin å®¹å™¨æŒ‡å®š JDK 1.8</h3><p>å¦‚æœ resin å®¹å™¨åŸæ¥ç‰ˆæœ¬ä½äº JDK1.8ï¼Œè¿è¡Œ JDK 1.8 ç¼–è¯‘çš„ web app æ—¶ï¼Œå¯èƒ½ä¼šæç¤ºé”™è¯¯ï¼š</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.lang.UnsupportedClassVersionError: <span class="keyword">PR</span>/<span class="keyword">Sort</span> : Unsupported major.minor <span class="keyword">version</span> 52.0</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ³•å°±æ˜¯ï¼Œä½¿ç”¨ JDK 1.8 è¦é‡æ–°ç¼–è¯‘ä¸€ä¸‹ã€‚ç„¶åï¼Œæˆ‘åœ¨éƒ¨ç½²æ—¶å‡ºç°è¿‡ç¼–è¯‘åä»æŠ¥é”™çš„æƒ…å†µï¼Œé‡å¯ä¸€ä¸‹æœåŠ¡å™¨åï¼Œé—®é¢˜è§£å†³ï¼Œä¸çŸ¥æ˜¯ä»€ä¹ˆåŸå› ã€‚</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/<span class="keyword">local</span>/resin  --with-java=/usr/<span class="keyword">local</span>/jdk1<span class="number">.8</span><span class="number">.0</span>_121</span><br><span class="line"><span class="built_in">make</span> &amp; <span class="built_in">make</span> install</span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/winterbe/java8-tutorial">java8-tutorial</a></li>
<li><a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html">Compatibility Guide for JDK 8</a></li>
<li><a target="_blank" rel="noopener" href="https://yq.aliyun.com/articles/236">Compatibility Guide for JDK 8 ä¸­æ–‡ç¿»è¯‘</a></li>
<li><a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html">Why Developers Should Not Write Programs That Call â€˜sunâ€™ Packages</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/pages/5f8d7c84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="é’æ‚Ÿ â—¾ Dunwu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunwu Blog">
      <meta itemprop="description" content="é’æ‚Ÿçš„ä¸ªäººåšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Dunwu Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/pages/5f8d7c84/" class="post-title-link" itemprop="url">ä»£ç å·¥ç¨‹è§„èŒƒ</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-18 19:26:20" itemprop="dateCreated datePublished" datetime="2019-03-18T19:26:20+08:00">2019-03-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-13 17:56:53" itemprop="dateModified" datetime="2025-09-13T17:56:53+08:00">2025-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E5%B7%A5%E4%BD%9C/" itemprop="url" rel="index"><span itemprop="name">å·¥ä½œ</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E5%B7%A5%E4%BD%9C/%E6%95%88%E8%83%BD/" itemprop="url" rel="index"><span itemprop="name">æ•ˆèƒ½</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E5%B7%A5%E4%BD%9C/%E6%95%88%E8%83%BD/%E8%A7%84%E8%8C%83/" itemprop="url" rel="index"><span itemprop="name">è§„èŒƒ</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>3.1k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>3 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ä»£ç å·¥ç¨‹è§„èŒƒ"><a href="#ä»£ç å·¥ç¨‹è§„èŒƒ" class="headerlink" title="ä»£ç å·¥ç¨‹è§„èŒƒ"></a>ä»£ç å·¥ç¨‹è§„èŒƒ</h1><blockquote>
<p>è½¯ä»¶é¡¹ç›®å¼€å‘è§„èŒƒã€‚</p>
</blockquote>
<h2 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h2><p>ä»¥ä¸‹ä¸ºé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œç›®å½•çš„ç»„ç»‡ç»“æ„ï¼š</p>
<h3 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h3><p><strong>codes</strong> - ä»£ç ç›®å½•ã€‚<br><strong>configurations</strong> - é…ç½®ç›®å½•ã€‚ä¸€èˆ¬å­˜æ”¾é¡¹ç›®ç›¸å…³çš„é…ç½®æ–‡ä»¶ã€‚å¦‚ maven çš„ settings.xmlï¼Œnginx çš„ nginx.conf ç­‰ã€‚<br><strong>demos</strong> - ç¤ºä¾‹ç›®å½•ã€‚<br><strong>docs</strong> - æ–‡æ¡£ç›®å½•ã€‚<br><strong>libs</strong> - ç¬¬ä¸‰æ–¹åº“æ–‡ä»¶ã€‚<br><strong>scripts</strong> - è„šæœ¬ç›®å½•ã€‚ä¸€èˆ¬å­˜æ”¾ç”¨äºå¯åŠ¨ã€æ„å»ºé¡¹ç›®çš„å¯æ‰§è¡Œè„šæœ¬æ–‡ä»¶ã€‚<br><strong>packages</strong> - æ‰“åŒ…æ–‡ä»¶ç›®å½•ã€‚Java é¡¹ç›®ä¸­å¯èƒ½æ˜¯ jarã€war ç­‰ï¼›å‰ç«¯é¡¹ç›®ä¸­å¯èƒ½æ˜¯ zipã€rar ç­‰ï¼›ç”µå­ä¹¦é¡¹ç›®ä¸­å¯èƒ½æ˜¯ pdf ç­‰ã€‚</p>
<h3 id="æ–‡ä»¶"><a href="#æ–‡ä»¶" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h3><p><strong>.gitignore</strong> - git å¿½ç•¥è§„åˆ™ã€‚<br><strong>.gitattributes</strong> - git å±æ€§è§„åˆ™ã€‚<br><strong>.editorconfig</strong> - ç¼–è¾‘å™¨ä¹¦å†™è§„åˆ™ã€‚<br><strong>README.md</strong> - é¡¹ç›®è¯´æ˜æ–‡ä»¶ã€‚<br><strong>LICENSE</strong> - å¼€æºåè®®ã€‚å¦‚æœé¡¹ç›®æ˜¯å¼€æºæ–‡ä»¶ï¼Œéœ€è¦æ·»åŠ ã€‚</p>
<h2 id="å‘½åè§„åˆ™"><a href="#å‘½åè§„åˆ™" class="headerlink" title="å‘½åè§„åˆ™"></a>å‘½åè§„åˆ™</h2><h3 id="ç›®å½•å"><a href="#ç›®å½•å" class="headerlink" title="ç›®å½•å"></a>ç›®å½•å</h3><p>ç›®å½•åå¿…é¡»ä½¿ç”¨åŠè§’å­—ç¬¦ï¼Œä¸å¾—ä½¿ç”¨å…¨è§’å­—ç¬¦ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œä¸­æ–‡ä¸èƒ½ç”¨äºæ–‡ä»¶åã€‚</p>
<p>ç›®å½•åå»ºè®®åªä½¿ç”¨å°å†™å­—æ¯ï¼Œä¸ä½¿ç”¨å¤§å†™å­—æ¯ã€‚</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¸ä½³ï¼š <span class="keyword">Test</span></span><br><span class="line">æ­£ç¡®ï¼š <span class="keyword">test</span></span><br></pre></td></tr></table></figure>

<p>ç›®å½•åå¯ä»¥ä½¿ç”¨æ•°å­—ï¼Œä½†ä¸åº”è¯¥æ˜¯é¦–å­—ç¬¦ã€‚</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¸ä½³ï¼š <span class="number">1</span>-<span class="built_in">demo</span></span><br><span class="line">æ­£ç¡®ï¼š demo1</span><br></pre></td></tr></table></figure>

<p>ç›®å½•ååŒ…å«å¤šä¸ªå•è¯æ—¶ï¼Œå•è¯ä¹‹é—´å»ºè®®ä½¿ç”¨åŠè§’çš„è¿è¯çº¿ï¼ˆ<code>-</code>ï¼‰åˆ†éš”ã€‚</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¸ä½³ï¼š common_demo</span><br><span class="line">æ­£ç¡®ï¼š <span class="meta">common</span>-demo</span><br></pre></td></tr></table></figure>

<h3 id="æ–‡ä»¶å"><a href="#æ–‡ä»¶å" class="headerlink" title="æ–‡ä»¶å"></a>æ–‡ä»¶å</h3><p>æ–‡æ¡£çš„æ–‡ä»¶åä¸å¾—å«æœ‰ç©ºæ ¼ã€‚</p>
<p>æ–‡ä»¶åå¿…é¡»ä½¿ç”¨åŠè§’å­—ç¬¦ï¼Œä¸å¾—ä½¿ç”¨å…¨è§’å­—ç¬¦ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œä¸­æ–‡ä¸èƒ½ç”¨äºæ–‡ä»¶åã€‚</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">é”™è¯¯ï¼š åè¯è§£é‡Š.<span class="built_in">md</span></span><br><span class="line">æ­£ç¡®ï¼š glossary.<span class="built_in">md</span></span><br></pre></td></tr></table></figure>

<p>æ–‡ä»¶åå»ºè®®åªä½¿ç”¨å°å†™å­—æ¯ï¼Œä¸ä½¿ç”¨å¤§å†™å­—æ¯ã€‚</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">é”™è¯¯ï¼šTroubleShooting.<span class="built_in">md</span></span><br><span class="line">æ­£ç¡®ï¼štroubleshooting.<span class="built_in">md</span></span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†é†’ç›®ï¼ŒæŸäº›è¯´æ˜æ–‡ä»¶çš„æ–‡ä»¶åï¼Œå¯ä»¥ä½¿ç”¨å¤§å†™å­—æ¯ï¼Œæ¯”å¦‚<code>README</code>ã€<code>LICENSE</code>ã€‚</p>
<p>ä¸€äº›çº¦å®šä¿—æˆçš„ä¹ æƒ¯å¯ä»¥ä¿æŒä¼ ç»Ÿå†™æ³•ï¼Œå¦‚ï¼šJava çš„æ–‡ä»¶åä¸€èˆ¬ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼Œä¸”é¦–å­—æ¯å¤§å†™ï¼›é…ç½®æ–‡ä»¶ <code>applicationContext.xml</code> ï¼›React ä¸­çš„ JSX ç»„ä»¶æ–‡ä»¶åä¸€èˆ¬ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼Œä¸”é¦–å­—æ¯å¤§å†™ç­‰ã€‚</p>
<p>æ–‡ä»¶ååŒ…å«å¤šä¸ªå•è¯æ—¶ï¼Œå•è¯ä¹‹é—´å»ºè®®ä½¿ç”¨åŠè§’çš„è¿è¯çº¿ï¼ˆ<code>-</code>ï¼‰åˆ†éš”ã€‚</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¸ä½³ï¼šadvanced_usage.<span class="built_in">md</span></span><br><span class="line">æ­£ç¡®ï¼šadvanced-usage.<span class="built_in">md</span></span><br></pre></td></tr></table></figure>

<h2 id="Java-æ—¥å¿—è§„èŒƒ"><a href="#Java-æ—¥å¿—è§„èŒƒ" class="headerlink" title="Java æ—¥å¿—è§„èŒƒ"></a>Java æ—¥å¿—è§„èŒƒ</h2><blockquote>
<p>è¿™é‡ŒåŸºäº<a target="_blank" rel="noopener" href="https://yq.aliyun.com/attachment/download/?id=4942">é˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œ</a>æ—¥å¿—è§„çº¦ç« èŠ‚ï¼Œç»“åˆè‡ªå·±çš„å¼€å‘ç»éªŒåšäº†ä¸€äº›å¢åˆ å’Œè°ƒæ•´ã€‚</p>
</blockquote>
<ol>
<li>ã€å¼ºåˆ¶ã€‘åº”ç”¨ä¸­ä¸å¯ç›´æ¥ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿï¼ˆLog4jã€Logbackï¼‰ä¸­çš„ APIï¼Œè€Œåº”ä¾èµ–ä½¿ç”¨æ—¥å¿—æ¡†æ¶ SLF4J ä¸­çš„ APIï¼Œä½¿ç”¨é—¨é¢æ¨¡å¼çš„æ—¥å¿—æ¡†æ¶ï¼Œæœ‰åˆ©äºç»´æŠ¤å’Œå„ä¸ªç±»çš„æ—¥å¿—å¤„ç†æ–¹å¼ç»Ÿä¸€ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(Abc.class);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>ã€å¼ºåˆ¶ã€‘æ—¥å¿—æ–‡ä»¶æ¨èè‡³å°‘ä¿å­˜ <code>30</code> å¤©ï¼Œå› ä¸ºæœ‰äº›å¼‚å¸¸å…·å¤‡ä»¥â€œå‘¨â€ä¸ºé¢‘æ¬¡å‘ç”Ÿçš„ç‰¹ç‚¹ã€‚</p>
</li>
<li><p>ã€å¼ºåˆ¶ã€‘åº”ç”¨ä¸­çš„æ‰©å±•æ—¥å¿—ï¼ˆå¦‚æ‰“ç‚¹ã€ä¸´æ—¶ç›‘æ§ã€è®¿é—®æ—¥å¿—ç­‰ï¼‰å‘½åæ–¹å¼ï¼š<code>appName_logType_logName.log</code>ã€‚logType:æ—¥å¿—ç±»å‹ï¼Œæ¨èåˆ†ç±»æœ‰ stats&#x2F;desc&#x2F;monitor&#x2F;visit ç­‰ï¼›logName:æ—¥å¿—æè¿°ã€‚è¿™ç§å‘½åçš„å¥½å¤„ï¼šé€šè¿‡æ–‡ä»¶åå°±å¯çŸ¥é“æ—¥å¿—æ–‡ä»¶å±äºä»€ä¹ˆåº”ç”¨ï¼Œä»€ä¹ˆç±»å‹ï¼Œä»€ä¹ˆç›®çš„ï¼Œä¹Ÿæœ‰åˆ©äºå½’ç±»æŸ¥æ‰¾ã€‚</p>
</li>
</ol>
<p><strong>æ­£ä¾‹</strong>ï¼šmppserver åº”ç”¨ä¸­å•ç‹¬ç›‘æ§æ—¶åŒºè½¬æ¢å¼‚å¸¸ï¼Œå¦‚ï¼š<code>mppserver_monitor_timeZoneConvert.log</code></p>
<p><strong>è¯´æ˜</strong>ï¼šæ¨èå¯¹æ—¥å¿—è¿›è¡Œåˆ†ç±»ï¼Œå¦‚å°†é”™è¯¯æ—¥å¿—å’Œä¸šåŠ¡æ—¥å¿—åˆ†å¼€å­˜æ”¾ï¼Œä¾¿äºå¼€å‘äººå‘˜æŸ¥çœ‹ï¼Œä¹Ÿä¾¿äºé€šè¿‡æ—¥å¿—å¯¹ç³»ç»Ÿè¿›è¡ŒåŠæ—¶ç›‘æ§ã€‚</p>
<ol start="4">
<li>ã€å¼ºåˆ¶ã€‘å¯¹ <code>trace/debug/info</code> çº§åˆ«çš„æ—¥å¿—è¾“å‡ºï¼Œå¿…é¡»ä½¿ç”¨æ¡ä»¶è¾“å‡ºå½¢å¼æˆ–è€…ä½¿ç”¨å ä½ç¬¦çš„æ–¹å¼ã€‚</li>
</ol>
<p>è¯´æ˜ï¼š<code>logger.debug(&quot;Processing trade with id: &quot; + id + &quot; and symbol: &quot; + symbol);</code> å¦‚æœæ—¥å¿—çº§åˆ«æ˜¯ warnï¼Œä¸Šè¿°æ—¥å¿—ä¸ä¼šæ‰“å°ï¼Œä½†æ˜¯ä¼šæ‰§è¡Œå­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œï¼Œå¦‚æœ symbol æ˜¯å¯¹è±¡ï¼Œä¼šæ‰§è¡Œ toString()æ–¹æ³•ï¼Œæµªè´¹äº†ç³»ç»Ÿèµ„æºï¼Œæ‰§è¡Œäº†ä¸Šè¿°æ“ä½œï¼Œæœ€ç»ˆæ—¥å¿—å´æ²¡æœ‰æ‰“å°ã€‚</p>
<p><strong>æ­£ä¾‹ï¼šï¼ˆæ¡ä»¶ï¼‰</strong></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">logger.<span class="built_in">debug</span>(<span class="string">&quot;Processing trade with id: &quot;</span> + id + <span class="string">&quot; and symbol: &quot;</span> + symbol);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ­£ä¾‹ï¼šï¼ˆå ä½ç¬¦ï¼‰</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logger<span class="selector-class">.debug</span>(&quot;Processing trade with id: &#123;&#125; and <span class="selector-tag">symbol</span> : &#123;&#125; &quot;, id, <span class="selector-tag">symbol</span>);</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>ã€å¼ºåˆ¶ã€‘é¿å…é‡å¤æ‰“å°æ—¥å¿—ï¼Œæµªè´¹ç£ç›˜ç©ºé—´ã€‚åŠ¡å¿…åœ¨ <code>log4j.xml</code> æˆ– <code>logback.xml</code> ä¸­è®¾ç½® <code>additivity=false</code>ã€‚</li>
</ol>
<p><strong>æ­£ä¾‹</strong>ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;com.taobao.dubbo.config&quot;</span> <span class="attr">additivity</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="6">
<li>ã€å¼ºåˆ¶ã€‘å¼‚å¸¸ä¿¡æ¯åº”è¯¥åŒ…æ‹¬ä¸¤ç±»ä¿¡æ¯ï¼šæ¡ˆå‘ç°åœºä¿¡æ¯å’Œå¼‚å¸¸å †æ ˆä¿¡æ¯ã€‚å¦‚æœä¸å¤„ç†ï¼Œé‚£ä¹ˆé€šè¿‡å…³é”®å­— throws å¾€ä¸ŠæŠ›å‡ºã€‚</li>
</ol>
<p><strong>æ­£ä¾‹</strong>ï¼šlogger.error(å„ç±»å‚æ•°æˆ–è€…å¯¹è±¡ toString + â€œ_â€œ + e.getMessage(), e);</p>
<ol start="9">
<li>ã€å¼ºåˆ¶ã€‘æ—¥å¿—æ ¼å¼éµå¾ªå¦‚ä¸‹æ ¼å¼ï¼š</li>
</ol>
<div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/java/javalib/log/logback/log-pattern.png"/></div>

<p>æ‰“å°å‡ºçš„æ—¥å¿—ä¿¡æ¯å¦‚ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2018</span>-<span class="number">03</span>-<span class="number">29</span> <span class="number">15</span>:<span class="number">06</span>:<span class="number">57.277</span> <span class="selector-attr">[javalib]</span> <span class="selector-attr">[main]</span> <span class="selector-attr">[TRACE]</span> <span class="selector-tag">i</span><span class="selector-class">.g</span><span class="selector-class">.dunwu</span><span class="selector-class">.javalib</span><span class="selector-class">.log</span>.LogbackDemo<span class="selector-id">#main</span> - è¿™æ˜¯ä¸€æ¡ trace æ—¥å¿—è®°å½•</span><br><span class="line"><span class="number">2018</span>-<span class="number">03</span>-<span class="number">29</span> <span class="number">15</span>:<span class="number">06</span>:<span class="number">57.282</span> <span class="selector-attr">[javalib]</span> <span class="selector-attr">[main]</span> <span class="selector-attr">[DEBUG]</span> <span class="selector-tag">i</span><span class="selector-class">.g</span><span class="selector-class">.dunwu</span><span class="selector-class">.javalib</span><span class="selector-class">.log</span>.LogbackDemo<span class="selector-id">#main</span> - è¿™æ˜¯ä¸€æ¡ debug æ—¥å¿—è®°å½•</span><br><span class="line"><span class="number">2018</span>-<span class="number">03</span>-<span class="number">29</span> <span class="number">15</span>:<span class="number">06</span>:<span class="number">57.282</span> <span class="selector-attr">[javalib]</span> <span class="selector-attr">[main]</span> <span class="selector-attr">[INFO]</span> <span class="selector-tag">i</span><span class="selector-class">.g</span><span class="selector-class">.dunwu</span><span class="selector-class">.javalib</span><span class="selector-class">.log</span>.LogbackDemo<span class="selector-id">#main</span> - è¿™æ˜¯ä¸€æ¡ info æ—¥å¿—è®°å½•</span><br><span class="line"><span class="number">2018</span>-<span class="number">03</span>-<span class="number">29</span> <span class="number">15</span>:<span class="number">06</span>:<span class="number">57.282</span> <span class="selector-attr">[javalib]</span> <span class="selector-attr">[main]</span> <span class="selector-attr">[WARN]</span> <span class="selector-tag">i</span><span class="selector-class">.g</span><span class="selector-class">.dunwu</span><span class="selector-class">.javalib</span><span class="selector-class">.log</span>.LogbackDemo<span class="selector-id">#main</span> - è¿™æ˜¯ä¸€æ¡ warn æ—¥å¿—è®°å½•</span><br><span class="line"><span class="number">2018</span>-<span class="number">03</span>-<span class="number">29</span> <span class="number">15</span>:<span class="number">06</span>:<span class="number">57.282</span> <span class="selector-attr">[javalib]</span> <span class="selector-attr">[main]</span> <span class="selector-attr">[ERROR]</span> <span class="selector-tag">i</span><span class="selector-class">.g</span><span class="selector-class">.dunwu</span><span class="selector-class">.javalib</span><span class="selector-class">.log</span>.LogbackDemo<span class="selector-id">#main</span> - è¿™æ˜¯ä¸€æ¡ error æ—¥å¿—è®°å½•</span><br></pre></td></tr></table></figure>

<ol start="8">
<li>ã€å‚è€ƒã€‘slf4j æ”¯æŒçš„æ—¥å¿—çº§åˆ«ï¼ŒæŒ‰ç…§çº§åˆ«ä»ä½åˆ°é«˜ï¼Œåˆ†åˆ«ä¸ºï¼š<code>trace &lt; debug &lt; info &lt; warn &lt; error</code>ã€‚</li>
</ol>
<p>å»ºè®®åªä½¿ç”¨ <code>debug &lt; info &lt; warn &lt; error</code> å››ä¸ªçº§åˆ«ã€‚</p>
<ul>
<li><code>error</code> æ—¥å¿—çº§åˆ«åªè®°å½•ç³»ç»Ÿé€»è¾‘å‡ºé”™ã€å¼‚å¸¸ç­‰é‡è¦çš„é”™è¯¯ä¿¡æ¯ã€‚å¦‚éå¿…è¦ï¼Œè¯·ä¸è¦åœ¨æ­¤åœºæ™¯æ‰“å‡º error çº§åˆ«ã€‚</li>
<li><code>warn</code> æ—¥å¿—çº§åˆ«è®°å½•ç”¨æˆ·è¾“å…¥å‚æ•°é”™è¯¯çš„æƒ…å†µï¼Œé¿å…ç”¨æˆ·æŠ•è¯‰æ—¶ï¼Œæ— æ‰€é€‚ä»ã€‚</li>
<li><code>info</code> æ—¥å¿—çº§åˆ«è®°å½•ä¸šåŠ¡é€»è¾‘ä¸­ä¸€äº›é‡è¦æ­¥éª¤ä¿¡æ¯ã€‚</li>
<li><code>debug</code> æ—¥å¿—çº§åˆ«è®°å½•ä¸€äº›ç”¨äºè°ƒè¯•çš„ä¿¡æ¯ã€‚</li>
</ul>
<ol start="10">
<li>ã€å‚è€ƒã€‘æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹æ¡†æ¶æˆ–åº“çš„æ—¥å¿—å¯¹äºæ’æŸ¥é—®é¢˜å…·æœ‰ä¸€å®šçš„å¸®åŠ©ï¼Œå¦‚ Springã€Dubboã€Mybatis ç­‰ã€‚è¿™äº›æ¡†æ¶æ‰€ä½¿ç”¨çš„æ—¥å¿—åº“æœªå¿…å’Œæœ¬é¡¹ç›®ä¸€æ ·ï¼Œä¸ºäº†é¿å…å‡ºç°æ—¥å¿—æ— æ³•è¾“å‡ºçš„é—®é¢˜ï¼Œè¯·å¼•å…¥å¯¹åº”çš„æ¡¥æ¥ jar åŒ…ã€‚</li>
</ol>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a target="_blank" rel="noopener" href="https://yq.aliyun.com/attachment/download/?id=4942">é˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œ</a>æ—¥å¿—è§„çº¦ç« èŠ‚</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/pages/88c215b7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="é’æ‚Ÿ â—¾ Dunwu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunwu Blog">
      <meta itemprop="description" content="é’æ‚Ÿçš„ä¸ªäººåšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Dunwu Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/pages/88c215b7/" class="post-title-link" itemprop="url">å¦‚ä½•ä¼˜é›…çš„ç©è½¬ Git</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-09 00:25:13" itemprop="dateCreated datePublished" datetime="2019-03-09T00:25:13+08:00">2019-03-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-13 17:56:53" itemprop="dateModified" datetime="2025-09-13T17:56:53+08:00">2025-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/DevOps/" itemprop="url" rel="index"><span itemprop="name">DevOps</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/DevOps/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">å·¥å…·</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/DevOps/%E5%B7%A5%E5%85%B7/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>12k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>11 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="å¦‚ä½•ä¼˜é›…çš„ç©è½¬-Git"><a href="#å¦‚ä½•ä¼˜é›…çš„ç©è½¬-Git" class="headerlink" title="å¦‚ä½•ä¼˜é›…çš„ç©è½¬ Git"></a>å¦‚ä½•ä¼˜é›…çš„ç©è½¬ Git</h1><h2 id="Git-ç®€ä»‹"><a href="#Git-ç®€ä»‹" class="headerlink" title="Git ç®€ä»‹"></a>Git ç®€ä»‹</h2><h3 id="Git-æ˜¯ä»€ä¹ˆ"><a href="#Git-æ˜¯ä»€ä¹ˆ" class="headerlink" title="Git æ˜¯ä»€ä¹ˆ"></a>Git æ˜¯ä»€ä¹ˆ</h3><p>Git æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚</p>
<p>Git å’Œå…¶å®ƒç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆåŒ…æ‹¬ Subversion å’Œè¿‘ä¼¼å·¥å…·ï¼‰çš„ä¸»è¦å·®åˆ«åœ¨äº Git å¯¹å¾…æ•°æ®çš„æ–¹å¼ã€‚ ä»æ¦‚å¿µä¸Šæ¥è¯´ï¼Œå…¶å®ƒå¤§éƒ¨åˆ†ç³»ç»Ÿä»¥æ–‡ä»¶å˜æ›´åˆ—è¡¨çš„æ–¹å¼å­˜å‚¨ä¿¡æ¯ï¼Œè€Œ Git æ˜¯æŠŠæ•°æ®çœ‹ä½œæ˜¯å¯¹å°å‹æ–‡ä»¶ç³»ç»Ÿçš„ä¸€ç³»åˆ—å¿«ç…§ã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯ç‰ˆæœ¬æ§åˆ¶"><a href="#ä»€ä¹ˆæ˜¯ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="ä»€ä¹ˆæ˜¯ç‰ˆæœ¬æ§åˆ¶"></a>ä»€ä¹ˆæ˜¯ç‰ˆæœ¬æ§åˆ¶</h3><p>ç‰ˆæœ¬æ§åˆ¶æ˜¯ä¸€ç§è®°å½•ä¸€ä¸ªæˆ–è‹¥å¹²æ–‡ä»¶å†…å®¹å˜åŒ–ï¼Œä»¥ä¾¿å°†æ¥æŸ¥é˜…ç‰¹å®šç‰ˆæœ¬ä¿®è®¢æƒ…å†µçš„ç³»ç»Ÿã€‚</p>
<h4 id="é›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"><a href="#é›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ" class="headerlink" title="é›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"></a>é›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</h4><p>ä»‹ç»åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå‰ï¼Œæœ‰å¿…è¦å…ˆäº†è§£ä¸€ä¸‹ä¼ ç»Ÿçš„é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚</p>
<p><strong>é›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</strong>ï¼Œè¯¸å¦‚ CVSï¼ŒSubversion ç­‰ï¼Œéƒ½æœ‰ä¸€ä¸ªå•ä¸€çš„é›†ä¸­ç®¡ç†çš„æœåŠ¡å™¨ï¼Œä¿å­˜æ‰€æœ‰æ–‡ä»¶çš„ä¿®è®¢ç‰ˆæœ¬ï¼Œè€ŒååŒå·¥ä½œçš„äººä»¬éƒ½é€šè¿‡å®¢æˆ·ç«¯è¿åˆ°è¿™å°æœåŠ¡å™¨ï¼Œå–å‡ºæœ€æ–°çš„æ–‡ä»¶æˆ–è€…æäº¤æ›´æ–°ã€‚</p>
<p>è¿™ä¹ˆåšæœ€æ˜¾è€Œæ˜“è§çš„ç¼ºç‚¹æ˜¯ä¸­å¤®æœåŠ¡å™¨çš„å•ç‚¹æ•…éšœã€‚å¦‚æœå®•æœºä¸€å°æ—¶ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸€å°æ—¶å†…ï¼Œè°éƒ½æ— æ³•æäº¤æ›´æ–°ï¼Œä¹Ÿå°±æ— æ³•ååŒå·¥ä½œã€‚è¦æ˜¯ä¸­å¤®æœåŠ¡å™¨çš„ç£ç›˜å‘ç”Ÿæ•…éšœï¼Œç¢°å·§æ²¡åšå¤‡ä»½ï¼Œæˆ–è€…å¤‡ä»½ä¸å¤ŸåŠæ—¶ï¼Œå°±ä¼šæœ‰ä¸¢å¤±æ•°æ®çš„é£é™©ã€‚æœ€åçš„æƒ…å†µæ˜¯å½»åº•ä¸¢å¤±æ•´ä¸ªé¡¹ç›®çš„æ‰€æœ‰å†å²æ›´æ”¹è®°å½•ã€‚</p>
<p><img src="https://git-scm.com/figures/18333fig0102-tn.png" alt="img"></p>
<h4 id="åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"><a href="#åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ" class="headerlink" title="åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"></a>åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</h4><p><strong>åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</strong>çš„å®¢æˆ·ç«¯å¹¶ä¸åªæå–æœ€æ–°ç‰ˆæœ¬çš„æ–‡ä»¶å¿«ç…§ï¼Œè€Œæ˜¯æŠŠä»£ç ä»“åº“å®Œæ•´åœ°é•œåƒä¸‹æ¥ã€‚è¿™ä¹ˆä¸€æ¥ï¼Œä»»ä½•ä¸€å¤„ååŒå·¥ä½œç”¨çš„æœåŠ¡å™¨å‘ç”Ÿæ•…éšœï¼Œäº‹åéƒ½å¯ä»¥ç”¨ä»»ä½•ä¸€ä¸ªé•œåƒå‡ºæ¥çš„æœ¬åœ°ä»“åº“æ¢å¤ã€‚å› ä¸ºæ¯ä¸€æ¬¡çš„æå–æ“ä½œï¼Œå®é™…ä¸Šéƒ½æ˜¯ä¸€æ¬¡å¯¹ä»£ç ä»“åº“çš„å®Œæ•´å¤‡ä»½ã€‚</p>
<p><img src="https://git-scm.com/figures/18333fig0103-tn.png" alt="img"></p>
<h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨-Git"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨-Git" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨ Git"></a>ä¸ºä»€ä¹ˆä½¿ç”¨ Git</h3><p>Git æ˜¯åˆ†å¸ƒå¼çš„ã€‚è¿™æ˜¯ Git å’Œå…¶å®ƒéåˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆä¾‹å¦‚ svnï¼Œcvs ç­‰ï¼‰ï¼Œæœ€æ ¸å¿ƒçš„åŒºåˆ«ã€‚åˆ†å¸ƒå¼å¸¦æ¥ä»¥ä¸‹å¥½å¤„ï¼š</p>
<ul>
<li><strong>å·¥ä½œæ—¶ä¸éœ€è¦è”ç½‘</strong> - é¦–å…ˆï¼Œåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ ¹æœ¬æ²¡æœ‰â€œä¸­å¤®æœåŠ¡å™¨â€ï¼Œæ¯ä¸ªäººçš„ç”µè„‘ä¸Šéƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œè¿™æ ·ï¼Œä½ å·¥ä½œçš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦è”ç½‘äº†ï¼Œå› ä¸ºç‰ˆæœ¬åº“å°±åœ¨ä½ è‡ªå·±çš„ç”µè„‘ä¸Šã€‚æ—¢ç„¶æ¯ä¸ªäººç”µè„‘ä¸Šéƒ½æœ‰ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œé‚£å¤šä¸ªäººå¦‚ä½•åä½œå‘¢ï¼Ÿæ¯”æ–¹è¯´ä½ åœ¨è‡ªå·±ç”µè„‘ä¸Šæ”¹äº†æ–‡ä»¶ Aï¼Œä½ çš„åŒäº‹ä¹Ÿåœ¨ä»–çš„ç”µè„‘ä¸Šæ”¹äº†æ–‡ä»¶ Aï¼Œè¿™æ—¶ï¼Œä½ ä»¬ä¿©ä¹‹é—´åªéœ€æŠŠå„è‡ªçš„ä¿®æ”¹æ¨é€ç»™å¯¹æ–¹ï¼Œå°±å¯ä»¥äº’ç›¸çœ‹åˆ°å¯¹æ–¹çš„ä¿®æ”¹äº†ã€‚</li>
<li><strong>æ›´åŠ å®‰å…¨</strong><ul>
<li>é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä¸€æ—¦ä¸­å¤®æœåŠ¡å™¨å‡ºäº†é—®é¢˜ï¼Œæ‰€æœ‰äººéƒ½æ— æ³•å·¥ä½œã€‚</li>
<li>åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ¯ä¸ªäººç”µè„‘ä¸­éƒ½æœ‰å®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œæ‰€ä»¥æŸäººçš„æœºå™¨æŒ‚äº†ï¼Œå¹¶ä¸å½±å“å…¶å®ƒäººã€‚</li>
</ul>
</li>
</ul>
<h3 id="Git-çš„å·¥ä½œåŸç†"><a href="#Git-çš„å·¥ä½œåŸç†" class="headerlink" title="Git çš„å·¥ä½œåŸç†"></a>Git çš„å·¥ä½œåŸç†</h3><p>ä¸ªäººè®¤ä¸ºï¼Œå¯¹äº Git è¿™ä¸ªç‰ˆæœ¬å·¥å…·ï¼Œå†ä¸äº†è§£åŸç†çš„æƒ…å†µä¸‹ï¼Œç›´æ¥å»å­¦ä¹ å‘½ä»¤è¡Œï¼Œå¯èƒ½ä¼šä¸€å¤´é›¾æ°´ã€‚æ‰€ä»¥ï¼Œæœ¬æ–‡ç‰¹æ„å°†åŸç†æ”¾åœ¨å‘½ä»¤ä½¿ç”¨ç« èŠ‚ä¹‹å‰è®²è§£ã€‚</p>
<h4 id="ç‰ˆæœ¬åº“"><a href="#ç‰ˆæœ¬åº“" class="headerlink" title="ç‰ˆæœ¬åº“"></a>ç‰ˆæœ¬åº“</h4><p>å½“ä½ ä¸€ä¸ªé¡¹ç›®åˆ°æœ¬åœ°æˆ–åˆ›å»ºä¸€ä¸ª git é¡¹ç›®ï¼Œé¡¹ç›®ç›®å½•ä¸‹ä¼šæœ‰ä¸€ä¸ªéšè—çš„ <code>.git</code> å­ç›®å½•ã€‚è¿™ä¸ªç›®å½•æ˜¯ git ç”¨æ¥è·Ÿè¸ªç®¡ç†ç‰ˆæœ¬åº“çš„ï¼Œå¦‚æœä¸ç†Ÿæ‚‰å…¶å·¥ä½œæœºåˆ¶ï¼Œåƒä¸‡ä¸è¦æ‰‹åŠ¨ä¿®æ”¹ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419093855.png" alt="img"></p>
<ul>
<li><code>hooks</code> ç›®å½•ï¼šåŒ…å«å®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯çš„é’©å­è„šæœ¬ï¼ˆhook scriptsï¼‰</li>
<li><code>info</code> ç›®å½•ï¼šåŒ…å«ä¸€ä¸ªå…¨å±€æ€§æ’é™¤ï¼ˆglobal excludeï¼‰æ–‡ä»¶ï¼Œ ç”¨ä»¥æ”¾ç½®é‚£äº›ä¸å¸Œæœ›è¢«è®°å½•åœ¨ <code>.gitignore</code> æ–‡ä»¶ä¸­çš„å¿½ç•¥æ¨¡å¼ï¼ˆignored patternsï¼‰ã€‚</li>
<li><code>objects</code> ç›®å½•ï¼šå­˜å‚¨æ‰€æœ‰æ•°æ®å†…å®¹ã€‚</li>
<li><code>refs</code> ç›®å½•ï¼šå­˜å‚¨æŒ‡å‘æ•°æ®ï¼ˆåˆ†æ”¯ã€è¿œç¨‹ä»“åº“å’Œæ ‡ç­¾ç­‰ï¼‰çš„æäº¤å¯¹è±¡çš„æŒ‡é’ˆ</li>
<li><code>HEAD</code> æ–‡ä»¶ï¼šæŒ‡å‘ç›®å‰è¢«æ£€å‡ºçš„åˆ†æ”¯ã€‚</li>
<li><code>index</code> æ–‡ä»¶ä¿å­˜æš‚å­˜åŒºä¿¡æ¯ã€‚</li>
<li><code>config</code> æ–‡ä»¶ï¼šåŒ…å«é¡¹ç›®ç‰¹æœ‰çš„é…ç½®é€‰é¡¹ã€‚</li>
<li><code>description</code> æ–‡ä»¶ï¼š<code>description</code> æ–‡ä»¶ä»…ä¾› GitWeb ç¨‹åºä½¿ç”¨ï¼Œæˆ‘ä»¬æ— éœ€å…³å¿ƒã€‚</li>
</ul>
<h4 id="å“ˆå¸Œå€¼"><a href="#å“ˆå¸Œå€¼" class="headerlink" title="å“ˆå¸Œå€¼"></a>å“ˆå¸Œå€¼</h4><p>Git ä¸­æ‰€æœ‰æ•°æ®åœ¨å­˜å‚¨å‰éƒ½è®¡ç®—æ ¡éªŒå’Œï¼Œç„¶åä»¥æ ¡éªŒå’Œæ¥å¼•ç”¨ã€‚ è¿™æ„å‘³ç€ä¸å¯èƒ½åœ¨ Git ä¸çŸ¥æƒ…æ—¶æ›´æ”¹ä»»ä½•æ–‡ä»¶å†…å®¹æˆ–ç›®å½•å†…å®¹ã€‚ è¿™ä¸ªåŠŸèƒ½æ„ç­‘åœ¨ Git åº•å±‚ï¼Œæ˜¯ Git çš„å…³é”®ç»„ä»¶ã€‚ è‹¥ä½ åœ¨ä¼ é€è¿‡ç¨‹ä¸­ä¸¢å¤±ä¿¡æ¯æˆ–æŸåæ–‡ä»¶ï¼ŒGit å°±èƒ½å‘ç°ã€‚</p>
<p>Git è®¡ç®—æ ¡éªŒå’Œçš„ä½¿ç”¨ SHA-1 å“ˆå¸Œç®—æ³•ã€‚ è¿™æ˜¯ä¸€ä¸ªç”± 40 ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ï¼ˆ0-9 å’Œ a-fï¼‰ç»„æˆå­—ç¬¦ä¸²ï¼ŒåŸºäº Git ä¸­æ–‡ä»¶çš„å†…å®¹æˆ–ç›®å½•ç»“æ„è®¡ç®—å‡ºæ¥ã€‚ SHA-1 å“ˆå¸Œå€¼çœ‹èµ·æ¥æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24b9da6552252987aa493b52f8696cd6d3b00373</span><br></pre></td></tr></table></figure>

<p>Git ä¸­ä½¿ç”¨è¿™ç§å“ˆå¸Œå€¼çš„æƒ…å†µå¾ˆå¤šï¼Œä½ å°†ç»å¸¸çœ‹åˆ°è¿™ç§å“ˆå¸Œå€¼ã€‚ å®é™…ä¸Šï¼ŒGit æ•°æ®åº“ä¸­ä¿å­˜çš„ä¿¡æ¯éƒ½æ˜¯ä»¥æ–‡ä»¶å†…å®¹çš„å“ˆå¸Œå€¼æ¥ç´¢å¼•ï¼Œè€Œä¸æ˜¯æ–‡ä»¶åã€‚</p>
<h4 id="æ–‡ä»¶çŠ¶æ€"><a href="#æ–‡ä»¶çŠ¶æ€" class="headerlink" title="æ–‡ä»¶çŠ¶æ€"></a>æ–‡ä»¶çŠ¶æ€</h4><p>åœ¨ GIt ä¸­ï¼Œä½ çš„æ–‡ä»¶å¯èƒ½ä¼šå¤„äºä¸‰ç§çŠ¶æ€ä¹‹ä¸€ï¼š</p>
<ul>
<li><strong>å·²ä¿®æ”¹ï¼ˆmodifiedï¼‰</strong> - å·²ä¿®æ”¹è¡¨ç¤ºä¿®æ”¹äº†æ–‡ä»¶ï¼Œä½†è¿˜æ²¡ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚</li>
<li><strong>å·²æš‚å­˜ï¼ˆstagedï¼‰</strong> - å·²æš‚å­˜è¡¨ç¤ºå¯¹ä¸€ä¸ªå·²ä¿®æ”¹æ–‡ä»¶çš„å½“å‰ç‰ˆæœ¬åšäº†æ ‡è®°ï¼Œä½¿ä¹‹åŒ…å«åœ¨ä¸‹æ¬¡æäº¤çš„å¿«ç…§ä¸­ã€‚</li>
<li><strong>å·²æäº¤ï¼ˆcommittedï¼‰</strong> - å·²æäº¤è¡¨ç¤ºæ•°æ®å·²ç»å®‰å…¨çš„ä¿å­˜åœ¨æœ¬åœ°æ•°æ®åº“ä¸­ã€‚</li>
</ul>
<h4 id="å·¥ä½œåŒºåŸŸ"><a href="#å·¥ä½œåŒºåŸŸ" class="headerlink" title="å·¥ä½œåŒºåŸŸ"></a>å·¥ä½œåŒºåŸŸ</h4><p>ä¸æ–‡ä»¶çŠ¶æ€å¯¹åº”çš„ï¼Œä¸åŒçŠ¶æ€çš„æ–‡ä»¶åœ¨ Git ä¸­å¤„äºä¸åŒçš„å·¥ä½œåŒºåŸŸã€‚</p>
<ul>
<li><strong>å·¥ä½œåŒºï¼ˆworkingï¼‰</strong> - å½“ä½  <code>git clone</code> ä¸€ä¸ªé¡¹ç›®åˆ°æœ¬åœ°ï¼Œç›¸å½“äºåœ¨æœ¬åœ°å…‹éš†äº†é¡¹ç›®çš„ä¸€ä¸ªå‰¯æœ¬ã€‚å·¥ä½œåŒºæ˜¯å¯¹é¡¹ç›®çš„æŸä¸ªç‰ˆæœ¬ç‹¬ç«‹æå–å‡ºæ¥çš„å†…å®¹ã€‚ è¿™äº›ä» Git ä»“åº“çš„å‹ç¼©æ•°æ®åº“ä¸­æå–å‡ºæ¥çš„æ–‡ä»¶ï¼Œæ”¾åœ¨ç£ç›˜ä¸Šä¾›ä½ ä½¿ç”¨æˆ–ä¿®æ”¹ã€‚</li>
<li><strong>æš‚å­˜åŒºï¼ˆstagingï¼‰</strong> - æš‚å­˜åŒºæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜äº†ä¸‹æ¬¡å°†æäº¤çš„æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯ï¼Œä¸€èˆ¬åœ¨ Git ä»“åº“ç›®å½•ä¸­ã€‚ æœ‰æ—¶å€™ä¹Ÿè¢«ç§°ä½œ&#96;â€˜ç´¢å¼•â€™â€™ï¼Œä¸è¿‡ä¸€èˆ¬è¯´æ³•è¿˜æ˜¯å«æš‚å­˜åŒºã€‚</li>
<li><strong>æœ¬åœ°ä»“åº“ï¼ˆlocalï¼‰</strong> - æäº¤æ›´æ–°ï¼Œæ‰¾åˆ°æš‚å­˜åŒºåŸŸçš„æ–‡ä»¶ï¼Œå°†å¿«ç…§æ°¸ä¹…æ€§å­˜å‚¨åˆ° Git æœ¬åœ°ä»“åº“ã€‚</li>
<li><strong>è¿œç¨‹ä»“åº“ï¼ˆremoteï¼‰</strong> - ä»¥ä¸Šå‡ ä¸ªå·¥ä½œåŒºéƒ½æ˜¯åœ¨æœ¬åœ°ã€‚ä¸ºäº†è®©åˆ«äººå¯ä»¥çœ‹åˆ°ä½ çš„ä¿®æ”¹ï¼Œä½ éœ€è¦å°†ä½ çš„æ›´æ–°æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚åŒç†ï¼Œå¦‚æœä½ æƒ³åŒæ­¥åˆ«äººçš„ä¿®æ”¹ï¼Œä½ éœ€è¦ä»è¿œç¨‹ä»“åº“æ‹‰å–æ›´æ–°ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/web/git/git-theory.png" alt="img"></p>
<h2 id="åˆ†æ”¯ç®¡ç†"><a href="#åˆ†æ”¯ç®¡ç†" class="headerlink" title="åˆ†æ”¯ç®¡ç†"></a>åˆ†æ”¯ç®¡ç†</h2><h3 id="Git-Flow"><a href="#Git-Flow" class="headerlink" title="Git Flow"></a>Git Flow</h3><p>Git Flow åº”è¯¥æ˜¯ç›®å‰æµä¼ æœ€å¹¿çš„ Git åˆ†æ”¯ç®¡ç†ç­–ç•¥ã€‚Git Flow å›´ç»•çš„æ ¸å¿ƒç‚¹æ˜¯ç‰ˆæœ¬å‘å¸ƒï¼ˆreleaseï¼‰ï¼Œå®ƒé€‚ç”¨äºè¿­ä»£ç‰ˆæœ¬è¾ƒé•¿çš„é¡¹ç›®ã€‚</p>
<blockquote>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419110634.png" alt="img"></p>
</blockquote>
<blockquote>
<p>è¯¦ç»†å†…å®¹ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a target="_blank" rel="noopener" href="http://www.cnblogs.com/cnblogsfans/p/5075073.html">Git åœ¨å›¢é˜Ÿä¸­çš„æœ€ä½³å®è·µâ€“å¦‚ä½•æ­£ç¡®ä½¿ç”¨ Git Flow</a></p>
</blockquote>
<p>Git Flow å¸¸ç”¨åˆ†æ”¯ï¼š</p>
<ul>
<li><strong><code>master</code></strong> - ä¸»çº¿åˆ†æ”¯</li>
<li><strong><code>develop</code></strong> - å¼€å‘åˆ†æ”¯</li>
<li><strong><code>feature</code></strong> - ç‰¹æ€§åˆ†æ”¯</li>
<li><strong><code>release</code></strong> - å‘å¸ƒåˆ†æ”¯</li>
<li><strong><code>hotfix</code></strong> - é—®é¢˜ä¿®å¤åˆ†æ”¯</li>
</ul>
<p>Git Flow å·¥ä½œæµç¨‹</p>
<h4 id="2-1-ä¸»å¹²åˆ†æ”¯"><a href="#2-1-ä¸»å¹²åˆ†æ”¯" class="headerlink" title="2.1. ä¸»å¹²åˆ†æ”¯"></a>2.1. ä¸»å¹²åˆ†æ”¯</h4><p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419113532.png" alt="img"></p>
<p>ä¸»å¹²åˆ†æ”¯æœ‰ä¸¤ä¸ªï¼Œå®ƒä»¬æ˜¯ä¼´éšç€é¡¹ç›®ç”Ÿå‘½å‘¨æœŸé•¿æœŸå­˜åœ¨çš„åˆ†æ”¯ã€‚</p>
<ul>
<li><code>master</code> - è¿™ä¸ªåˆ†æ”¯å¯¹åº”å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒçš„ä»£ç ã€‚è¿™ä¸ªåˆ†æ”¯<strong>åªå…è®¸ä»å…¶ä»–åˆ†æ”¯åˆå…¥ä»£ç </strong>ï¼Œä¸èƒ½åœ¨è¿™ä¸ªåˆ†æ”¯ç›´æ¥ä¿®æ”¹ã€‚æ‰€æœ‰åœ¨ master åˆ†æ”¯ä¸Šçš„ Commit éƒ½åº”è¯¥æ‰“ Tagã€‚</li>
<li><code>develop</code> - è¿™ä¸ªåˆ†æ”¯åŒ…å«æ‰€æœ‰è¦å‘å¸ƒåˆ°ä¸‹ä¸€ä¸ª release çš„ä»£ç ï¼Œè¿™ä¸ªåˆ†æ”¯<strong>ä¸»è¦æ˜¯ä»å…¶ä»–åˆ†æ”¯åˆå…¥ä»£ç </strong>ï¼Œæ¯”å¦‚ feature åˆ†æ”¯ã€‚</li>
</ul>
<h4 id="2-2-feature-åˆ†æ”¯"><a href="#2-2-feature-åˆ†æ”¯" class="headerlink" title="2.2. feature åˆ†æ”¯"></a>2.2. <code>feature</code> åˆ†æ”¯</h4><p>è¿™ä¸ªåˆ†æ”¯ä¸»è¦æ˜¯ç”¨æ¥å¼€å‘ä¸€ä¸ªæ–°çš„åŠŸèƒ½ï¼Œä¸€æ—¦å¼€å‘å®Œæˆï¼Œæˆ‘ä»¬åˆå¹¶å› develop åˆ†æ”¯è¿›å…¥ä¸‹ä¸€ä¸ª releaseã€‚feature åˆ†æ”¯å¼€å‘ç»“æŸåï¼Œå¿…é¡»åˆå¹¶å› develop åˆ†æ”¯, åˆå¹¶å®Œåˆ†æ”¯åä¸€èˆ¬ä¼šåˆ ç‚¹è¿™ä¸ª feature åˆ†æ”¯ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¿ç•™ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419114042.png" alt="img"></p>
<h4 id="2-3-release-åˆ†æ”¯"><a href="#2-3-release-åˆ†æ”¯" class="headerlink" title="2.3. release åˆ†æ”¯"></a>2.3. <strong><code>release</code> åˆ†æ”¯</strong></h4><p>release åˆ†æ”¯åŸºäº develop åˆ†æ”¯åˆ›å»ºï¼Œåˆ›å»ºåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ª release åˆ†æ”¯ä¸Šè¿›è¡Œæµ‹è¯•ï¼Œä¿®å¤ Bug ç­‰å·¥ä½œã€‚åŒæ—¶ï¼Œå…¶å®ƒå¼€å‘äººå‘˜å¯ä»¥åŸºäºå®ƒå¼€å‘æ–°çš„ feature (è®°ä½ï¼šä¸€æ—¦åˆ›å»ºäº† release åˆ†æ”¯ä¹‹åä¸è¦ä» develop åˆ†æ”¯ä¸Šåˆå¹¶æ–°çš„æ”¹åŠ¨åˆ° release åˆ†æ”¯)ã€‚</p>
<p>å‘å¸ƒ release åˆ†æ”¯æ—¶ï¼Œåˆå¹¶ release åˆ° master å’Œ developï¼Œ åŒæ—¶åœ¨ master åˆ†æ”¯ä¸Šæ‰“ä¸ª Tag è®°ä½ release ç‰ˆæœ¬å·ï¼Œç„¶åå¯ä»¥åˆ é™¤ release åˆ†æ”¯äº†ã€‚</p>
<h4 id="2-4-hotfix-åˆ†æ”¯"><a href="#2-4-hotfix-åˆ†æ”¯" class="headerlink" title="2.4. hotfix åˆ†æ”¯"></a>2.4. <code>hotfix</code> åˆ†æ”¯</h4><p>å½“å‡ºç°çº¿ä¸Š bug æ—¶ï¼Œä¹Ÿæ„å‘³ç€ master å­˜åœ¨ Bugã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åŸºäº master åˆ›å»ºä¸€ä¸ª hotfix åˆ†æ”¯ï¼Œåœ¨æ­¤åˆ†æ”¯ä¸Šå®Œæˆ bug ä¿®å¤ã€‚ä¿®å¤åï¼Œæˆ‘ä»¬åº”è¯¥å°†æ­¤åˆ†æ”¯åˆå¹¶å› master å’Œ develop åˆ†æ”¯ï¼ŒåŒæ—¶åœ¨ master ä¸Šæ‰“ä¸€ä¸ª tagã€‚æ‰€ä»¥ï¼Œhotfix çš„æ”¹åŠ¨ä¼šè¿›å…¥ä¸‹ä¸€ä¸ª releaseã€‚</p>
<p><img src="https://nvie.com/img/hotfix-branches@2x.png" alt="img"></p>
<h4 id="2-5-å¦‚ä½•åº”ç”¨-Git-Flow"><a href="#2-5-å¦‚ä½•åº”ç”¨-Git-Flow" class="headerlink" title="2.5. å¦‚ä½•åº”ç”¨ Git Flow"></a>2.5. å¦‚ä½•åº”ç”¨ Git Flow</h4><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¦‚ä½•å…·ä½“è½åœ° Git Flow æµç¨‹å‘¢ï¼Ÿ</p>
<p>git æä¾›äº† <code>git flow</code> å‘½ä»¤æ¥æ‰‹åŠ¨ç®¡ç†ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥è¿˜æ˜¯å»ºè®®ä½¿ç”¨ Git Flow çš„ GUI å·¥å…·ã€‚æ¯”å¦‚ï¼š<a target="_blank" rel="noopener" href="https://www.sourcetreeapp.com/">SourceTree</a>ã€<a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=vs-publisher-57624.GitFlowforVisualStudio">VScode çš„ GitFlow æ’ä»¶</a>ã€Intellij çš„ GitFlow æ’ä»¶ç­‰ã€‚</p>
<blockquote>
<p>æƒ³äº†è§£æ›´è¯¦ç»†çš„ Git Flow ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒï¼š</p>
<p><a target="_blank" rel="noopener" href="http://nvie.com/posts/a-successful-git-branching-model/">A Successful Git Branching Model</a></p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/cnblogsfans/p/5075073.html">Git åœ¨å›¢é˜Ÿä¸­çš„æœ€ä½³å®è·µâ€“å¦‚ä½•æ­£ç¡®ä½¿ç”¨ Git Flow</a></p>
</blockquote>
<h3 id="Github-Flow"><a href="#Github-Flow" class="headerlink" title="Github Flow"></a>Github Flow</h3><p>å¯¹äºç®€å•ä¸”è¿­ä»£é¢‘ç¹çš„é¡¹ç›®æ¥è¯´ï¼ŒGit Flow å¯èƒ½æœ‰äº›å¤ªå¤æ‚äº†ã€‚è¿™æ—¶ï¼Œå¯ä»¥è€ƒè™‘ Github Flowã€‚</p>
<p>åœ¨ Github Flow ç­–ç•¥ä¸­ï¼Œæ‰€æœ‰åˆ†æ”¯éƒ½æ˜¯åŸºäº master åˆ›å»ºã€‚åœ¨ Feature æˆ– Bugfix åˆ†æ”¯ä¸­å®Œæˆå·¥ä½œåï¼Œå°†å…¶åˆå…¥ masterï¼Œç„¶åç»§ç»­è¿­ä»£ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420194518.png" alt="img"></p>
<blockquote>
<p>æƒ³äº†è§£æ›´è¯¦ç»†çš„ Github Flow ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒï¼š<a target="_blank" rel="noopener" href="http://scottchacon.com/2011/08/31/github-flow.html">GitHub Flow</a></p>
</blockquote>
<h2 id="Git-Commit-è§„èŒƒ"><a href="#Git-Commit-è§„èŒƒ" class="headerlink" title="Git Commit è§„èŒƒ"></a>Git Commit è§„èŒƒ</h2><p>Git æ¯æ¬¡æäº¤ä»£ç ï¼Œéƒ½è¦å†™ Commit messageï¼ˆæäº¤è¯´æ˜ï¼‰ï¼Œå¦åˆ™å°±ä¸å…è®¸æäº¤ã€‚</p>
<p>å¥½çš„ Commit message å¯ä»¥è®©äººä¸€çœ¼å°±æ˜ç™½æäº¤è€…ä¿®æ”¹äº†ä»€ä¹ˆå†…å®¹ï¼Œæœ‰ä»€ä¹ˆå½±å“ï¼›è€Œä¸å¥½çš„ Commit message å†™äº†å’Œæ²¡å†™ä¸€æ ·ï¼Œç”šè‡³è¿˜å¯èƒ½è¯¯å¯¼åˆ«äººã€‚</p>
<p>å…ˆæ¥çœ‹ä¸‹å›¾ä¸­ä¸å¥½çš„ Commit message èŒƒä¾‹ï¼Œä»æäº¤ä¿¡æ¯å®Œå…¨çœ‹ä¸å‡ºæ¥ä¿®æ”¹äº†ä»€ä¹ˆã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420152215.png" alt="img"></p>
<p>å†æ¥ä¸€å¼ è¾ƒå¥½çš„ Commit message èŒƒä¾‹ï¼Œæ¯æ¬¡æäº¤çš„æ˜¯ä»€ä¹ˆå†…å®¹ï¼Œåšäº†ä»€ä¹ˆä¸€ç›®äº†ç„¶ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420151352.png" alt="img"></p>
<h3 id="Commit-message-çš„ä½œç”¨"><a href="#Commit-message-çš„ä½œç”¨" class="headerlink" title="Commit message çš„ä½œç”¨"></a>Commit message çš„ä½œç”¨</h3><p>ä»å‰é¢ï¼Œæˆ‘ä»¬ä¸éš¾çœ‹å‡ºï¼Œå®Œå–„çš„ Commit message éå¸¸æœ‰åˆ©äºé¡¹ç›®ç»´æŠ¤ã€‚å³æ—¶æ˜¯ä¸ªäººç»´æŠ¤çš„é¡¹ç›®ï¼Œæ—¶é—´ä¹…äº†ï¼Œå¯èƒ½ä¹Ÿä¼šå¿˜è®°å½“åˆè‡ªå·±æ”¹äº†ä»€ä¹ˆã€‚</p>
<p>Commit message çš„ä½œç”¨è¿˜ä¸ä»…ä»…æ˜¯ç†è§£å†å²ä¿¡æ¯ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨å¦‚ä¸‹ï¼š</p>
<p>ï¼ˆ1ï¼‰æä¾›æ˜“äºç†è§£çš„å†å²ä¿¡æ¯ï¼Œæ–¹ä¾¿æ£€ç´¢</p>
<p>ï¼ˆ2ï¼‰å¯ä»¥è¿‡æ»¤æŸäº› commitï¼ˆæ¯”å¦‚æ–‡æ¡£æ”¹åŠ¨ï¼‰ï¼Œä¾¿äºå¿«é€ŸæŸ¥æ‰¾ä¿¡æ¯ã€‚</p>
<p>ï¼ˆ3ï¼‰å¯ä»¥ç›´æ¥ä» commit ç”Ÿæˆ Change logã€‚</p>
<h3 id="Commit-message-çš„è§„èŒƒ"><a href="#Commit-message-çš„è§„èŒƒ" class="headerlink" title="Commit message çš„è§„èŒƒ"></a>Commit message çš„è§„èŒƒ</h3><p>å¼€æºç¤¾åŒºæœ‰å¾ˆå¤š Commit message çš„è§„èŒƒï¼Œä¸ªäººæ¨èä½¿ç”¨ <a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0">Angular Git Commit è§„èŒƒ</a>ï¼Œè¿™æ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿çš„å†™æ³•ï¼Œæ¯”è¾ƒåˆç†å’Œç³»ç»ŸåŒ–ï¼Œå¹¶ä¸”æœ‰é…å¥—çš„å·¥å…·ã€‚</p>
<p>å®ƒä¸»è¦æœ‰ä»¥ä¸‹ç»„æˆéƒ¨åˆ†ï¼š</p>
<ul>
<li>æ ‡é¢˜è¡Œï¼šå¿…å¡«, æè¿°ä¸»è¦ä¿®æ”¹ç±»å‹å’Œå†…å®¹</li>
<li>ä¸»é¢˜å†…å®¹ï¼šæè¿°ä¸ºä»€ä¹ˆä¿®æ”¹, åšäº†ä»€ä¹ˆæ ·çš„ä¿®æ”¹, ä»¥åŠå¼€å‘çš„æ€è·¯ç­‰ç­‰</li>
<li>é¡µè„šæ³¨é‡Šï¼šæ”¾ Breaking Changes æˆ– Closed Issues</li>
</ul>
<p>å¸¸ç”¨çš„ä¿®æ”¹é¡¹</p>
<ul>
<li><code>type</code>ï¼šcommit çš„ç±»å‹</li>
<li><code>feat</code>ï¼šæ–°ç‰¹æ€§</li>
<li><code>fix</code>ï¼šä¿®æ”¹é—®é¢˜</li>
<li><code>refactor</code>ï¼šä»£ç é‡æ„</li>
<li><code>docs</code>ï¼šæ–‡æ¡£ä¿®æ”¹</li>
<li><code>style</code>ï¼šä»£ç æ ¼å¼ä¿®æ”¹, æ³¨æ„ä¸æ˜¯ css ä¿®æ”¹</li>
<li><code>test</code>ï¼šæµ‹è¯•ç”¨ä¾‹ä¿®æ”¹</li>
<li><code>chore</code>ï¼šå…¶ä»–ä¿®æ”¹, æ¯”å¦‚æ„å»ºæµç¨‹, ä¾èµ–ç®¡ç†.</li>
<li><code>scope</code>ï¼šcommit å½±å“çš„èŒƒå›´, æ¯”å¦‚ï¼šroute, component, utils, buildâ€¦</li>
<li><code>subject</code>ï¼šcommit çš„æ¦‚è¿°</li>
<li><code>body</code>ï¼šcommit å…·ä½“ä¿®æ”¹å†…å®¹, å¯ä»¥åˆ†ä¸ºå¤šè¡Œ</li>
<li><code>footer</code>ï¼šä¸€äº›å¤‡æ³¨, é€šå¸¸æ˜¯ BREAKING CHANGE æˆ–ä¿®å¤çš„ bug çš„é“¾æ¥</li>
</ul>
<h3 id="Git-Commit-Template"><a href="#Git-Commit-Template" class="headerlink" title="Git Commit Template"></a>Git Commit Template</h3><p>Intellij ä¸­æœ‰é›†æˆ <a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0">Angular Git Commit è§„èŒƒ</a> çš„æ’ä»¶ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿåˆ›å»ºç¬¦åˆ <a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0">Angular Git Commit è§„èŒƒ</a> çš„ Git Commit Messageã€‚</p>
<p>å…¶ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>ç¬¬ä¸€æ­¥ï¼Œå®‰è£…æ’ä»¶</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419145223.png" alt="img"></p>
<p>ç¬¬äºŒæ­¥ï¼Œæäº¤ä»£ç æ—¶ï¼ŒæŒ‰ç…§æ¨¡æ¿å¡«å†™ commit message</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210419145327.png" alt="img"></p>
<h3 id="ç”Ÿæˆ-Change-log"><a href="#ç”Ÿæˆ-Change-log" class="headerlink" title="ç”Ÿæˆ Change log"></a>ç”Ÿæˆ Change log</h3><p>å¦‚æœä½ çš„æ‰€æœ‰ Commit éƒ½ç¬¦åˆ <a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0">Angular Git Commit è§„èŒƒ</a>ï¼Œé‚£ä¹ˆå‘å¸ƒæ–°ç‰ˆæœ¬æ—¶ï¼Œå°±å¯ä»¥ç”¨è„šæœ¬è‡ªåŠ¨ç”Ÿæˆ Change logã€‚</p>
<p>ç”Ÿæˆçš„æ–‡æ¡£åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ã€‚</p>
<ul>
<li>New features</li>
<li>Bug fixes</li>
<li>Breaking changes.</li>
</ul>
<p>æ¯ä¸ªéƒ¨åˆ†éƒ½ä¼šç½—åˆ—ç›¸å…³çš„ commit ï¼Œå¹¶ä¸”æœ‰æŒ‡å‘è¿™äº› commit çš„é“¾æ¥ã€‚å½“ç„¶ï¼Œç”Ÿæˆçš„æ–‡æ¡£å…è®¸æ‰‹åŠ¨ä¿®æ”¹ï¼Œæ‰€ä»¥å‘å¸ƒå‰ï¼Œä½ è¿˜å¯ä»¥æ·»åŠ å…¶ä»–å†…å®¹ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ajoslin/conventional-changelog">conventional-changelog</a> å°±æ˜¯ç”Ÿæˆ Change log çš„å·¥å…·ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g conventional-changelog</span><br><span class="line">$ <span class="built_in">cd</span> my-project</span><br><span class="line">$ conventional-changelog -p angular -i CHANGELOG.md -w</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢å‘½ä»¤ä¸ä¼šè¦†ç›–ä»¥å‰çš„ Change logï¼Œåªä¼šåœ¨<code>CHANGELOG.md</code>çš„å¤´éƒ¨åŠ ä¸Šè‡ªä»ä¸Šæ¬¡å‘å¸ƒä»¥æ¥çš„å˜åŠ¨ã€‚</p>
<p>å¦‚æœä½ æƒ³ç”Ÿæˆæ‰€æœ‰å‘å¸ƒçš„ Change logï¼Œè¦æ”¹ä¸ºè¿è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conventional-changelog -p angular -i CHANGELOG.md -w -r 0</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œå¯ä»¥å°†å…¶å†™å…¥<code>package.json</code>çš„<code>scripts</code>å­—æ®µã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;changelog&quot;</span>: <span class="string">&quot;conventional-changelog -p angular -i CHANGELOG.md -w -r 0&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥åï¼Œç›´æ¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run changelog</span><br></pre></td></tr></table></figure>

<h2 id="Git-å¥‡æŠ€æ·«å·§"><a href="#Git-å¥‡æŠ€æ·«å·§" class="headerlink" title="Git å¥‡æŠ€æ·«å·§"></a>Git å¥‡æŠ€æ·«å·§</h2><h3 id="ç”Ÿæˆ-SSH-å…¬é’¥"><a href="#ç”Ÿæˆ-SSH-å…¬é’¥" class="headerlink" title="ç”Ÿæˆ SSH å…¬é’¥"></a>ç”Ÿæˆ SSH å…¬é’¥</h3><p>è®¸å¤š Git æœåŠ¡å™¨éƒ½ä½¿ç”¨ SSH å…¬é’¥è¿›è¡Œè®¤è¯ã€‚ ä¸ºäº†å‘ Git æœåŠ¡å™¨æä¾› SSH å…¬é’¥ï¼Œå¦‚æœæŸç³»ç»Ÿç”¨æˆ·å°šæœªæ‹¥æœ‰å¯†é’¥ï¼Œå¿…é¡»äº‹å…ˆä¸ºå…¶ç”Ÿæˆä¸€ä»½ã€‚ è¿™ä¸ªè¿‡ç¨‹åœ¨æ‰€æœ‰æ“ä½œç³»ç»Ÿä¸Šéƒ½æ˜¯ç›¸ä¼¼çš„ã€‚ é¦–å…ˆï¼Œä½ éœ€è¦ç¡®è®¤è‡ªå·±æ˜¯å¦å·²ç»æ‹¥æœ‰å¯†é’¥ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œç”¨æˆ·çš„ SSH å¯†é’¥å­˜å‚¨åœ¨å…¶ <code>~/.ssh</code> ç›®å½•ä¸‹ã€‚ è¿›å…¥è¯¥ç›®å½•å¹¶åˆ—å‡ºå…¶ä¸­å†…å®¹ï¼Œä½ ä¾¿å¯ä»¥å¿«é€Ÿç¡®è®¤è‡ªå·±æ˜¯å¦å·²æ‹¥æœ‰å¯†é’¥ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> ~/.ssh</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span></span></span><br><span class="line">authorized_keys2  id_dsa       known_hosts</span><br><span class="line">config            id_dsa.pub</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬éœ€è¦å¯»æ‰¾ä¸€å¯¹ä»¥ <code>id_dsa</code> æˆ– <code>id_rsa</code> å‘½åçš„æ–‡ä»¶ï¼Œå…¶ä¸­ä¸€ä¸ªå¸¦æœ‰ <code>.pub</code> æ‰©å±•åã€‚ <code>.pub</code> æ–‡ä»¶æ˜¯ä½ çš„å…¬é’¥ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯ç§é’¥ã€‚ å¦‚æœæ‰¾ä¸åˆ°è¿™æ ·çš„æ–‡ä»¶ï¼ˆæˆ–è€…æ ¹æœ¬æ²¡æœ‰ <code>.ssh</code> ç›®å½•ï¼‰ï¼Œä½ å¯ä»¥é€šè¿‡è¿è¡Œ <code>ssh-keygen</code> ç¨‹åºæ¥åˆ›å»ºå®ƒä»¬ã€‚åœ¨ Linux&#x2F;Mac ç³»ç»Ÿä¸­ï¼Œ<code>ssh-keygen</code> éš SSH è½¯ä»¶åŒ…æä¾›ï¼›åœ¨ Windows ä¸Šï¼Œè¯¥ç¨‹åºåŒ…å«äº MSysGit è½¯ä»¶åŒ…ä¸­ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ssh-keygen</span></span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/home/schacon/.ssh/id_rsa):</span><br><span class="line">Created directory &#x27;/home/schacon/.ssh&#x27;.</span><br><span class="line">Enter passphrase (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved in /home/schacon/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved in /home/schacon/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">d0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆ <code>ssh-keygen</code> ä¼šç¡®è®¤å¯†é’¥çš„å­˜å‚¨ä½ç½®ï¼ˆé»˜è®¤æ˜¯ <code>.ssh/id_rsa</code>ï¼‰ï¼Œç„¶åå®ƒä¼šè¦æ±‚ä½ è¾“å…¥ä¸¤æ¬¡å¯†é’¥å£ä»¤ã€‚å¦‚æœä½ ä¸æƒ³åœ¨ä½¿ç”¨å¯†é’¥æ—¶è¾“å…¥å£ä»¤ï¼Œå°†å…¶ç•™ç©ºå³å¯ã€‚</p>
<p>ç°åœ¨ï¼Œè¿›è¡Œäº†ä¸Šè¿°æ“ä½œçš„ç”¨æˆ·éœ€è¦å°†å„è‡ªçš„å…¬é’¥å‘é€ç»™ä»»æ„ä¸€ä¸ª Git æœåŠ¡å™¨ç®¡ç†å‘˜ï¼ˆå‡è®¾æœåŠ¡å™¨æ­£åœ¨ä½¿ç”¨åŸºäºå…¬é’¥çš„ SSH éªŒè¯è®¾ç½®ï¼‰ã€‚ ä»–ä»¬æ‰€è¦åšçš„å°±æ˜¯å¤åˆ¶å„è‡ªçš„ <code>.pub</code> æ–‡ä»¶å†…å®¹ï¼Œå¹¶å°†å…¶é€šè¿‡é‚®ä»¶å‘é€ã€‚ å…¬é’¥çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> ~/.ssh/id_rsa.pub</span></span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU</span><br><span class="line">GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3</span><br><span class="line">Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA</span><br><span class="line">t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En</span><br><span class="line">mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx</span><br><span class="line">NrRFi9wrf+M7Q== schacon@mylaptop.local</span><br></pre></td></tr></table></figure>

<p>åœ¨ä½ çš„ Github è´¦æˆ·ä¸­ï¼Œä¾æ¬¡ç‚¹å‡» <strong>Settings</strong> &gt; <strong>SSH and GPG keys</strong> &gt; <strong>New SSH key</strong></p>
<p>ç„¶åï¼Œå°†ä¸Šé¢ç”Ÿæˆçš„å…¬é’¥å†…å®¹ç²˜è´´åˆ° <code>Key</code> ç¼–è¾‘æ¡†å¹¶ä¿å­˜ã€‚è‡³æ­¤å¤§åŠŸå‘Šæˆã€‚</p>
<p>åé¢ï¼Œä½ åœ¨å…‹éš†ä½ çš„ Github é¡¹ç›®æ—¶ä½¿ç”¨ SSH æ–¹å¼å³å¯ã€‚</p>
<p>å¦‚æœè§‰å¾—æˆ‘çš„è®²è§£è¿˜ä¸å¤Ÿç»†è‡´ï¼Œå¯ä»¥å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/">adding-a-new-ssh-key-to-your-github-account</a></p>
<h3 id="ä½¿ç”¨-gitignore-å¿½ç•¥ä¸å¿…æäº¤å†…å®¹"><a href="#ä½¿ç”¨-gitignore-å¿½ç•¥ä¸å¿…æäº¤å†…å®¹" class="headerlink" title="ä½¿ç”¨ .gitignore å¿½ç•¥ä¸å¿…æäº¤å†…å®¹"></a>ä½¿ç”¨ .gitignore å¿½ç•¥ä¸å¿…æäº¤å†…å®¹</h3><p><code>.gitignore</code> æ–‡ä»¶å¯èƒ½ä»å­—é¢å«ä¹‰ä¹Ÿä¸éš¾çŒœå‡ºï¼šè¿™ä¸ªæ–‡ä»¶é‡Œé…ç½®çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¼šè‡ªåŠ¨è¢« git æ‰€å¿½ç•¥ï¼Œä¸çº³å…¥ç‰ˆæœ¬æ§åˆ¶ã€‚</p>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬çš„é¡¹ç›®ç»å¸¸ä¼šäº§ç”Ÿä¸€äº›ä¸´æ—¶æ–‡ä»¶ï¼Œå¦‚ç¼–è¯‘ Java äº§ç”Ÿçš„ <code>*.class</code> æ–‡ä»¶ï¼Œåˆæˆ–æ˜¯ IDE è‡ªåŠ¨ç”Ÿæˆçš„éšè—ç›®å½•ï¼ˆIntellij çš„ <code>.idea</code> ç›®å½•ã€Eclipse çš„ <code>.settings</code> ç›®å½•ç­‰ï¼‰ç­‰ç­‰ã€‚è¿™äº›æ–‡ä»¶æˆ–ç›®å½•å®åœ¨æ²¡å¿…è¦çº³å…¥ç‰ˆæœ¬ç®¡ç†ã€‚åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œä½ å°±éœ€è¦ç”¨åˆ° <code>.gitignore</code> é…ç½®æ¥è¿‡æ»¤è¿™äº›æ–‡ä»¶æˆ–ç›®å½•ã€‚</p>
<p><code>.gitignore</code> é…ç½®çš„è§„åˆ™å¾ˆç®€å•ï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¯è¯´çš„ï¼Œçœ‹å‡ ä¸ªä¾‹å­ï¼Œè‡ªç„¶å°±æ˜ç™½äº†ã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘ä¸€ä»½ Java çš„ .gitignore</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Compiled class file</span></span><br><span class="line">*<span class="string">.class</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Log file</span></span><br><span class="line">*<span class="string">.log</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># BlueJ files</span></span><br><span class="line">*<span class="string">.ctxt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Mobile Tools for Java (J2ME)</span></span><br><span class="line"><span class="string">.mtj.tmp/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Package Files #</span></span><br><span class="line">*<span class="string">.jar</span></span><br><span class="line">*<span class="string">.war</span></span><br><span class="line">*<span class="string">.nar</span></span><br><span class="line">*<span class="string">.ear</span></span><br><span class="line">*<span class="string">.zip</span></span><br><span class="line">*<span class="string">.tar.gz</span></span><br><span class="line">*<span class="string">.rar</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml</span></span><br><span class="line">hs_err_pid*</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ã€æ¨èã€‘è¿™é‡Œæ¨èä¸€ä¸ª Github çš„å¼€æºé¡¹ç›®ï¼š<a target="_blank" rel="noopener" href="https://github.com/github/gitignore">gitignore</a>ï¼Œåœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æ‰¾åˆ°å¾ˆå¤šå¸¸ç”¨çš„ .gitignore æ¨¡æ¿ï¼Œå¦‚ï¼šJavaã€Nodejsã€C++ çš„ <code>.gitignore</code> æ¨¡æ¿ç­‰ç­‰ã€‚</p>
</blockquote>
<h3 id="ä½¿ç”¨-gitattributes-è§£å†³-LF-å’Œ-CRLF-é—®é¢˜"><a href="#ä½¿ç”¨-gitattributes-è§£å†³-LF-å’Œ-CRLF-é—®é¢˜" class="headerlink" title="ä½¿ç”¨ .gitattributes è§£å†³ LF å’Œ CRLF é—®é¢˜"></a>ä½¿ç”¨ .gitattributes è§£å†³ LF å’Œ CRLF é—®é¢˜</h3><p>ä½ æœ‰æ²¡æœ‰åœ¨å’Œå¤šäººååŒå¼€å‘æ—¶é‡åˆ°è¿‡ä»¥ä¸‹çƒ¦æ¼ï¼Ÿ</p>
<p>å¼€å‘è€…ä»¬åˆ†åˆ«ä½¿ç”¨ä¸åŒçš„æ“ä½œç³»ç»Ÿè¿›è¡Œå¼€å‘ï¼Œæœ‰çš„äººç”¨ Windowsï¼Œæœ‰çš„äººç”¨ Linux&#x2F;MacOSã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œä¸åŒæ“ä½œç³»ç»Ÿé»˜è®¤çš„æ–‡ä»¶ç»“å°¾è¡Œæ˜¯ä¸åŒçš„ï¼šåœ¨ Windows ä¸Šé»˜è®¤çš„æ˜¯å›è½¦æ¢è¡Œï¼ˆCarriage Return Line Feed, CRLFï¼‰ï¼Œç„¶è€Œï¼Œåœ¨ Linux&#x2F;MacOS ä¸Šåˆ™æ˜¯æ¢è¡Œï¼ˆLine Feed, LFï¼‰ã€‚è¿™å°±å¯èƒ½å¯¼è‡´è¿™ç§æƒ…å†µï¼šæ˜æ˜æ–‡ä»¶å†…å®¹ä¸€æ¨¡ä¸€æ ·ï¼Œä½†æ˜¯ç‰ˆæœ¬æ¯”å¯¹æ—¶ä»ç„¶å­˜åœ¨ç‰ˆæœ¬å·®å¼‚ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼ŸGit æä¾›äº† <code>.gitattributes</code> é…ç½®æ–‡ä»¶ï¼Œå®ƒå…è®¸ä½¿ç”¨è€…æŒ‡å®šç”± git ä½¿ç”¨çš„æ–‡ä»¶å’Œè·¯å¾„çš„å±æ€§ã€‚</p>
<p>åœ¨ Git åº“ä¸­ï¼Œä¸€ä¸ªæ™®é€šæ–‡æœ¬æ–‡ä»¶çš„è¡Œå°¾é»˜è®¤æ˜¯ <code>LF</code>ã€‚å¯¹äºå·¥ä½œç›®å½•ï¼Œé™¤äº† <code>text</code> å±æ€§ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½® <code>eol</code> å±æ€§æˆ– <code>core.eol</code> é…ç½®å˜é‡ã€‚</p>
<p><code>.gitattributes</code> æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ç”¨ text å±æ€§æŒ‡å®šæŸç±»æ–‡ä»¶æˆ–ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œæ§åˆ¶å®ƒçš„è¡Œç»“æŸæ ‡å‡†åŒ–ã€‚å½“ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶è¢«æ ‡å‡†åŒ–æ—¶ï¼Œå®ƒçš„è¡Œå°¾å°†åœ¨å­˜å‚¨åº“ä¸­è½¬æ¢ä¸º <code>LF</code>ã€‚è¦æ§åˆ¶å·¥ä½œç›®å½•ä¸­ä½¿ç”¨çš„è¡Œç»“æŸé£æ ¼ï¼Œè¯·ä½¿ç”¨å•ä¸ªæ–‡ä»¶çš„<code>eol</code>å±æ€§å’Œæ‰€æœ‰æ–‡æœ¬æ–‡ä»¶çš„ <code>core.eol</code> é…ç½®å˜é‡ã€‚</p>
<p>ã€ç¤ºä¾‹ã€‘ä¸€ä»½ .gitattributes ç¤ºä¾‹</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">* text=auto eol=lf</span><br><span class="line"></span><br><span class="line">*<span class="string">.txt</span> text</span><br><span class="line">*<span class="string">.java</span> text</span><br><span class="line">*<span class="string">.scala</span> text</span><br><span class="line">*<span class="string">.groovy</span> text</span><br><span class="line">*<span class="string">.gradle</span> text</span><br><span class="line">*<span class="string">.properties</span> text</span><br><span class="line"></span><br><span class="line"><span class="comment"># unix style</span></span><br><span class="line">*<span class="string">.sh</span> text eol=lf</span><br><span class="line"></span><br><span class="line"><span class="comment"># win style</span></span><br><span class="line">*<span class="string">.bat</span> text eol=crlf</span><br><span class="line"></span><br><span class="line"><span class="comment"># binary</span></span><br><span class="line">*<span class="string">.jar</span> binary</span><br><span class="line">*<span class="string">.war</span> binary</span><br><span class="line">*<span class="string">.zip</span> binary</span><br><span class="line">*<span class="string">.tar</span> binary</span><br><span class="line">*<span class="string">.tar.gz</span> binary</span><br><span class="line">*<span class="string">.gz</span> binary</span><br><span class="line">*<span class="string">.apk</span> binary</span><br><span class="line">*<span class="string">.bin</span> binary</span><br><span class="line">*<span class="string">.exe</span> binary</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ã€æ¨èã€‘è¿™é‡Œæ¨èä¸€ä¸ª Github çš„å¼€æºé¡¹ç›®ï¼š<a target="_blank" rel="noopener" href="https://github.com/alexkaratarakis/gitattributes">gitignore</a>ï¼Œåœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æ‰¾åˆ°å¾ˆå¤šå¸¸ç”¨çš„ .gitignore æ¨¡æ¿ï¼Œå¦‚ï¼šJavaã€Nodejsã€C++ çš„ <code>.gitignore</code> æ¨¡æ¿ç­‰ç­‰ã€‚</p>
</blockquote>
<h3 id="åŒæ—¶æäº¤ä»£ç åˆ°ä¸åŒçš„è¿œç¨‹ä»“åº“"><a href="#åŒæ—¶æäº¤ä»£ç åˆ°ä¸åŒçš„è¿œç¨‹ä»“åº“" class="headerlink" title="åŒæ—¶æäº¤ä»£ç åˆ°ä¸åŒçš„è¿œç¨‹ä»“åº“"></a>åŒæ—¶æäº¤ä»£ç åˆ°ä¸åŒçš„è¿œç¨‹ä»“åº“</h3><p>å¦‚æœï¼Œä½ åœ¨ä¸åŒçš„ Git è¿œç¨‹ä»“åº“ä¸­ç»´æŠ¤åŒä¸€ä¸ªé¡¹ç›®ï¼Œä½ å¯èƒ½ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼šèƒ½ä¸èƒ½ä¸€æ¬¡æäº¤ï¼ŒåŒæ—¶ push åˆ°å¤šä¸ªè¿œç¨‹ä»“åº“ä¸­å‘¢ï¼Ÿ</p>
<p>è¿™ä¸ªå¯ä»¥æœ‰ï¼Œè§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p>
<p>æ¯”å¦‚ï¼Œæˆ‘æœ‰ä¸€ä¸ª blog é¡¹ç›®ï¼ŒåŒæ—¶ç»´æŠ¤åœ¨ Github å’Œ Gitee ä¸Šã€‚</p>
<p>ï¼ˆ1ï¼‰é¦–å…ˆï¼Œåœ¨ Github å’Œ Gitee ä¸Šé…ç½®æœ¬åœ°çš„ ssh å…¬é’¥ï¼ˆå¦‚æœæ˜¯ Gitlabï¼Œä¹ŸåŒæ ·å¦‚æ­¤ï¼‰ï¼Œè¿™æ ·ä¸­å¤®ä»“åº“å°±èƒ½è¯†åˆ«æœ¬åœ°ã€‚</p>
<p>ç”Ÿæˆ SSH å…¬é’¥çš„æ–¹æ³•ï¼Œè¯·å‚è€ƒä¸Šæ–‡çš„ â€œç”Ÿæˆ SSH å…¬é’¥â€ ç« èŠ‚ã€‚</p>
<p>ï¼ˆ2ï¼‰è¿›å…¥ git é¡¹ç›®çš„éšè—ç›®å½• <code>.git</code>ï¼Œæ‰“å¼€ config æ–‡ä»¶ï¼Œå‚è€ƒä¸‹é¢é…ç½®è¿›è¡Œç¼–è¾‘ï¼š</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[core]</span></span><br><span class="line">	<span class="attr">repositoryformatversion</span> = <span class="number">0</span></span><br><span class="line">	<span class="attr">filemode</span> = <span class="literal">false</span></span><br><span class="line">	<span class="attr">bare</span> = <span class="literal">false</span></span><br><span class="line">	<span class="attr">logallrefupdates</span> = <span class="literal">true</span></span><br><span class="line">	<span class="attr">symlinks</span> = <span class="literal">false</span></span><br><span class="line">	<span class="attr">ignorecase</span> = <span class="literal">true</span></span><br><span class="line"><span class="section">[remote &quot;origin&quot;]</span></span><br><span class="line">	<span class="attr">url</span> = git@github.com:dunwu/blog.git</span><br><span class="line">	<span class="attr">url</span> = git@gitee.com:turnon/blog.git</span><br><span class="line">	<span class="attr">fetch</span> = +refs/heads/*:refs/remotes/origin/*</span><br><span class="line"><span class="section">[branch &quot;master&quot;]</span></span><br><span class="line">	<span class="attr">remote</span> = origin</span><br><span class="line">	<span class="attr">merge</span> = refs/heads/master</span><br><span class="line"><span class="section">[user]</span></span><br><span class="line">	<span class="attr">name</span> = dunwu</span><br><span class="line">	<span class="attr">email</span> = forbreak@<span class="number">163</span>.com</span><br></pre></td></tr></table></figure>

<p>é‡ç‚¹åœ¨äº <code>remote &quot;origin&quot;</code>ï¼ŒåŒæ—¶é…ç½®äº†ä¸¤ä¸ª urlã€‚é…ç½®åï¼Œä¸€æ—¦è§¦å‘ push è¿œç¨‹ä»“åº“çš„åŠ¨ä½œï¼Œå°±ä¼šåŒæ—¶æ¨é€æäº¤è®°å½•åˆ°é…ç½®çš„è¿œç¨‹ä»“åº“ã€‚</p>
<h3 id="Github-Issue-å’Œ-Gitlab-Issue"><a href="#Github-Issue-å’Œ-Gitlab-Issue" class="headerlink" title="Github Issue å’Œ Gitlab Issue"></a>Github Issue å’Œ Gitlab Issue</h3><p>å¼€å‘è½¯ä»¶ï¼ŒBug å†æ‰€éš¾å…ï¼Œå‡ºç°é—®é¢˜ä¸å¯æ€•ï¼Œå¯æ€•çš„æ˜¯æ”¾ä»»ä¸ç®¡ï¼›æ‰€ä»¥ï¼Œä¼˜ç§€çš„è½¯ä»¶é¡¹ç›®ï¼Œéƒ½åº”è¯¥ç®¡ç†å¥½é—®é¢˜è¿½è¸ªã€‚è½¯ä»¶çš„ä½¿ç”¨è€…ï¼Œåœ¨ä½¿ç”¨ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°å½¢å½¢è‰²è‰²çš„é—®é¢˜ï¼Œéš¾ä»¥è§£å†³ï¼Œéœ€è¦å‘ç»´æŠ¤è€…å¯»æ±‚å¸®åŠ©ã€‚</p>
<p>é—®é¢˜è¿½è¸ªå¦‚æ­¤é‡è¦ï¼Œæ‰€ä»¥å„ç§ä»£ç æ‰˜ç®¡å¹³å°éƒ½ä¼šæä¾› Issue ç»´æŠ¤æœºåˆ¶ï¼Œå¦‚ Github Issue å’Œ Gitlab Issueã€‚</p>
<p>å¦‚æœä¸€ä¸ªé¡¹ç›®çš„å¼€æºç¤¾åŒºå¾ˆæ´»è·ƒï¼Œåœ¨æ²¡æœ‰ä»»ä½•çº¦æŸçš„å‰æä¸‹ï¼Œæé—®è‚¯å®šæ˜¯äº”èŠ±å…«é—¨çš„ï¼Œè®©ç»´æŠ¤è€…éš¾ä»¥æ‹›æ¶ã€‚</p>
<p>å…¶å®ï¼Œæé—®ä¹Ÿæ˜¯ä¸€é—¨è‰ºæœ¯ï¼Œå¦‚æœæé—®è€…çš„é—®é¢˜é•¿ç¯‡å¤§å¹…ï¼Œè¨€ä¸è¾¾æ„ï¼Œè®©åˆ«äººéš¾ä»¥ç†è§£ï¼Œå°±å¾ˆéš¾å¾—åˆ°æœ‰æ•ˆå¸®åŠ©ã€‚å…³äºå¦‚ä½•é«˜æ•ˆçš„æé—®ï¼Œæ¨èå‚è€ƒ <a target="_blank" rel="noopener" href="https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way">æé—®çš„æ™ºæ…§</a> è¿™ç¯‡æ–‡ç« ï¼Œä½œè€…æ•´ç†çš„éå¸¸å¥½ã€‚</p>
<p>ä½œä¸ºå¼€å‘è€…ï¼Œä½ ä¸èƒ½æœŸæœ›æ‰€æœ‰æé—®è€…éƒ½æ˜¯è®­ç»ƒæœ‰ç´ çš„æé—®è€…ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨è§„èŒƒåŒ–çš„ Issue æ¨¡æ¿æ¥å¼•å¯¼æé—®è€…æé—®ï¼Œå¯ä»¥å¤§å¤§å‡è½»å¼€å‘è€…çš„è´Ÿæ‹…ã€‚</p>
<h4 id="Github-Issue-æ¨¡æ¿"><a href="#Github-Issue-æ¨¡æ¿" class="headerlink" title="Github Issue æ¨¡æ¿"></a>Github Issue æ¨¡æ¿</h4><p>å¦‚ä½•åœ¨ Github Issue å¹³å°ä¸Šåˆ›å»º Issue æ¨¡æ¿å‘¢ï¼Ÿæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>ï¼ˆ1ï¼‰åœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»ºæ–°ç›®å½• <code>.github</code></p>
<p>ï¼ˆ2ï¼‰åœ¨ <code>.github</code> ç›®å½•ä¸­æ·»åŠ  <code>ISSUE_TEMPLATE</code> ç›®å½•ï¼Œåœ¨å…¶ä¸­æ·»åŠ çš„ md æ–‡ä»¶éƒ½ä¼šè¢« Github è‡ªåŠ¨è¯†ï¼Œå¹¶å°†å…¶ä½œä¸º issue çš„é»˜è®¤æ¨¡æ¿ã€‚</p>
<p>ç¤ºä¾‹ï¼Œä¸‹é¢æ˜¯æºç¨‹ <a target="_blank" rel="noopener" href="https://github.com/ctripcorp/apollo">apollo</a> çš„ä¸€ä¸ª Issue æ¨¡æ¿ï¼Œè¦æ±‚æé—®è€…å¡«å…… bug æè¿°ã€å¤ç°æ­¥éª¤ã€æœŸæœ›ã€æˆªå›¾ã€æ—¥å¿—ç­‰ç»†èŠ‚ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420114644.png" alt="img"></p>
<blockquote>
<p>æ›´å¤šæ¨¡æ¿ï¼š<a target="_blank" rel="noopener" href="https://github.com/stevemao/github-issue-templates">Github issue_templates æ¨¡æ¿</a></p>
</blockquote>
<h4 id="Gitlab-Issue-æ¨¡æ¿"><a href="#Gitlab-Issue-æ¨¡æ¿" class="headerlink" title="Gitlab Issue æ¨¡æ¿"></a>Gitlab Issue æ¨¡æ¿</h4><p>å¦‚ä½•åœ¨ Gitlab Issue å¹³å°ä¸Šåˆ›å»º Issue æ¨¡æ¿å‘¢ï¼Ÿæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>ï¼ˆ1ï¼‰åœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»ºæ–°ç›®å½• <code>.gitlab</code></p>
<p>ï¼ˆ2ï¼‰åœ¨ <code>.gitlab</code> ç›®å½•ä¸­æ·»åŠ  <code>issue_templates</code> ç›®å½•ï¼Œåœ¨å…¶ä¸­æ·»åŠ çš„ md æ–‡ä»¶éƒ½ä¼šè¢« Gitlab è‡ªåŠ¨è¯†ï¼Œå¹¶å°†å…¶ä½œä¸º issue çš„é»˜è®¤æ¨¡æ¿ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20210420141838.png" alt="img"></p>
<blockquote>
<p>æ›´å¤šæ¨¡æ¿ï¼š<a target="_blank" rel="noopener" href="https://gitlab.com/gitlab-org/gitlab/-/tree/master/.gitlab/issue_templates">Gitlab å®˜æ–¹ issue_templates æ¨¡æ¿</a></p>
</blockquote>
<h3 id="Git-Hook"><a href="#Git-Hook" class="headerlink" title="Git Hook"></a>Git Hook</h3><p>åœ¨æ‰§è¡Œæäº¤ä»£ç ï¼ˆgit commitï¼‰ï¼Œæ¨é€ä»£ç ï¼ˆgit pushï¼‰ç­‰è¡Œä¸ºæ—¶ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›åšä¸€äº›ä»£ç æ£€æŸ¥æ€§å·¥ä½œï¼Œä¾‹å¦‚ï¼šä»£ç  lint æ£€æŸ¥ã€ä»£ç æ ¼å¼åŒ–ç­‰ã€‚å½“æ£€æŸ¥å‘ç°ä»£ç å­˜åœ¨é—®é¢˜æ—¶ï¼Œå°±æ‹’ç»ä»£ç æäº¤ï¼Œä»è€Œä¿è¯é¡¹ç›®è´¨é‡ã€‚</p>
<p>Git æä¾›äº† Git Hook æœºåˆ¶ï¼Œå…è®¸ä½¿ç”¨è€…åœ¨ç‰¹å®šçš„é‡è¦åŠ¨ä½œå‘ç”Ÿæ—¶è§¦å‘è‡ªå®šä¹‰è„šæœ¬ã€‚æœ‰ä¸¤ç±»é’©å­ï¼šå®¢æˆ·ç«¯é’©å­å’ŒæœåŠ¡å™¨ç«¯é’©å­ã€‚å®¢æˆ·ç«¯é’©å­ç”±è¯¸å¦‚æäº¤å’Œåˆå¹¶ç­‰æ“ä½œæ‰€è§¦å‘è°ƒç”¨ï¼Œè€ŒæœåŠ¡å™¨ç«¯é’©å­ä½œç”¨äºè¯¸å¦‚æ¥æ”¶è¢«æ¨é€çš„æäº¤è¿™æ ·çš„è”ç½‘æ“ä½œã€‚é’©å­éƒ½è¢«å­˜å‚¨åœ¨ Git é¡¹ç›®ç›®å½•ä¸‹çš„ <code>.git/hooks</code> å­ç›®å½•ä¸­ã€‚Git åœ¨è¿™ä¸ªç›®å½•ä¸‹æ”¾ç½®äº†ä¸€äº›ç¤ºä¾‹ï¼Œè¿™äº›ç¤ºä¾‹çš„åå­—éƒ½æ˜¯ä»¥ <code>.sample</code> ç»“å°¾ï¼Œå¦‚æœæƒ³å¯ç”¨å®ƒä»¬ï¼Œå¾—å…ˆç§»é™¤è¿™ä¸ªåç¼€ã€‚</p>
<p>å¸¸ç”¨çš„å®¢æˆ·ç«¯é’©å­ï¼š</p>
<ul>
<li><code>pre-commit</code> é’©å­ï¼šåœ¨æäº¤ä¿¡æ¯å‰è¿è¡Œã€‚ å®ƒç”¨äºæ£€æŸ¥å³å°†æäº¤çš„å¿«ç…§ï¼Œä¾‹å¦‚ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰æ‰€é—æ¼ï¼Œç¡®ä¿æµ‹è¯•è¿è¡Œï¼Œä»¥åŠæ ¸æŸ¥ä»£ç ã€‚ å¦‚æœè¯¥é’©å­ä»¥éé›¶å€¼é€€å‡ºï¼ŒGit å°†æ”¾å¼ƒæ­¤æ¬¡æäº¤ï¼Œä¸è¿‡ä½ å¯ä»¥ç”¨ <code>git commit --no-verify</code> æ¥ç»•è¿‡è¿™ä¸ªç¯èŠ‚ã€‚ ä½ å¯ä»¥åˆ©ç”¨è¯¥é’©å­ï¼Œæ¥æ£€æŸ¥ä»£ç é£æ ¼æ˜¯å¦ä¸€è‡´ï¼ˆè¿è¡Œç±»ä¼¼ <code>lint</code> çš„ç¨‹åºï¼‰ã€å°¾éšç©ºç™½å­—ç¬¦æ˜¯å¦å­˜åœ¨ï¼ˆè‡ªå¸¦çš„é’©å­å°±æ˜¯è¿™ä¹ˆåšçš„ï¼‰ï¼Œæˆ–æ–°æ–¹æ³•çš„æ–‡æ¡£æ˜¯å¦é€‚å½“ã€‚</li>
<li><code>prepare-commit-msg</code> é’©å­ï¼šåœ¨å¯åŠ¨æäº¤ä¿¡æ¯ç¼–è¾‘å™¨ä¹‹å‰ï¼Œé»˜è®¤ä¿¡æ¯è¢«åˆ›å»ºä¹‹åè¿è¡Œã€‚ å®ƒå…è®¸ä½ ç¼–è¾‘æäº¤è€…æ‰€çœ‹åˆ°çš„é»˜è®¤ä¿¡æ¯ã€‚ è¯¥é’©å­æ¥æ”¶ä¸€äº›é€‰é¡¹ï¼šå­˜æœ‰å½“å‰æäº¤ä¿¡æ¯çš„æ–‡ä»¶çš„è·¯å¾„ã€æäº¤ç±»å‹å’Œä¿®è¡¥æäº¤çš„æäº¤çš„ SHA-1 æ ¡éªŒã€‚ å®ƒå¯¹ä¸€èˆ¬çš„æäº¤æ¥è¯´å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ï¼›ç„¶è€Œå¯¹é‚£äº›ä¼šè‡ªåŠ¨äº§ç”Ÿé»˜è®¤ä¿¡æ¯çš„æäº¤ï¼Œå¦‚æäº¤ä¿¡æ¯æ¨¡æ¿ã€åˆå¹¶æäº¤ã€å‹ç¼©æäº¤å’Œä¿®è®¢æäº¤ç­‰éå¸¸å®ç”¨ã€‚ ä½ å¯ä»¥ç»“åˆæäº¤æ¨¡æ¿æ¥ä½¿ç”¨å®ƒï¼ŒåŠ¨æ€åœ°æ’å…¥ä¿¡æ¯ã€‚</li>
<li><code>commit-msg</code> é’©å­ï¼šæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œæ­¤å‚æ•°å³ä¸Šæ–‡æåˆ°çš„ï¼Œå­˜æœ‰å½“å‰æäº¤ä¿¡æ¯çš„ä¸´æ—¶æ–‡ä»¶çš„è·¯å¾„ã€‚ å¦‚æœè¯¥é’©å­è„šæœ¬ä»¥éé›¶å€¼é€€å‡ºï¼ŒGit å°†æ”¾å¼ƒæäº¤ï¼Œå› æ­¤ï¼Œå¯ä»¥ç”¨æ¥åœ¨æäº¤é€šè¿‡å‰éªŒè¯é¡¹ç›®çŠ¶æ€æˆ–æäº¤ä¿¡æ¯ã€‚ åœ¨æœ¬ç« çš„æœ€åä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨è¯¥é’©å­æ¥æ ¸å¯¹æäº¤ä¿¡æ¯æ˜¯å¦éµå¾ªæŒ‡å®šçš„æ¨¡æ¿ã€‚</li>
<li><code>post-commit</code> é’©å­ï¼šåœ¨æ•´ä¸ªæäº¤è¿‡ç¨‹å®Œæˆåè¿è¡Œã€‚å®ƒä¸æ¥æ”¶ä»»ä½•å‚æ•°ï¼Œä½†ä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°é€šè¿‡è¿è¡Œ <code>git log -1 HEAD</code> æ¥è·å¾—æœ€åä¸€æ¬¡çš„æäº¤ä¿¡æ¯ã€‚ è¯¥é’©å­ä¸€èˆ¬ç”¨äºé€šçŸ¥ä¹‹ç±»çš„äº‹æƒ…ã€‚</li>
<li><code>pre-push</code> é’©å­ï¼šä¼šåœ¨ <code>git push</code> è¿è¡ŒæœŸé—´ï¼Œ æ›´æ–°äº†è¿œç¨‹å¼•ç”¨ä½†å°šæœªä¼ é€å¯¹è±¡æ—¶è¢«è°ƒç”¨ã€‚ å®ƒæ¥å—è¿œç¨‹åˆ†æ”¯çš„åå­—å’Œä½ç½®ä½œä¸ºå‚æ•°ï¼ŒåŒæ—¶ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–ä¸€ç³»åˆ—å¾…æ›´æ–°çš„å¼•ç”¨ã€‚ ä½ å¯ä»¥åœ¨æ¨é€å¼€å§‹ä¹‹å‰ï¼Œç”¨å®ƒéªŒè¯å¯¹å¼•ç”¨çš„æ›´æ–°æ“ä½œï¼ˆä¸€ä¸ªéé›¶çš„é€€å‡ºç å°†ç»ˆæ­¢æ¨é€è¿‡ç¨‹ï¼‰ã€‚</li>
</ul>
<h4 id="Javascript-åº”ç”¨-Git-Hook"><a href="#Javascript-åº”ç”¨-Git-Hook" class="headerlink" title="Javascript åº”ç”¨ Git Hook"></a>Javascript åº”ç”¨ Git Hook</h4><p>æƒ³åœ¨ JavaScript åº”ç”¨ä¸­ä½¿ç”¨ Git Hookï¼Œæ¨èä½¿ç”¨ <a target="_blank" rel="noopener" href="https://github.com/typicode/husky">husky</a> ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ç¼–å†™é’©å­å¤„ç†å‘½ä»¤ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œå…ˆå®‰è£… husky</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> i -D husky</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œåœ¨ package.json ä¸­æ·»åŠ é…ç½®ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;husky&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;hooks&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;pre-commit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lint-staged&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;lint-staged&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;src/**/*.&#123;js,vue&#125;&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;eslint --fix&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;git add&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šé…ç½®çš„ä½œç”¨æ˜¯ï¼Œå½“æäº¤ä»£ç å‰ï¼ˆ <code>pre-commit</code> ï¼‰ï¼Œå…ˆæ‰§è¡Œ <code>lint-staged</code>ï¼›</p>
<p><code>lint-staged</code> ä¸­æ‰§è¡Œçš„åŠ¨ä½œæ˜¯ï¼Œå¯¹ src ç›®å½•çš„æ‰€æœ‰ jsã€vue æ–‡ä»¶è¿›è¡Œ eslint æ£€æŸ¥ï¼Œå¹¶å°è¯•ä¿®å¤ã€‚å¦‚æœä¿®å¤åæ²¡æœ‰é—®é¢˜ï¼Œå°± git add æ·»åŠ ä¿®æ”¹åçš„æ–‡ä»¶ï¼›å¦‚æœä¿®å¤å¤±è´¥ï¼Œåˆ™æ‹’ç»æäº¤ä»£ç ã€‚</p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><strong>å®˜æ–¹èµ„æº</strong><ul>
<li><a target="_blank" rel="noopener" href="https://git-scm.com/">Git å®˜ç½‘</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/git/git">Git Github</a></li>
<li><a target="_blank" rel="noopener" href="https://guides.github.com/">Github å®˜æ–¹æ•™ç¨‹</a></li>
</ul>
</li>
<li><strong>æ¨¡æ¿</strong><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/github/gitignore">gitignore æ¨¡æ¿</a> - .gitignore æ–‡ä»¶æ¨¡æ¿</li>
<li><a target="_blank" rel="noopener" href="https://github.com/alexkaratarakis/gitattributes">gitattributes æ¨¡æ¿</a> - .gitattributes æ–‡ä»¶æ¨¡æ¿</li>
<li><a target="_blank" rel="noopener" href="https://github.com/tiimgreen/github-cheat-sheet">github-cheat-sheet</a> - git å‘½ä»¤ç®€ç•¥å›¾è¡¨</li>
</ul>
</li>
<li><strong>Git æ•™ç¨‹</strong><ul>
<li><a target="_blank" rel="noopener" href="https://learngitbranching.js.org/">Learn Git branching</a> - äº¤äº’å¼æ•™ç¨‹</li>
<li><a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2">Git å®˜æ–¹æ¨èæ•™ç¨‹</a> - Scott Chacon çš„ Git ä¹¦ã€‚<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/k88hudson/git-flight-rules">git-flight-rules</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/521xueweihan/git-tips">git-tips</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/geeeeeeeeek/git-recipes">Git ä¸­æ–‡æ•™ç¨‹</a></li>
<li><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000">å»–é›ªå³°çš„ Git æ•™ç¨‹</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/xirong/my-git">æœ‰å…³ git çš„å­¦ä¹ èµ„æº</a></li>
</ul>
</li>
<li><strong>æ–‡ç« </strong><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/k88hudson/git-flight-rules/blob/master/README_zh-CN.md">Git Cookbook</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/521xueweihan/git-tips">Git å¥‡æŠ€æ·«å·§</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/aseaday/git-style-guide">Git é£æ ¼æŒ‡å—</a></li>
<li><a target="_blank" rel="noopener" href="http://www.cnblogs.com/cnblogsfans/p/5075073.html">Git åœ¨å›¢é˜Ÿä¸­çš„æœ€ä½³å®è·µâ€“å¦‚ä½•æ­£ç¡®ä½¿ç”¨ Git Flow</a></li>
<li><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html">Commit message å’Œ Change log ç¼–å†™æŒ‡å—</a></li>
</ul>
</li>
<li><strong>Git å·¥å…·</strong><ul>
<li><a target="_blank" rel="noopener" href="https://git-scm.com/downloads/guis">guis</a> - Git å®˜ç½‘å±•ç¤ºçš„å®¢æˆ·ç«¯å·¥å…·åˆ—è¡¨ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/gogits/gogs">gogs</a> - ææ˜“æ­å»ºçš„è‡ªåŠ© Git æœåŠ¡ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/nvie/gitflow">gitflow</a> - åº”ç”¨ <a target="_blank" rel="noopener" href="http://nvie.com/posts/a-successful-git-branching-model/">fit-flow</a> æ¨¡å‹çš„å·¥å…·ã€‚</li>
<li><a target="_blank" rel="noopener" href="http://firstaidgit.io/">firstaidgit.io</a> ä¸€ä¸ªå¯æœç´¢çš„æœ€å¸¸è¢«é—®åˆ°çš„ Git çš„é—®é¢˜</li>
<li><a target="_blank" rel="noopener" href="https://github.com/unixorn/git-extra-commands">git-extra-commands</a> - ä¸€å †æœ‰ç”¨çš„é¢å¤–çš„ Git è„šæœ¬</li>
<li><a target="_blank" rel="noopener" href="https://github.com/tj/git-extras">git-extras</a> - GIT å·¥å…·é›† â€“ repo summary, repl, changelog population, author commit percentages and more</li>
<li><a target="_blank" rel="noopener" href="https://github.com/qw3rtman/git-fire">git-fire</a> - git-fire æ˜¯ä¸€ä¸ª Git æ’ä»¶ï¼Œç”¨äºå¸®åŠ©åœ¨ç´§æ€¥æƒ…å†µä¸‹æ·»åŠ æ‰€æœ‰å½“å‰æ–‡ä»¶, åšæäº¤(committing), å’Œæ¨(push)åˆ°ä¸€ä¸ªæ–°åˆ†æ”¯(é˜»æ­¢åˆå¹¶å†²çª)ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/git-tips/tips">git-tips</a> - Git å°æç¤º</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Originate/git-town">git-town</a> - é€šç”¨ï¼Œé«˜çº§ Git å·¥ä½œæµæ”¯æŒï¼</li>
</ul>
</li>
<li><strong>GUI å®¢æˆ·ç«¯</strong><ul>
<li><a target="_blank" rel="noopener" href="https://www.gitkraken.com/">GitKraken</a> - è±ªåçš„ Git å®¢æˆ·ç«¯ Windows, Mac &amp; Linux</li>
<li><a target="_blank" rel="noopener" href="https://git-cola.github.io/">git-cola</a> - å¦å¤–ä¸€ä¸ª Git å®¢æˆ·ç«¯ Windows &amp; OS X</li>
<li><a target="_blank" rel="noopener" href="https://github.com/git-up/GitUp">GitUp</a> - ä¸€ä¸ªæ–°çš„ Git å®¢æˆ·ç«¯ï¼Œåœ¨å¤„ç† Git çš„å¤æ‚æ€§ä¸Šæœ‰è‡ªå·±çš„ç‰¹ç‚¹</li>
<li><a target="_blank" rel="noopener" href="https://rowanj.github.io/gitx/">gitx-dev</a> - å›¾å½¢åŒ–çš„ Git å®¢æˆ·ç«¯ OS X</li>
<li><a target="_blank" rel="noopener" href="https://www.sourcetreeapp.com/">Source Tree</a> - å…è´¹çš„å›¾å½¢åŒ– Git å®¢æˆ·ç«¯ Windows &amp; OS X</li>
<li><a target="_blank" rel="noopener" href="http://www.git-tower.com/">Tower</a> - å›¾å½¢åŒ– Git å®¢æˆ·ç«¯ OS X(ä»˜è´¹)</li>
</ul>
</li>
<li><strong>git cheat sheet</strong><ul>
<li><a target="_blank" rel="noopener" href="https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf">github-git-cheat-sheet</a></li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/pages/88d3215a/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="é’æ‚Ÿ â—¾ Dunwu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunwu Blog">
      <meta itemprop="description" content="é’æ‚Ÿçš„ä¸ªäººåšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Dunwu Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/pages/88d3215a/" class="post-title-link" itemprop="url">UML å¿«é€Ÿå…¥é—¨</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-06 00:00:00" itemprop="dateCreated datePublished" datetime="2019-03-06T00:00:00+08:00">2019-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-13 17:56:53" itemprop="dateModified" datetime="2025-09-13T17:56:53+08:00">2025-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E8%AE%BE%E8%AE%A1/" itemprop="url" rel="index"><span itemprop="name">è®¾è®¡</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E8%AE%BE%E8%AE%A1/UML/" itemprop="url" rel="index"><span itemprop="name">UML</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>940</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>1 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="UML-å¿«é€Ÿå…¥é—¨"><a href="#UML-å¿«é€Ÿå…¥é—¨" class="headerlink" title="UML å¿«é€Ÿå…¥é—¨"></a>UML å¿«é€Ÿå…¥é—¨</h1><h2 id="UML-ç®€ä»‹"><a href="#UML-ç®€ä»‹" class="headerlink" title="UML ç®€ä»‹"></a>UML ç®€ä»‹</h2><h3 id="UML-å›¾ç±»å‹"><a href="#UML-å›¾ç±»å‹" class="headerlink" title="UML å›¾ç±»å‹"></a>UML å›¾ç±»å‹</h3><p>UML å›¾ç±»å‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/design/uml/uml-diagrams.png"/></div>

<h4 id="ç»“æ„å¼å»ºæ¨¡å›¾"><a href="#ç»“æ„å¼å»ºæ¨¡å›¾" class="headerlink" title="ç»“æ„å¼å»ºæ¨¡å›¾"></a><a href="02.UML%E7%BB%93%E6%9E%84%E5%BB%BA%E6%A8%A1%E5%9B%BE.md">ç»“æ„å¼å»ºæ¨¡å›¾</a></h4><blockquote>
<p>ç»“æ„å¼å»ºæ¨¡å›¾ï¼ˆStructure diagramsï¼‰å¼ºè°ƒçš„æ˜¯ç³»ç»Ÿå¼çš„å»ºæ¨¡ã€‚ç»“æ„å›¾å®šä¹‰äº†ä¸€ä¸ªæ¨¡å‹çš„é™æ€æ¶æ„ã€‚å®ƒä»¬é€šå¸¸è¢«ç”¨æ¥å¯¹é‚£äº›æ„æˆæ¨¡å‹çš„â€˜è¦ç´ â€™å»ºæ¨¡ï¼Œè¯¸å¦‚ï¼šç±»ï¼Œå¯¹è±¡ï¼Œæ¥å£å’Œç‰©ç†ç»„ä»¶ã€‚å¦å¤–ï¼Œå®ƒä»¬ä¹Ÿè¢«ç”¨æ¥å¯¹å…ƒç´ é—´å…³è”å’Œä¾èµ–å…³ç³»è¿›è¡Œå»ºæ¨¡ã€‚</p>
</blockquote>
<ul>
<li><a href="#%E7%B1%BB%E5%9B%BE">ç±»å›¾</a></li>
<li><a href="#%E5%AF%B9%E8%B1%A1%E5%9B%BE">å¯¹è±¡å›¾</a></li>
<li><a href="#%E5%8C%85%E5%9B%BE">åŒ…å›¾</a></li>
<li><a href="#%E7%BB%84%E4%BB%B6%E5%9B%BE">ç»„ä»¶å›¾</a></li>
<li><a href="#%E9%83%A8%E7%BD%B2%E5%9B%BE">éƒ¨ç½²å›¾</a></li>
<li><a href="#%E5%A4%8D%E5%90%88%E7%BB%93%E6%9E%84%E5%9B%BE">å¤åˆç»“æ„å›¾</a></li>
</ul>
<h4 id="è¡Œä¸ºå¼å»ºæ¨¡å›¾"><a href="#è¡Œä¸ºå¼å»ºæ¨¡å›¾" class="headerlink" title="è¡Œä¸ºå¼å»ºæ¨¡å›¾"></a><a href="03.UML%E8%A1%8C%E4%B8%BA%E5%BB%BA%E6%A8%A1%E5%9B%BE.md">è¡Œä¸ºå¼å»ºæ¨¡å›¾</a></h4><blockquote>
<p>è¡Œä¸ºå¼å»ºæ¨¡å›¾ï¼ˆBehavior diagramsï¼‰å¼ºè°ƒç³»ç»Ÿæ¨¡å‹ä¸­è§¦å‘çš„äº‹ã€‚è¡Œä¸ºå›¾ç”¨æ¥è®°å½•åœ¨ä¸€ä¸ªæ¨¡å‹å†…éƒ¨ï¼Œéšæ—¶é—´çš„å˜åŒ–ï¼Œæ¨¡å‹æ‰§è¡Œçš„äº¤äº’å˜åŒ–å’Œç¬é—´çš„çŠ¶æ€ï¼›å¹¶è·Ÿè¸ªç³»ç»Ÿåœ¨çœŸå®ç¯å¢ƒä¸‹å¦‚ä½•è¡¨ç°ï¼Œä»¥åŠè§‚å¯Ÿç³»ç»Ÿå¯¹ä¸€ä¸ªæ“ä½œæˆ–äº‹ä»¶çš„ååº”ï¼Œä»¥åŠå®ƒçš„ç»“æœã€‚</p>
</blockquote>
<ul>
<li><a href="#%E6%B4%BB%E5%8A%A8%E5%9B%BE">æ´»åŠ¨å›¾</a></li>
<li><a href="#%E7%8A%B6%E6%80%81%E5%9B%BE">çŠ¶æ€å›¾</a></li>
<li><a href="#%E7%94%A8%E4%BE%8B%E5%9B%BE">ç”¨ä¾‹å›¾</a></li>
<li><a href="#%E9%80%9A%E4%BF%A1%E5%9B%BE">é€šä¿¡å›¾</a></li>
<li><a href="#%E4%BA%A4%E4%BA%92%E6%A6%82%E8%BF%B0%E5%9B%BE">äº¤äº’æ¦‚è¿°å›¾</a></li>
<li><a href="#%E6%97%B6%E5%BA%8F%E5%9B%BE">æ—¶åºå›¾</a></li>
<li><a href="#%E6%97%B6%E9%97%B4%E5%9B%BE">æ—¶é—´å›¾</a></li>
</ul>
<h3 id="UML-æ¦‚å¿µ"><a href="#UML-æ¦‚å¿µ" class="headerlink" title="UML æ¦‚å¿µ"></a>UML æ¦‚å¿µ</h3><p>UML ä»æ¥æºä¸­ä½¿ç”¨ç›¸å½“å¤šçš„æ¦‚å¿µã€‚æˆ‘ä»¬å°†ä¹‹å®šä¹‰äºç»Ÿä¸€å»ºæ¨¡è¯­è¨€æœ¯è¯­æ±‡è¡¨ã€‚ä¸‹é¢ä»…åˆ—ä»£è¡¨æ€§çš„æ¦‚å¿µã€‚</p>
<ul>
<li>å¯¹äºç»“æ„è€Œè¨€ - æ‰§è¡Œè€…ï¼Œå±æ€§ï¼Œç±»ï¼Œå…ƒä»¶ï¼Œæ¥å£ï¼Œå¯¹è±¡ï¼ŒåŒ…ã€‚</li>
<li>å¯¹äºè¡Œä¸ºè€Œè¨€ - æ´»åŠ¨ï¼ˆUMLï¼‰ï¼Œäº‹ä»¶ï¼ˆUMLï¼‰ï¼Œæ¶ˆæ¯ï¼ˆUMLï¼‰ï¼Œæ–¹æ³•ï¼ˆUMLï¼‰ï¼Œæ“ä½œï¼ˆUMLï¼‰ï¼ŒçŠ¶æ€ï¼ˆUMLï¼‰ï¼Œç”¨ä¾‹ï¼ˆUMLï¼‰ã€‚</li>
<li>å¯¹äºå…³ç³»è€Œè¨€ - èšåˆï¼Œå…³è”ï¼Œç»„åˆï¼Œç›¸ä¾ï¼Œå¹¿ä¹‰åŒ–ï¼ˆor ç»§æ‰¿ï¼‰ã€‚</li>
<li>å…¶ä»–æ¦‚å¿µ<ul>
<li>æ„é€ å‹â€”è¿™è§„èŒƒç¬¦å·åº”ç”¨åˆ°çš„æ¨¡å‹</li>
<li>å¤šé‡æ€§â€”å¤šé‡æ€§æ ‡è®°æ³•ä¸èµ„æ–™åº“å»ºæ¨¡åŸºæ•°å¯¹åº”ï¼Œä¾‹å¦‚ï¼š<code>1, 0..1, 1..*</code></li>
</ul>
</li>
</ul>
<h2 id="UML-å·¥å…·"><a href="#UML-å·¥å…·" class="headerlink" title="UML å·¥å…·"></a>UML å·¥å…·</h2><p>UML å·¥å…·éå¸¸å¤šï¼Œåˆ°åº•å“ªç§å·¥å…·å¥½ï¼ŒçœŸçš„æ˜¯ä»è€…è§ä»æ™ºè€…è§æ™ºã€‚è¿™é‡Œåˆ—ä¸¾ä¸€äº›æˆ‘æ¥è§¦è¿‡çš„ UML å·¥å…·ï¼š</p>
<h3 id="äº¿å›¾"><a href="#äº¿å›¾" class="headerlink" title="äº¿å›¾"></a>äº¿å›¾</h3><blockquote>
<p>å›½å†…å¼€å‘çš„ã€æ”¶è´¹çš„ç»˜å›¾å·¥å…·ã€‚å›¾å½¢æ¨¡æ¿ã€ç´ æéå¸¸å…¨é¢ï¼Œæ ·å¼ä¹Ÿå¾ˆç²¾ç¾ï¼Œå¯ä»¥å¯¼å‡ºä¸º wordã€pdfã€å›¾ç‰‡ã€‚</p>
<p><a target="_blank" rel="noopener" href="http://www.edrawsoft.cn/">äº¿å›¾å®˜ç½‘</a></p>
</blockquote>
<div align="center"><img src="http://www.edrawsoft.cn/images/software/createsoftware.png"/></div>

<h3 id="Visio"><a href="#Visio" class="headerlink" title="Visio"></a>Visio</h3><blockquote>
<p>Office çš„ç»˜å›¾å·¥å…·ï¼Œç‰¹ç‚¹æ˜¯ç®€å•ã€æ¸…æ™°ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://products.office.com/zh-cn/visio/flowchart-software">Visio å®˜ç½‘</a></p>
</blockquote>
<div align="center"><img src="https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE2jMC4?ver=5361&q=90&h=675&w=830&b=%23FFFFFFFF&aim=true"/></div>

<h3 id="StarUML"><a href="#StarUML" class="headerlink" title="StarUML"></a>StarUML</h3><blockquote>
<p>æ ·å¼ç²¾ç¾ï¼ŒåŠŸèƒ½å…¨é¢çš„ UML å·¥å…·ã€‚</p>
<p><a target="_blank" rel="noopener" href="http://staruml.io/">StarUML å®˜ç½‘</a></p>
</blockquote>
<div align="center"><img src="http://staruml.io/image/screenshot_jumbotron.png"/></div>

<h3 id="Astah"><a href="#Astah" class="headerlink" title="Astah"></a>Astah</h3><blockquote>
<p>æ ·å¼ä¸é”™ï¼ŒåŠŸèƒ½å…¨é¢çš„ç»˜å›¾å·¥å…·ã€‚</p>
<p><a target="_blank" rel="noopener" href="http://astah.net/">Astah å®˜ç½‘</a></p>
</blockquote>
<div align="center"><img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1539757904141&di=7e4f71d0a00ffcd87e0e5aa62f0ed168&imgtype=jpg&src=http%3A%2F%2Fimg4.imgtn.bdimg.com%2Fit%2Fu%3D3525476819%2C2924170461%26fm%3D214%26gp%3D0.jpg"/></div>

<h3 id="ArgoUML"><a href="#ArgoUML" class="headerlink" title="ArgoUML"></a>ArgoUML</h3><blockquote>
<p>UML å·¥å…·ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://argouml.en.softonic.com/?ex=CAT-759.2">ArgoUML å®˜ç½‘</a></p>
</blockquote>
<div align="center"><img src="https://gss0.bdstatic.com/-4o3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=f4e8a7c6923df8dcb23087c3ac7819ee/8b13632762d0f70315a83ced05fa513d2697c5ed.jpg"/></div>

<h3 id="ProcessOn"><a href="#ProcessOn" class="headerlink" title="ProcessOn"></a>ProcessOn</h3><blockquote>
<p>åœ¨çº¿ç»˜å›¾å·¥å…·ï¼Œç‰¹ç‚¹æ˜¯ç®€æ´ã€æ¸…æ™°ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://www.processon.com/">ProcessOn å®˜ç½‘</a></p>
</blockquote>
<h3 id="drawio"><a href="#drawio" class="headerlink" title="drawio"></a>drawio</h3><blockquote>
<p>å¼€æºçš„åœ¨çº¿ç»˜å›¾å·¥å…·ï¼Œç‰¹ç‚¹æ˜¯ç®€æ´ã€æ¸…æ™°ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://www.draw.io/">drawio å®˜ç½‘</a></p>
</blockquote>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%BB%9F%E4%B8%80%E5%BB%BA%E6%A8%A1%E8%AF%AD%E8%A8%80">Wiki-UML</a></li>
<li><a target="_blank" rel="noopener" href="https://sparxsystems.cn/resources/uml2_tutorial/index.html">Sparx UML æ•™ç¨‹</a></li>
<li><a target="_blank" rel="noopener" href="https://www.omg.org/spec/UML">OMG UML</a></li>
<li><a target="_blank" rel="noopener" href="https://www.tutorialspoint.com/uml/index.htm">UML Tutorial</a></li>
<li><a target="_blank" rel="noopener" href="https://www.w3cschool.cn/uml_tutorial/">W3Cschool UML æ•™ç¨‹</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/soft_zzti/article/details/79811923">UML å­¦ä¹ å…¥é—¨å°±è¿™ä¸€ç¯‡æ–‡ç« </a></li>
<li><a target="_blank" rel="noopener" href="http://www.cnblogs.com/ywqu/category/223486.html">http://www.cnblogs.com/ywqu/category/223486.html</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/pages/cf81414e/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="é’æ‚Ÿ â—¾ Dunwu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunwu Blog">
      <meta itemprop="description" content="é’æ‚Ÿçš„ä¸ªäººåšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Dunwu Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/pages/cf81414e/" class="post-title-link" itemprop="url">è®¡ç®—æœºç½‘ç»œä¹‹ä¼ è¾“å±‚</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2019-02-25 20:27:00" itemprop="dateCreated datePublished" datetime="2019-02-25T20:27:00+08:00">2019-02-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-13 17:56:53" itemprop="dateModified" datetime="2025-09-13T17:56:53+08:00">2025-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">ç½‘ç»œ</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E7%BB%BC%E5%90%88/" itemprop="url" rel="index"><span itemprop="name">ç½‘ç»œç»¼åˆ</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>3.4k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>3 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="è®¡ç®—æœºç½‘ç»œä¹‹ä¼ è¾“å±‚"><a href="#è®¡ç®—æœºç½‘ç»œä¹‹ä¼ è¾“å±‚" class="headerlink" title="è®¡ç®—æœºç½‘ç»œä¹‹ä¼ è¾“å±‚"></a>è®¡ç®—æœºç½‘ç»œä¹‹ä¼ è¾“å±‚</h1><blockquote>
<p>ç½‘ç»œå±‚åªæŠŠåˆ†ç»„å‘é€åˆ°ç›®çš„ä¸»æœºï¼Œä½†æ˜¯çœŸæ­£é€šä¿¡çš„å¹¶ä¸æ˜¯ä¸»æœºè€Œæ˜¯ä¸»æœºä¸­çš„è¿›ç¨‹ã€‚ä¼ è¾“å±‚æä¾›äº†è¿›ç¨‹é—´çš„é€»è¾‘é€šä¿¡ï¼Œä¼ è¾“å±‚å‘é«˜å±‚ç”¨æˆ·å±è”½äº†ä¸‹é¢ç½‘ç»œå±‚çš„æ ¸å¿ƒç»†èŠ‚ï¼Œä½¿åº”ç”¨ç¨‹åºçœ‹èµ·æ¥åƒæ˜¯åœ¨ä¸¤ä¸ªä¼ è¾“å±‚å®ä½“ä¹‹é—´æœ‰ä¸€æ¡ç«¯åˆ°ç«¯çš„é€»è¾‘é€šä¿¡ä¿¡é“ã€‚</p>
</blockquote>
<h2 id="UDP-å’Œ-TCP-çš„ç‰¹ç‚¹"><a href="#UDP-å’Œ-TCP-çš„ç‰¹ç‚¹" class="headerlink" title="UDP å’Œ TCP çš„ç‰¹ç‚¹"></a>UDP å’Œ TCP çš„ç‰¹ç‚¹</h2><ul>
<li><p>ç”¨æˆ·æ•°æ®æŠ¥åè®® UDPï¼ˆUser Datagram Protocolï¼‰æ˜¯æ— è¿æ¥çš„ï¼Œå°½æœ€å¤§å¯èƒ½äº¤ä»˜ï¼Œæ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œé¢å‘æŠ¥æ–‡ï¼ˆå¯¹äºåº”ç”¨ç¨‹åºä¼ ä¸‹æ¥çš„æŠ¥æ–‡ä¸åˆå¹¶ä¹Ÿä¸æ‹†åˆ†ï¼Œåªæ˜¯æ·»åŠ  UDP é¦–éƒ¨ï¼‰ï¼Œæ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡ã€‚</p>
</li>
<li><p>ä¼ è¾“æ§åˆ¶åè®® TCPï¼ˆTransmission Control Protocolï¼‰æ˜¯é¢å‘è¿æ¥çš„ï¼Œæä¾›å¯é äº¤ä»˜ï¼Œæœ‰æµé‡æ§åˆ¶ï¼Œæ‹¥å¡æ§åˆ¶ï¼Œæä¾›å…¨åŒå·¥é€šä¿¡ï¼Œé¢å‘å­—èŠ‚æµï¼ˆæŠŠåº”ç”¨å±‚ä¼ ä¸‹æ¥çš„æŠ¥æ–‡çœ‹æˆå­—èŠ‚æµï¼ŒæŠŠå­—èŠ‚æµç»„ç»‡æˆå¤§å°ä¸ç­‰çš„æ•°æ®å—ï¼‰ï¼Œæ¯ä¸€æ¡ TCP è¿æ¥åªèƒ½æ˜¯ç‚¹å¯¹ç‚¹çš„ï¼ˆä¸€å¯¹ä¸€ï¼‰ã€‚</p>
</li>
</ul>
<h2 id="UDP-é¦–éƒ¨æ ¼å¼"><a href="#UDP-é¦–éƒ¨æ ¼å¼" class="headerlink" title="UDP é¦–éƒ¨æ ¼å¼"></a>UDP é¦–éƒ¨æ ¼å¼</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/transport/1551092392065.png" alt="img"></p>
<p>é¦–éƒ¨å­—æ®µåªæœ‰ 8 ä¸ªå­—èŠ‚ï¼ŒåŒ…æ‹¬æºç«¯å£ã€ç›®çš„ç«¯å£ã€é•¿åº¦ã€æ£€éªŒå’Œã€‚12 å­—èŠ‚çš„ä¼ªé¦–éƒ¨æ˜¯ä¸ºäº†è®¡ç®—æ£€éªŒå’Œä¸´æ—¶æ·»åŠ çš„ã€‚</p>
<h2 id="TCP-é¦–éƒ¨æ ¼å¼"><a href="#TCP-é¦–éƒ¨æ ¼å¼" class="headerlink" title="TCP é¦–éƒ¨æ ¼å¼"></a>TCP é¦–éƒ¨æ ¼å¼</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/transport/1551092419042.png" alt="img"></p>
<ul>
<li><p><strong>åºå·</strong> ï¼šç”¨äºå¯¹å­—èŠ‚æµè¿›è¡Œç¼–å·ï¼Œä¾‹å¦‚åºå·ä¸º 301ï¼Œè¡¨ç¤ºç¬¬ä¸€ä¸ªå­—èŠ‚çš„ç¼–å·ä¸º 301ï¼Œå¦‚æœæºå¸¦çš„æ•°æ®é•¿åº¦ä¸º 100 å­—èŠ‚ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„åºå·åº”ä¸º 401ã€‚</p>
</li>
<li><p><strong>ç¡®è®¤å·</strong> ï¼šæœŸæœ›æ”¶åˆ°çš„ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„åºå·ã€‚ä¾‹å¦‚ B æ­£ç¡®æ”¶åˆ° A å‘é€æ¥çš„ä¸€ä¸ªæŠ¥æ–‡æ®µï¼Œåºå·ä¸º 501ï¼Œæºå¸¦çš„æ•°æ®é•¿åº¦ä¸º 200 å­—èŠ‚ï¼Œå› æ­¤ B æœŸæœ›ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„åºå·ä¸º 701ï¼ŒB å‘é€ç»™ A çš„ç¡®è®¤æŠ¥æ–‡æ®µä¸­ç¡®è®¤å·å°±ä¸º 701ã€‚</p>
</li>
<li><p><strong>æ•°æ®åç§»</strong> ï¼šæŒ‡çš„æ˜¯æ•°æ®éƒ¨åˆ†è·ç¦»æŠ¥æ–‡æ®µèµ·å§‹å¤„çš„åç§»é‡ï¼Œå®é™…ä¸ŠæŒ‡çš„æ˜¯é¦–éƒ¨çš„é•¿åº¦ã€‚</p>
</li>
<li><p><strong>ç¡®è®¤ ACK</strong> ï¼šå½“ ACK&#x3D;1 æ—¶ç¡®è®¤å·å­—æ®µæœ‰æ•ˆï¼Œå¦åˆ™æ— æ•ˆã€‚TCP è§„å®šï¼Œåœ¨è¿æ¥å»ºç«‹åæ‰€æœ‰ä¼ é€çš„æŠ¥æ–‡æ®µéƒ½å¿…é¡»æŠŠ ACK ç½® 1ã€‚</p>
</li>
<li><p><strong>åŒæ­¥ SYN</strong> ï¼šåœ¨è¿æ¥å»ºç«‹æ—¶ç”¨æ¥åŒæ­¥åºå·ã€‚å½“ SYN&#x3D;1ï¼ŒACK&#x3D;0 æ—¶è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µã€‚è‹¥å¯¹æ–¹åŒæ„å»ºç«‹è¿æ¥ï¼Œåˆ™å“åº”æŠ¥æ–‡ä¸­ SYN&#x3D;1ï¼ŒACK&#x3D;1ã€‚</p>
</li>
<li><p><strong>ç»ˆæ­¢ FIN</strong> ï¼šç”¨æ¥é‡Šæ”¾ä¸€ä¸ªè¿æ¥ï¼Œå½“ FIN&#x3D;1 æ—¶ï¼Œè¡¨ç¤ºæ­¤æŠ¥æ–‡æ®µçš„å‘é€æ–¹çš„æ•°æ®å·²å‘é€å®Œæ¯•ï¼Œå¹¶è¦æ±‚é‡Šæ”¾è¿æ¥ã€‚</p>
</li>
<li><p><strong>çª—å£</strong> ï¼šçª—å£å€¼ä½œä¸ºæ¥æ”¶æ–¹è®©å‘é€æ–¹è®¾ç½®å…¶å‘é€çª—å£çš„ä¾æ®ã€‚ä¹‹æ‰€ä»¥è¦æœ‰è¿™ä¸ªé™åˆ¶ï¼Œæ˜¯å› ä¸ºæ¥æ”¶æ–¹çš„æ•°æ®ç¼“å­˜ç©ºé—´æ˜¯æœ‰é™çš„ã€‚</p>
</li>
</ul>
<h2 id="TCP-çš„ä¸‰æ¬¡æ¡æ‰‹"><a href="#TCP-çš„ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="TCP çš„ä¸‰æ¬¡æ¡æ‰‹"></a>TCP çš„ä¸‰æ¬¡æ¡æ‰‹</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/transport/1551092794258.png" alt="img"></p>
<p>å‡è®¾ A ä¸ºå®¢æˆ·ç«¯ï¼ŒB ä¸ºæœåŠ¡å™¨ç«¯ã€‚</p>
<ul>
<li><p>é¦–å…ˆ B å¤„äº LISTENï¼ˆç›‘å¬ï¼‰çŠ¶æ€ï¼Œç­‰å¾…å®¢æˆ·çš„è¿æ¥è¯·æ±‚ã€‚</p>
</li>
<li><p>A å‘ B å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼ŒSYN&#x3D;1ï¼ŒACK&#x3D;0ï¼Œé€‰æ‹©ä¸€ä¸ªåˆå§‹çš„åºå· xã€‚</p>
</li>
<li><p>B æ”¶åˆ°è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼Œå¦‚æœåŒæ„å»ºç«‹è¿æ¥ï¼Œåˆ™å‘ A å‘é€è¿æ¥ç¡®è®¤æŠ¥æ–‡ï¼ŒSYN&#x3D;1ï¼ŒACK&#x3D;1ï¼Œç¡®è®¤å·ä¸º x+1ï¼ŒåŒæ—¶ä¹Ÿé€‰æ‹©ä¸€ä¸ªåˆå§‹çš„åºå· yã€‚</p>
</li>
<li><p>A æ”¶åˆ° B çš„è¿æ¥ç¡®è®¤æŠ¥æ–‡åï¼Œè¿˜è¦å‘ B å‘å‡ºç¡®è®¤ï¼Œç¡®è®¤å·ä¸º y+1ï¼Œåºå·ä¸º x+1ã€‚</p>
</li>
<li><p>B æ”¶åˆ° A çš„ç¡®è®¤åï¼Œè¿æ¥å»ºç«‹ã€‚</p>
</li>
</ul>
<p><strong>ä¸‰æ¬¡æ¡æ‰‹çš„åŸå› </strong></p>
<p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ˜¯ä¸ºäº†é˜²æ­¢å¤±æ•ˆçš„è¿æ¥è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ï¼Œè®©æœåŠ¡å™¨é”™è¯¯æ‰“å¼€è¿æ¥ã€‚</p>
<p>å®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚å¦‚æœåœ¨ç½‘ç»œä¸­æ»ç•™ï¼Œé‚£ä¹ˆå°±ä¼šéš”å¾ˆé•¿ä¸€æ®µæ—¶é—´æ‰èƒ½æ”¶åˆ°æœåŠ¡å™¨ç«¯å‘å›çš„è¿æ¥ç¡®è®¤ã€‚å®¢æˆ·ç«¯ç­‰å¾…ä¸€ä¸ªè¶…æ—¶é‡ä¼ æ—¶é—´ä¹‹åï¼Œå°±ä¼šé‡æ–°è¯·æ±‚è¿æ¥ã€‚ä½†æ˜¯è¿™ä¸ªæ»ç•™çš„è¿æ¥è¯·æ±‚æœ€åè¿˜æ˜¯ä¼šåˆ°è¾¾æœåŠ¡å™¨ï¼Œå¦‚æœä¸è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šæ‰“å¼€ä¸¤ä¸ªè¿æ¥ã€‚å¦‚æœæœ‰ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯ä¼šå¿½ç•¥æœåŠ¡å™¨ä¹‹åå‘é€çš„å¯¹æ»ç•™è¿æ¥è¯·æ±‚çš„è¿æ¥ç¡®è®¤ï¼Œä¸è¿›è¡Œç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå› æ­¤å°±ä¸ä¼šå†æ¬¡æ‰“å¼€è¿æ¥ã€‚</p>
<h2 id="TCP-çš„å››æ¬¡æŒ¥æ‰‹"><a href="#TCP-çš„å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="TCP çš„å››æ¬¡æŒ¥æ‰‹"></a>TCP çš„å››æ¬¡æŒ¥æ‰‹</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/transport/1551092825974.png" alt="img"></p>
<p>ä»¥ä¸‹æè¿°ä¸è®¨è®ºåºå·å’Œç¡®è®¤å·ï¼Œå› ä¸ºåºå·å’Œç¡®è®¤å·çš„è§„åˆ™æ¯”è¾ƒç®€å•ã€‚å¹¶ä¸”ä¸è®¨è®º ACKï¼Œå› ä¸º ACK åœ¨è¿æ¥å»ºç«‹ä¹‹åéƒ½ä¸º 1ã€‚</p>
<ul>
<li><p>A å‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡ï¼ŒFIN&#x3D;1ã€‚</p>
</li>
<li><p>B æ”¶åˆ°ä¹‹åå‘å‡ºç¡®è®¤ï¼Œæ­¤æ—¶ TCP å±äºåŠå…³é—­çŠ¶æ€ï¼ŒB èƒ½å‘ A å‘é€æ•°æ®ä½†æ˜¯ A ä¸èƒ½å‘ B å‘é€æ•°æ®ã€‚</p>
</li>
<li><p>å½“ B ä¸å†éœ€è¦è¿æ¥æ—¶ï¼Œå‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡ï¼ŒFIN&#x3D;1ã€‚</p>
</li>
<li><p>A æ”¶åˆ°åå‘å‡ºç¡®è®¤ï¼Œè¿›å…¥ TIME-WAIT çŠ¶æ€ï¼Œç­‰å¾… 2 MSLï¼ˆæœ€å¤§æŠ¥æ–‡å­˜æ´»æ—¶é—´ï¼‰åé‡Šæ”¾è¿æ¥ã€‚</p>
</li>
<li><p>B æ”¶åˆ° A çš„ç¡®è®¤åé‡Šæ”¾è¿æ¥ã€‚</p>
</li>
</ul>
<p><strong>å››æ¬¡æŒ¥æ‰‹çš„åŸå› </strong></p>
<p>å®¢æˆ·ç«¯å‘é€äº† FIN è¿æ¥é‡Šæ”¾æŠ¥æ–‡ä¹‹åï¼ŒæœåŠ¡å™¨æ”¶åˆ°äº†è¿™ä¸ªæŠ¥æ–‡ï¼Œå°±è¿›å…¥äº† CLOSE-WAIT çŠ¶æ€ã€‚è¿™ä¸ªçŠ¶æ€æ˜¯ä¸ºäº†è®©æœåŠ¡å™¨ç«¯å‘é€è¿˜æœªä¼ é€å®Œæ¯•çš„æ•°æ®ï¼Œä¼ é€å®Œæ¯•ä¹‹åï¼ŒæœåŠ¡å™¨ä¼šå‘é€ FIN è¿æ¥é‡Šæ”¾æŠ¥æ–‡ã€‚</p>
<p><strong>TIME_WAIT</strong></p>
<p>å®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡å™¨ç«¯çš„ FIN æŠ¥æ–‡åè¿›å…¥æ­¤çŠ¶æ€ï¼Œæ­¤æ—¶å¹¶ä¸æ˜¯ç›´æ¥è¿›å…¥ CLOSED çŠ¶æ€ï¼Œè¿˜éœ€è¦ç­‰å¾…ä¸€ä¸ªæ—¶é—´è®¡æ—¶å™¨è®¾ç½®çš„æ—¶é—´ 2MSLã€‚è¿™ä¹ˆåšæœ‰ä¸¤ä¸ªç†ç”±ï¼š</p>
<ul>
<li><p>ç¡®ä¿æœ€åä¸€ä¸ªç¡®è®¤æŠ¥æ–‡èƒ½å¤Ÿåˆ°è¾¾ã€‚å¦‚æœ B æ²¡æ”¶åˆ° A å‘é€æ¥çš„ç¡®è®¤æŠ¥æ–‡ï¼Œé‚£ä¹ˆå°±ä¼šé‡æ–°å‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚æŠ¥æ–‡ï¼ŒA ç­‰å¾…ä¸€æ®µæ—¶é—´å°±æ˜¯ä¸ºäº†å¤„ç†è¿™ç§æƒ…å†µçš„å‘ç”Ÿã€‚</p>
</li>
<li><p>ç­‰å¾…ä¸€æ®µæ—¶é—´æ˜¯ä¸ºäº†è®©æœ¬è¿æ¥æŒç»­æ—¶é—´å†…æ‰€äº§ç”Ÿçš„æ‰€æœ‰æŠ¥æ–‡éƒ½ä»ç½‘ç»œä¸­æ¶ˆå¤±ï¼Œä½¿å¾—ä¸‹ä¸€ä¸ªæ–°çš„è¿æ¥ä¸ä¼šå‡ºç°æ—§çš„è¿æ¥è¯·æ±‚æŠ¥æ–‡ã€‚</p>
</li>
</ul>
<h2 id="TCP-å¯é ä¼ è¾“"><a href="#TCP-å¯é ä¼ è¾“" class="headerlink" title="TCP å¯é ä¼ è¾“"></a>TCP å¯é ä¼ è¾“</h2><p>TCP ä½¿ç”¨è¶…æ—¶é‡ä¼ æ¥å®ç°å¯é ä¼ è¾“ï¼šå¦‚æœä¸€ä¸ªå·²ç»å‘é€çš„æŠ¥æ–‡æ®µåœ¨è¶…æ—¶æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œé‚£ä¹ˆå°±é‡ä¼ è¿™ä¸ªæŠ¥æ–‡æ®µã€‚</p>
<p>ä¸€ä¸ªæŠ¥æ–‡æ®µä»å‘é€å†åˆ°æ¥æ”¶åˆ°ç¡®è®¤æ‰€ç»è¿‡çš„æ—¶é—´ç§°ä¸ºå¾€è¿”æ—¶é—´ RTTï¼ŒåŠ æƒå¹³å‡å¾€è¿”æ—¶é—´ RTTs è®¡ç®—å¦‚ä¸‹ï¼š</p>
<p><img src="https://latex.codecogs.com/gif.latex?RTTs=(1-a)*(RTTs)+a*RTT" alt="img"> <br></p>
<p>å…¶ä¸­ï¼Œ0 â‰¤ a ï¼œ 1ï¼ŒRTTs éšç€ a çš„å¢åŠ æ›´å®¹æ˜“å—åˆ° RTT çš„å½±å“ã€‚</p>
<p>è¶…æ—¶æ—¶é—´ RTO åº”è¯¥ç•¥å¤§äº RTTsï¼ŒTCP ä½¿ç”¨çš„è¶…æ—¶æ—¶é—´è®¡ç®—å¦‚ä¸‹ï¼š</p>
<p><img src="https://latex.codecogs.com/gif.latex?RTO=RTTs+4*RTT_d" alt="img"> <br></p>
<p>å…¶ä¸­ RTT<sub>d</sub> ä¸ºåå·®çš„åŠ æƒå¹³å‡å€¼ã€‚</p>
<h2 id="TCP-æ»‘åŠ¨çª—å£"><a href="#TCP-æ»‘åŠ¨çª—å£" class="headerlink" title="TCP æ»‘åŠ¨çª—å£"></a>TCP æ»‘åŠ¨çª—å£</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/transport/1551092841802.png" alt="img"></p>
<p>çª—å£æ˜¯ç¼“å­˜çš„ä¸€éƒ¨åˆ†ï¼Œç”¨æ¥æš‚æ—¶å­˜æ”¾å­—èŠ‚æµã€‚å‘é€æ–¹å’Œæ¥æ”¶æ–¹å„æœ‰ä¸€ä¸ªçª—å£ï¼Œæ¥æ”¶æ–¹é€šè¿‡ TCP æŠ¥æ–‡æ®µä¸­çš„çª—å£å­—æ®µå‘Šè¯‰å‘é€æ–¹è‡ªå·±çš„çª—å£å¤§å°ï¼Œå‘é€æ–¹æ ¹æ®è¿™ä¸ªå€¼å’Œå…¶å®ƒä¿¡æ¯è®¾ç½®è‡ªå·±çš„çª—å£å¤§å°ã€‚</p>
<p>å‘é€çª—å£å†…çš„å­—èŠ‚éƒ½å…è®¸è¢«å‘é€ï¼Œæ¥æ”¶çª—å£å†…çš„å­—èŠ‚éƒ½å…è®¸è¢«æ¥æ”¶ã€‚å¦‚æœå‘é€çª—å£å·¦éƒ¨çš„å­—èŠ‚å·²ç»å‘é€å¹¶ä¸”æ”¶åˆ°äº†ç¡®è®¤ï¼Œé‚£ä¹ˆå°±å°†å‘é€çª—å£å‘å³æ»‘åŠ¨ä¸€å®šè·ç¦»ï¼Œç›´åˆ°å·¦éƒ¨ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸æ˜¯å·²å‘é€å¹¶ä¸”å·²ç¡®è®¤çš„çŠ¶æ€ï¼›æ¥æ”¶çª—å£çš„æ»‘åŠ¨ç±»ä¼¼ï¼Œæ¥æ”¶çª—å£å·¦éƒ¨å­—èŠ‚å·²ç»å‘é€ç¡®è®¤å¹¶äº¤ä»˜ä¸»æœºï¼Œå°±å‘å³æ»‘åŠ¨æ¥æ”¶çª—å£ã€‚</p>
<p>æ¥æ”¶çª—å£åªä¼šå¯¹çª—å£å†…æœ€åä¸€ä¸ªæŒ‰åºåˆ°è¾¾çš„å­—èŠ‚è¿›è¡Œç¡®è®¤ï¼Œä¾‹å¦‚æ¥æ”¶çª—å£å·²ç»æ”¶åˆ°çš„å­—èŠ‚ä¸º {31, 34, 35}ï¼Œå…¶ä¸­ {31} æŒ‰åºåˆ°è¾¾ï¼Œè€Œ {34, 35} å°±ä¸æ˜¯ï¼Œå› æ­¤åªå¯¹å­—èŠ‚ 31 è¿›è¡Œç¡®è®¤ã€‚å‘é€æ–¹å¾—åˆ°ä¸€ä¸ªå­—èŠ‚çš„ç¡®è®¤ä¹‹åï¼Œå°±çŸ¥é“è¿™ä¸ªå­—èŠ‚ä¹‹å‰çš„æ‰€æœ‰å­—èŠ‚éƒ½å·²ç»è¢«æ¥æ”¶ã€‚</p>
<h2 id="TCP-æµé‡æ§åˆ¶"><a href="#TCP-æµé‡æ§åˆ¶" class="headerlink" title="TCP æµé‡æ§åˆ¶"></a>TCP æµé‡æ§åˆ¶</h2><p>æµé‡æ§åˆ¶æ˜¯ä¸ºäº†æ§åˆ¶å‘é€æ–¹å‘é€é€Ÿç‡ï¼Œä¿è¯æ¥æ”¶æ–¹æ¥å¾—åŠæ¥æ”¶ã€‚</p>
<p>æ¥æ”¶æ–¹å‘é€çš„ç¡®è®¤æŠ¥æ–‡ä¸­çš„çª—å£å­—æ®µå¯ä»¥ç”¨æ¥æ§åˆ¶å‘é€æ–¹çª—å£å¤§å°ï¼Œä»è€Œå½±å“å‘é€æ–¹çš„å‘é€é€Ÿç‡ã€‚å°†çª—å£å­—æ®µè®¾ç½®ä¸º 0ï¼Œåˆ™å‘é€æ–¹ä¸èƒ½å‘é€æ•°æ®ã€‚</p>
<h2 id="TCP-æ‹¥å¡æ§åˆ¶"><a href="#TCP-æ‹¥å¡æ§åˆ¶" class="headerlink" title="TCP æ‹¥å¡æ§åˆ¶"></a>TCP æ‹¥å¡æ§åˆ¶</h2><p>å¦‚æœç½‘ç»œå‡ºç°æ‹¥å¡ï¼Œåˆ†ç»„å°†ä¼šä¸¢å¤±ï¼Œæ­¤æ—¶å‘é€æ–¹ä¼šç»§ç»­é‡ä¼ ï¼Œä»è€Œå¯¼è‡´ç½‘ç»œæ‹¥å¡ç¨‹åº¦æ›´é«˜ã€‚å› æ­¤å½“å‡ºç°æ‹¥å¡æ—¶ï¼Œåº”å½“æ§åˆ¶å‘é€æ–¹çš„é€Ÿç‡ã€‚è¿™ä¸€ç‚¹å’Œæµé‡æ§åˆ¶å¾ˆåƒï¼Œä½†æ˜¯å‡ºå‘ç‚¹ä¸åŒã€‚æµé‡æ§åˆ¶æ˜¯ä¸ºäº†è®©æ¥æ”¶æ–¹èƒ½æ¥å¾—åŠæ¥æ”¶ï¼Œè€Œæ‹¥å¡æ§åˆ¶æ˜¯ä¸ºäº†é™ä½æ•´ä¸ªç½‘ç»œçš„æ‹¥å¡ç¨‹åº¦ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/transport/1551092981695.png" alt="img"></p>
<p>TCP ä¸»è¦é€šè¿‡å››ä¸ªç®—æ³•æ¥è¿›è¡Œæ‹¥å¡æ§åˆ¶ï¼šæ…¢å¼€å§‹ã€æ‹¥å¡é¿å…ã€å¿«é‡ä¼ ã€å¿«æ¢å¤ã€‚</p>
<p>å‘é€æ–¹éœ€è¦ç»´æŠ¤ä¸€ä¸ªå«åšæ‹¥å¡çª—å£ï¼ˆcwndï¼‰çš„çŠ¶æ€å˜é‡ï¼Œæ³¨æ„æ‹¥å¡çª—å£ä¸å‘é€æ–¹çª—å£çš„åŒºåˆ«ï¼šæ‹¥å¡çª—å£åªæ˜¯ä¸€ä¸ªçŠ¶æ€å˜é‡ï¼Œå®é™…å†³å®šå‘é€æ–¹èƒ½å‘é€å¤šå°‘æ•°æ®çš„æ˜¯å‘é€æ–¹çª—å£ã€‚</p>
<p>ä¸ºäº†ä¾¿äºè®¨è®ºï¼Œåšå¦‚ä¸‹å‡è®¾ï¼š</p>
<ul>
<li>æ¥æ”¶æ–¹æœ‰è¶³å¤Ÿå¤§çš„æ¥æ”¶ç¼“å­˜ï¼Œå› æ­¤ä¸ä¼šå‘ç”Ÿæµé‡æ§åˆ¶ï¼›</li>
<li>è™½ç„¶ TCP çš„çª—å£åŸºäºå­—èŠ‚ï¼Œä½†æ˜¯è¿™é‡Œè®¾çª—å£çš„å¤§å°å•ä½ä¸ºæŠ¥æ–‡æ®µã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/transport/1551093119265.png" alt="img"></p>
<h3 id="æ…¢å¼€å§‹ä¸æ‹¥å¡é¿å…"><a href="#æ…¢å¼€å§‹ä¸æ‹¥å¡é¿å…" class="headerlink" title="æ…¢å¼€å§‹ä¸æ‹¥å¡é¿å…"></a>æ…¢å¼€å§‹ä¸æ‹¥å¡é¿å…</h3><p>å‘é€çš„æœ€åˆæ‰§è¡Œæ…¢å¼€å§‹ï¼Œä»¤ cwnd &#x3D; 1ï¼Œå‘é€æ–¹åªèƒ½å‘é€ 1 ä¸ªæŠ¥æ–‡æ®µï¼›å½“æ”¶åˆ°ç¡®è®¤åï¼Œå°† cwnd åŠ å€ï¼Œå› æ­¤ä¹‹åå‘é€æ–¹èƒ½å¤Ÿå‘é€çš„æŠ¥æ–‡æ®µæ•°é‡ä¸ºï¼š2ã€4ã€8 â€¦</p>
<p>æ³¨æ„åˆ°æ…¢å¼€å§‹æ¯ä¸ªè½®æ¬¡éƒ½å°† cwnd åŠ å€ï¼Œè¿™æ ·ä¼šè®© cwnd å¢é•¿é€Ÿåº¦éå¸¸å¿«ï¼Œä»è€Œä½¿å¾—å‘é€æ–¹å‘é€çš„é€Ÿåº¦å¢é•¿é€Ÿåº¦è¿‡å¿«ï¼Œç½‘ç»œæ‹¥å¡çš„å¯èƒ½æ€§ä¹Ÿå°±æ›´é«˜ã€‚è®¾ç½®ä¸€ä¸ªæ…¢å¼€å§‹é—¨é™ ssthreshï¼Œå½“ cwnd &gt;&#x3D; ssthresh æ—¶ï¼Œè¿›å…¥æ‹¥å¡é¿å…ï¼Œæ¯ä¸ªè½®æ¬¡åªå°† cwnd åŠ  1ã€‚</p>
<p>å¦‚æœå‡ºç°äº†è¶…æ—¶ï¼Œåˆ™ä»¤ ssthresh &#x3D; cwnd &#x2F; 2ï¼Œç„¶åé‡æ–°æ‰§è¡Œæ…¢å¼€å§‹ã€‚</p>
<h3 id="å¿«é‡ä¼ ä¸å¿«æ¢å¤"><a href="#å¿«é‡ä¼ ä¸å¿«æ¢å¤" class="headerlink" title="å¿«é‡ä¼ ä¸å¿«æ¢å¤"></a>å¿«é‡ä¼ ä¸å¿«æ¢å¤</h3><p>åœ¨æ¥æ”¶æ–¹ï¼Œè¦æ±‚æ¯æ¬¡æ¥æ”¶åˆ°æŠ¥æ–‡æ®µéƒ½åº”è¯¥å¯¹æœ€åä¸€ä¸ªå·²æ”¶åˆ°çš„æœ‰åºæŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ã€‚ä¾‹å¦‚å·²ç»æ¥æ”¶åˆ° M<sub>1</sub> å’Œ M<sub>2</sub>ï¼Œæ­¤æ—¶æ”¶åˆ° M<sub>4</sub>ï¼Œåº”å½“å‘é€å¯¹ M<sub>2</sub> çš„ç¡®è®¤ã€‚</p>
<p>åœ¨å‘é€æ–¹ï¼Œå¦‚æœæ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤ï¼Œé‚£ä¹ˆå¯ä»¥çŸ¥é“ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µä¸¢å¤±ï¼Œæ­¤æ—¶æ‰§è¡Œå¿«é‡ä¼ ï¼Œç«‹å³é‡ä¼ ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µã€‚ä¾‹å¦‚æ”¶åˆ°ä¸‰ä¸ª M<sub>2</sub>ï¼Œåˆ™ M<sub>3</sub> ä¸¢å¤±ï¼Œç«‹å³é‡ä¼  M<sub>3</sub>ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªæ˜¯ä¸¢å¤±ä¸ªåˆ«æŠ¥æ–‡æ®µï¼Œè€Œä¸æ˜¯ç½‘ç»œæ‹¥å¡ã€‚å› æ­¤æ‰§è¡Œå¿«æ¢å¤ï¼Œä»¤ ssthresh &#x3D; cwnd &#x2F; 2 ï¼Œcwnd &#x3D; ssthreshï¼Œæ³¨æ„åˆ°æ­¤æ—¶ç›´æ¥è¿›å…¥æ‹¥å¡é¿å…ã€‚</p>
<p>æ…¢å¼€å§‹å’Œå¿«æ¢å¤çš„å¿«æ…¢æŒ‡çš„æ˜¯ cwnd çš„è®¾å®šå€¼ï¼Œè€Œä¸æ˜¯ cwnd çš„å¢é•¿é€Ÿç‡ã€‚æ…¢å¼€å§‹ cwnd è®¾å®šä¸º 1ï¼Œè€Œå¿«æ¢å¤ cwnd è®¾å®šä¸º ssthreshã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/transport/1551093167163.png" alt="img"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/pages/94b734fc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="é’æ‚Ÿ â—¾ Dunwu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunwu Blog">
      <meta itemprop="description" content="é’æ‚Ÿçš„ä¸ªäººåšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Dunwu Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/pages/94b734fc/" class="post-title-link" itemprop="url">è®¡ç®—æœºç½‘ç»œä¹‹åº”ç”¨å±‚</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2019-02-25 20:27:00" itemprop="dateCreated datePublished" datetime="2019-02-25T20:27:00+08:00">2019-02-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-13 17:56:53" itemprop="dateModified" datetime="2025-09-13T17:56:53+08:00">2025-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">ç½‘ç»œ</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E7%BB%BC%E5%90%88/" itemprop="url" rel="index"><span itemprop="name">ç½‘ç»œç»¼åˆ</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>3.6k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>3 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="è®¡ç®—æœºç½‘ç»œä¹‹åº”ç”¨å±‚"><a href="#è®¡ç®—æœºç½‘ç»œä¹‹åº”ç”¨å±‚" class="headerlink" title="è®¡ç®—æœºç½‘ç»œä¹‹åº”ç”¨å±‚"></a>è®¡ç®—æœºç½‘ç»œä¹‹åº”ç”¨å±‚</h1><h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/application/1551096916007.png" alt="img"></p>
<p>è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆè‹±è¯­ï¼šHyperText Transfer Protocolï¼Œç¼©å†™ï¼šHTTPï¼‰æ˜¯ä¸€ç§ç”¨äºåˆ†å¸ƒå¼ã€åä½œå¼å’Œè¶…åª’ä½“ä¿¡æ¯ç³»ç»Ÿçš„åº”ç”¨å±‚åè®®ã€‚HTTP æ˜¯ä¸‡ç»´ç½‘çš„æ•°æ®é€šä¿¡çš„åŸºç¡€ã€‚</p>
<p>è®¾è®¡ HTTP æœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶ HTML é¡µé¢çš„æ–¹æ³•ã€‚é€šè¿‡ HTTP æˆ–è€… HTTPS åè®®è¯·æ±‚çš„èµ„æºç”±ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆUniform Resource Identifiersï¼ŒURIï¼‰æ¥æ ‡è¯†ã€‚</p>
<p>å®‰å…¨å¥—æ¥å­—å±‚è¶…æ–‡æœ¬ä¼ è¾“åè®® HTTPS ä¸ºäº†æ•°æ®ä¼ è¾“çš„å®‰å…¨ï¼ŒHTTPS åœ¨ HTTP çš„åŸºç¡€ä¸ŠåŠ å…¥äº† SSL åè®®ï¼ŒSSL ä¾é è¯ä¹¦æ¥éªŒè¯æœåŠ¡å™¨çš„èº«ä»½ï¼Œå¹¶ä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡åŠ å¯†ã€‚</p>
<blockquote>
<p>:point_right: æ‰©å±•é˜…è¯»ï¼š<a href="../02.%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/01.HTTP.md">HTTP</a></p>
</blockquote>
<h2 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h2><p>åŸŸåæœåŠ¡å™¨ DNS æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œæä¾›äº†ä¸»æœºåå’Œ IP åœ°å€ä¹‹é—´ç›¸äº’è½¬æ¢çš„æœåŠ¡ã€‚è¿™é‡Œçš„åˆ†å¸ƒå¼æ•°æ®åº“æ˜¯æŒ‡ï¼Œæ¯ä¸ªç«™ç‚¹åªä¿ç•™å®ƒè‡ªå·±çš„é‚£éƒ¨åˆ†æ•°æ®ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/application/1551094759786.png" alt="img"></p>
<p>åŸŸåå…·æœ‰å±‚æ¬¡ç»“æ„ï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡ä¸ºï¼šæ ¹åŸŸåã€é¡¶çº§åŸŸåã€äºŒçº§åŸŸåã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/application/1551094954067.png" alt="img"></p>
<p>DNS å¯ä»¥ä½¿ç”¨ UDP æˆ–è€… TCP è¿›è¡Œä¼ è¾“ï¼Œä½¿ç”¨çš„ç«¯å£å·éƒ½ä¸º 53ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ DNS ä½¿ç”¨ UDP è¿›è¡Œä¼ è¾“ï¼Œè¿™å°±è¦æ±‚åŸŸåè§£æå™¨å’ŒåŸŸåæœåŠ¡å™¨éƒ½å¿…é¡»è‡ªå·±å¤„ç†è¶…æ—¶å’Œé‡ä¼ æ¥ä¿è¯å¯é æ€§ã€‚åœ¨ä¸¤ç§æƒ…å†µä¸‹ä¼šä½¿ç”¨ TCP è¿›è¡Œä¼ è¾“ï¼š</p>
<ul>
<li>å¦‚æœè¿”å›çš„å“åº”è¶…è¿‡çš„ 512 å­—èŠ‚ï¼ˆUDP æœ€å¤§åªæ”¯æŒ 512 å­—èŠ‚çš„æ•°æ®ï¼‰ã€‚</li>
<li>åŒºåŸŸä¼ é€ï¼ˆåŒºåŸŸä¼ é€æ˜¯ä¸»åŸŸåæœåŠ¡å™¨å‘è¾…åŠ©åŸŸåæœåŠ¡å™¨ä¼ é€å˜åŒ–çš„é‚£éƒ¨åˆ†æ•°æ®ï¼‰ã€‚</li>
</ul>
<blockquote>
<p>:point_right: æ‰©å±•é˜…è¯»ï¼š<a href="../02.%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/02.DNS.md">DNS</a></p>
</blockquote>
<h2 id="FTP"><a href="#FTP" class="headerlink" title="FTP"></a>FTP</h2><p>æ–‡ä»¶ä¼ é€åè®® FTP ä½¿ç”¨ TCP è¿›è¡Œè¿æ¥ï¼Œå®ƒéœ€è¦ä¸¤ä¸ªè¿æ¥æ¥ä¼ é€ä¸€ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li>æ§åˆ¶è¿æ¥ï¼šæœåŠ¡å™¨æ‰“å¼€ç«¯å£å· 21 ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥ï¼Œå®¢æˆ·ç«¯ä¸»åŠ¨å»ºç«‹è¿æ¥åï¼Œä½¿ç”¨è¿™ä¸ªè¿æ¥å°†å®¢æˆ·ç«¯çš„å‘½ä»¤ä¼ é€ç»™æœåŠ¡å™¨ï¼Œå¹¶ä¼ å›æœåŠ¡å™¨çš„åº”ç­”ã€‚</li>
<li>æ•°æ®è¿æ¥ï¼šç”¨æ¥ä¼ é€ä¸€ä¸ªæ–‡ä»¶æ•°æ®ã€‚</li>
</ul>
<p>æ ¹æ®æ•°æ®è¿æ¥æ˜¯å¦æ˜¯æœåŠ¡å™¨ç«¯ä¸»åŠ¨å»ºç«‹ï¼ŒFTP æœ‰ä¸»åŠ¨å’Œè¢«åŠ¨ä¸¤ç§æ¨¡å¼ï¼š</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/application/1551095440002.png" alt="img"></p>
<ul>
<li>ä¸»åŠ¨æ¨¡å¼ï¼šæœåŠ¡å™¨ç«¯ä¸»åŠ¨å»ºç«‹æ•°æ®è¿æ¥ï¼Œå…¶ä¸­æœåŠ¡å™¨ç«¯çš„ç«¯å£å·ä¸º 20ï¼Œå®¢æˆ·ç«¯çš„ç«¯å£å·éšæœºï¼Œä½†æ˜¯å¿…é¡»å¤§äº 1024ï¼Œå› ä¸º 0~1023 æ˜¯ç†ŸçŸ¥ç«¯å£å·ã€‚</li>
<li>è¢«åŠ¨æ¨¡å¼ï¼šå®¢æˆ·ç«¯ä¸»åŠ¨å»ºç«‹æ•°æ®è¿æ¥ï¼Œå…¶ä¸­å®¢æˆ·ç«¯çš„ç«¯å£å·ç”±å®¢æˆ·ç«¯è‡ªå·±æŒ‡å®šï¼ŒæœåŠ¡å™¨ç«¯çš„ç«¯å£å·éšæœºã€‚</li>
</ul>
<p>ä¸»åŠ¨æ¨¡å¼è¦æ±‚å®¢æˆ·ç«¯å¼€æ”¾ç«¯å£å·ç»™æœåŠ¡å™¨ç«¯ï¼Œéœ€è¦å»é…ç½®å®¢æˆ·ç«¯çš„é˜²ç«å¢™ã€‚è¢«åŠ¨æ¨¡å¼åªéœ€è¦æœåŠ¡å™¨ç«¯å¼€æ”¾ç«¯å£å·å³å¯ï¼Œæ— éœ€å®¢æˆ·ç«¯é…ç½®é˜²ç«å¢™ã€‚ä½†æ˜¯è¢«åŠ¨æ¨¡å¼ä¼šå¯¼è‡´æœåŠ¡å™¨ç«¯çš„å®‰å…¨æ€§å‡å¼±ï¼Œå› ä¸ºå¼€æ”¾äº†è¿‡å¤šçš„ç«¯å£å·ã€‚</p>
<p>FTPS æ˜¯ä¸€ç§å¯¹å¸¸ç”¨çš„æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆFTPï¼‰æ·»åŠ ä¼ è¾“å±‚å®‰å…¨ï¼ˆTLSï¼‰å’Œå®‰å…¨å¥—æ¥å±‚ï¼ˆSSLï¼‰åŠ å¯†åè®®æ”¯æŒçš„æ‰©å±•åè®®ã€‚</p>
<h2 id="DHCP"><a href="#DHCP" class="headerlink" title="DHCP"></a>DHCP</h2><p>åŠ¨æ€ä¸»æœºé…ç½®åè®® DHCP (Dynamic Host Configuration Protocol) æä¾›äº†å³æ’å³ç”¨çš„è¿ç½‘æ–¹å¼ï¼Œç”¨æˆ·ä¸å†éœ€è¦å»æ‰‹åŠ¨é…ç½® IP åœ°å€ç­‰ä¿¡æ¯ã€‚</p>
<p>DHCP é…ç½®çš„å†…å®¹ä¸ä»…æ˜¯ IP åœ°å€ï¼Œè¿˜åŒ…æ‹¬å­ç½‘æ©ç ã€ç½‘å…³ IP åœ°å€ã€‚</p>
<p>DHCP å·¥ä½œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯å‘é€ Discover æŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡çš„ç›®çš„åœ°å€ä¸º 255.255.255.255:67ï¼Œæºåœ°å€ä¸º 0.0.0.0:68ï¼Œè¢«æ”¾å…¥ UDP ä¸­ï¼Œè¯¥æŠ¥æ–‡è¢«å¹¿æ’­åˆ°åŒä¸€ä¸ªå­ç½‘çš„æ‰€æœ‰ä¸»æœºä¸Šã€‚å¦‚æœå®¢æˆ·ç«¯å’Œ DHCP æœåŠ¡å™¨ä¸åœ¨åŒä¸€ä¸ªå­ç½‘ï¼Œå°±éœ€è¦ä½¿ç”¨ä¸­ç»§ä»£ç†ã€‚</li>
<li>DHCP æœåŠ¡å™¨æ”¶åˆ° Discover æŠ¥æ–‡ä¹‹åï¼Œå‘é€ Offer æŠ¥æ–‡ç»™å®¢æˆ·ç«¯ï¼Œè¯¥æŠ¥æ–‡åŒ…å«äº†å®¢æˆ·ç«¯æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚å› ä¸ºå®¢æˆ·ç«¯å¯èƒ½æ”¶åˆ°å¤šä¸ª DHCP æœåŠ¡å™¨æä¾›çš„ä¿¡æ¯ï¼Œå› æ­¤å®¢æˆ·ç«¯éœ€è¦è¿›è¡Œé€‰æ‹©ã€‚</li>
<li>å¦‚æœå®¢æˆ·ç«¯é€‰æ‹©äº†æŸä¸ª DHCP æœåŠ¡å™¨æä¾›çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±å‘é€ Request æŠ¥æ–‡ç»™è¯¥ DHCP æœåŠ¡å™¨ã€‚</li>
<li>DHCP æœåŠ¡å™¨å‘é€ Ack æŠ¥æ–‡ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯æ­¤æ—¶å¯ä»¥ä½¿ç”¨æä¾›ç»™å®ƒçš„ä¿¡æ¯ã€‚</li>
</ol>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/application/1551095610521.png" alt="img"></p>
<h2 id="TELNET"><a href="#TELNET" class="headerlink" title="TELNET"></a>TELNET</h2><p>è¿œç¨‹ç™»å½•åè®® TELNET ç”¨äºç™»å½•åˆ°è¿œç¨‹ä¸»æœºä¸Šï¼Œå¹¶ä¸”è¿œç¨‹ä¸»æœºä¸Šçš„è¾“å‡ºä¹Ÿä¼šè¿”å›ã€‚</p>
<p>TELNET å¯ä»¥é€‚åº”è®¸å¤šè®¡ç®—æœºå’Œæ“ä½œç³»ç»Ÿçš„å·®å¼‚ï¼Œä¾‹å¦‚ä¸åŒæ“ä½œç³»ç»Ÿç³»ç»Ÿçš„æ¢è¡Œç¬¦å®šä¹‰ã€‚</p>
<h2 id="ç”µå­é‚®ä»¶åè®®"><a href="#ç”µå­é‚®ä»¶åè®®" class="headerlink" title="ç”µå­é‚®ä»¶åè®®"></a>ç”µå­é‚®ä»¶åè®®</h2><p>ä¸€ä¸ªç”µå­é‚®ä»¶ç³»ç»Ÿç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šç”¨æˆ·ä»£ç†ã€é‚®ä»¶æœåŠ¡å™¨ä»¥åŠé‚®ä»¶åè®®ã€‚</p>
<p>é‚®ä»¶åè®®åŒ…å«å‘é€åè®®å’Œè¯»å–åè®®ï¼Œå‘é€åè®®å¸¸ç”¨ SMTPï¼Œè¯»å–åè®®å¸¸ç”¨ POP3 å’Œ IMAPã€‚</p>
<h3 id="SMTP"><a href="#SMTP" class="headerlink" title="SMTP"></a>SMTP</h3><p>SMTP åªèƒ½å‘é€ ASCII ç ï¼Œè€Œäº’è”ç½‘é‚®ä»¶æ‰©å…… MIME å¯ä»¥å‘é€äºŒè¿›åˆ¶æ–‡ä»¶ã€‚MIME å¹¶æ²¡æœ‰æ”¹åŠ¨æˆ–è€…å–ä»£ SMTPï¼Œè€Œæ˜¯å¢åŠ é‚®ä»¶ä¸»ä½“çš„ç»“æ„ï¼Œå®šä¹‰äº†é ASCII ç çš„ç¼–ç è§„åˆ™ã€‚</p>
<h3 id="POP3"><a href="#POP3" class="headerlink" title="POP3"></a>POP3</h3><p>POP3 çš„ç‰¹ç‚¹æ˜¯åªè¦ç”¨æˆ·ä»æœåŠ¡å™¨ä¸Šè¯»å–äº†é‚®ä»¶ï¼Œå°±æŠŠè¯¥é‚®ä»¶åˆ é™¤ã€‚</p>
<h3 id="IMAP"><a href="#IMAP" class="headerlink" title="IMAP"></a>IMAP</h3><p>IMAP åè®®ä¸­å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸Šçš„é‚®ä»¶ä¿æŒåŒæ­¥ï¼Œå¦‚æœä¸æ‰‹åŠ¨åˆ é™¤é‚®ä»¶ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ä¸Šçš„é‚®ä»¶ä¹Ÿä¸ä¼šè¢«åˆ é™¤ã€‚IMAP è¿™ç§åšæ³•å¯ä»¥è®©ç”¨æˆ·éšæ—¶éšåœ°å»è®¿é—®æœåŠ¡å™¨ä¸Šçš„é‚®ä»¶ã€‚</p>
<h2 id="å¸¸ç”¨ç«¯å£"><a href="#å¸¸ç”¨ç«¯å£" class="headerlink" title="å¸¸ç”¨ç«¯å£"></a>å¸¸ç”¨ç«¯å£</h2><table>
<thead>
<tr>
<th align="center">åº”ç”¨</th>
<th align="center">åº”ç”¨å±‚åè®®</th>
<th align="center">ç«¯å£å·</th>
<th align="center">ä¼ è¾“å±‚åè®®</th>
<th align="center">å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td align="center">åŸŸåè§£æ</td>
<td align="center">DNS</td>
<td align="center">53</td>
<td align="center">UDP&#x2F;TCP</td>
<td align="center">é•¿åº¦è¶…è¿‡ 512 å­—èŠ‚æ—¶ä½¿ç”¨ TCP</td>
</tr>
<tr>
<td align="center">åŠ¨æ€ä¸»æœºé…ç½®åè®®</td>
<td align="center">DHCP</td>
<td align="center">67&#x2F;68</td>
<td align="center">UDP</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ç®€å•ç½‘ç»œç®¡ç†åè®®</td>
<td align="center">SNMP</td>
<td align="center">161&#x2F;162</td>
<td align="center">UDP</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">æ–‡ä»¶ä¼ é€åè®®</td>
<td align="center">FTP</td>
<td align="center">20&#x2F;21</td>
<td align="center">TCP</td>
<td align="center">æ§åˆ¶è¿æ¥ 21ï¼Œæ•°æ®è¿æ¥ 20</td>
</tr>
<tr>
<td align="center">è¿œç¨‹ç»ˆç«¯åè®®</td>
<td align="center">TELNET</td>
<td align="center">23</td>
<td align="center">TCP</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">è¶…æ–‡æœ¬ä¼ é€åè®®</td>
<td align="center">HTTP</td>
<td align="center">80</td>
<td align="center">TCP</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ç®€å•é‚®ä»¶ä¼ é€åè®®</td>
<td align="center">SMTP</td>
<td align="center">25</td>
<td align="center">TCP</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">é‚®ä»¶è¯»å–åè®®</td>
<td align="center">POP3</td>
<td align="center">110</td>
<td align="center">TCP</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">ç½‘é™…æŠ¥æ–‡å­˜å–åè®®</td>
<td align="center">IMAP</td>
<td align="center">143</td>
<td align="center">TCP</td>
<td align="center"></td>
</tr>
</tbody></table>
<h2 id="Web-é¡µé¢è¯·æ±‚è¿‡ç¨‹"><a href="#Web-é¡µé¢è¯·æ±‚è¿‡ç¨‹" class="headerlink" title="Web é¡µé¢è¯·æ±‚è¿‡ç¨‹"></a>Web é¡µé¢è¯·æ±‚è¿‡ç¨‹</h2><h3 id="DHCP-é…ç½®ä¸»æœºä¿¡æ¯"><a href="#DHCP-é…ç½®ä¸»æœºä¿¡æ¯" class="headerlink" title="DHCP é…ç½®ä¸»æœºä¿¡æ¯"></a>DHCP é…ç½®ä¸»æœºä¿¡æ¯</h3><ul>
<li>å‡è®¾ä¸»æœºæœ€å¼€å§‹æ²¡æœ‰ IP åœ°å€ä»¥åŠå…¶å®ƒä¿¡æ¯ï¼Œé‚£ä¹ˆå°±éœ€è¦å…ˆä½¿ç”¨ DHCP æ¥è·å–ã€‚</li>
<li>ä¸»æœºç”Ÿæˆä¸€ä¸ª DHCP è¯·æ±‚æŠ¥æ–‡ï¼Œå¹¶å°†è¿™ä¸ªæŠ¥æ–‡æ”¾å…¥å…·æœ‰ç›®çš„ç«¯å£ 67 å’Œæºç«¯å£ 68 çš„ UDP æŠ¥æ–‡æ®µä¸­ã€‚</li>
<li>è¯¥æŠ¥æ–‡æ®µåˆ™è¢«æ”¾å…¥åœ¨ä¸€ä¸ªå…·æœ‰å¹¿æ’­ IP ç›®çš„åœ°å€(255.255.255.255) å’Œæº IP åœ°å€ï¼ˆ0.0.0.0ï¼‰çš„ IP æ•°æ®æŠ¥ä¸­ã€‚</li>
<li>è¯¥æ•°æ®æŠ¥åˆ™è¢«æ”¾ç½®åœ¨ MAC å¸§ä¸­ï¼Œè¯¥å¸§å…·æœ‰ç›®çš„åœ°å€ FF:FF:FF:FF:FF:FFï¼Œå°†å¹¿æ’­åˆ°ä¸äº¤æ¢æœºè¿æ¥çš„æ‰€æœ‰è®¾å¤‡ã€‚</li>
<li>è¿æ¥åœ¨äº¤æ¢æœºçš„ DHCP æœåŠ¡å™¨æ”¶åˆ°å¹¿æ’­å¸§ä¹‹åï¼Œä¸æ–­åœ°å‘ä¸Šåˆ†è§£å¾—åˆ° IP æ•°æ®æŠ¥ã€UDP æŠ¥æ–‡æ®µã€DHCP è¯·æ±‚æŠ¥æ–‡ï¼Œä¹‹åç”Ÿæˆ DHCP ACK æŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼šIP åœ°å€ã€DNS æœåŠ¡å™¨çš„ IP åœ°å€ã€é»˜è®¤ç½‘å…³è·¯ç”±å™¨çš„ IP åœ°å€å’Œå­ç½‘æ©ç ã€‚è¯¥æŠ¥æ–‡è¢«æ”¾å…¥ UDP æŠ¥æ–‡æ®µä¸­ï¼ŒUDP æŠ¥æ–‡æ®µæœ‰è¢«æ”¾å…¥ IP æ•°æ®æŠ¥ä¸­ï¼Œæœ€åæ”¾å…¥ MAC å¸§ä¸­ã€‚</li>
<li>è¯¥å¸§çš„ç›®çš„åœ°å€æ˜¯è¯·æ±‚ä¸»æœºçš„ MAC åœ°å€ï¼Œå› ä¸ºäº¤æ¢æœºå…·æœ‰è‡ªå­¦ä¹ èƒ½åŠ›ï¼Œä¹‹å‰ä¸»æœºå‘é€äº†å¹¿æ’­å¸§ä¹‹åå°±è®°å½•äº† MAC åœ°å€åˆ°å…¶è½¬å‘æ¥å£çš„äº¤æ¢è¡¨é¡¹ï¼Œå› æ­¤ç°åœ¨äº¤æ¢æœºå°±å¯ä»¥ç›´æ¥çŸ¥é“åº”è¯¥å‘å“ªä¸ªæ¥å£å‘é€è¯¥å¸§ã€‚</li>
<li>ä¸»æœºæ”¶åˆ°è¯¥å¸§åï¼Œä¸æ–­åˆ†è§£å¾—åˆ° DHCP æŠ¥æ–‡ã€‚ä¹‹åå°±é…ç½®å®ƒçš„ IP åœ°å€ã€å­ç½‘æ©ç å’Œ DNS æœåŠ¡å™¨çš„ IP åœ°å€ï¼Œå¹¶åœ¨å…¶ IP è½¬å‘è¡¨ä¸­å®‰è£…é»˜è®¤ç½‘å…³ã€‚</li>
</ul>
<h3 id="ARP-è§£æ-MAC-åœ°å€"><a href="#ARP-è§£æ-MAC-åœ°å€" class="headerlink" title="ARP è§£æ MAC åœ°å€"></a>ARP è§£æ MAC åœ°å€</h3><ul>
<li>ä¸»æœºé€šè¿‡æµè§ˆå™¨ç”Ÿæˆä¸€ä¸ª TCP å¥—æ¥å­—ï¼Œå¥—æ¥å­—å‘ HTTP æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚ã€‚ä¸ºäº†ç”Ÿæˆè¯¥å¥—æ¥å­—ï¼Œä¸»æœºéœ€è¦çŸ¥é“ç½‘ç«™çš„åŸŸåå¯¹åº”çš„ IP åœ°å€ã€‚</li>
<li>ä¸»æœºç”Ÿæˆä¸€ä¸ª DNS æŸ¥è¯¢æŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡å…·æœ‰ 53 å·ç«¯å£ï¼Œå› ä¸º DNS æœåŠ¡å™¨çš„ç«¯å£å·æ˜¯ 53ã€‚</li>
<li>è¯¥ DNS æŸ¥è¯¢æŠ¥æ–‡è¢«æ”¾å…¥ç›®çš„åœ°å€ä¸º DNS æœåŠ¡å™¨ IP åœ°å€çš„ IP æ•°æ®æŠ¥ä¸­ã€‚</li>
<li>è¯¥ IP æ•°æ®æŠ¥è¢«æ”¾å…¥ä¸€ä¸ªä»¥å¤ªç½‘å¸§ä¸­ï¼Œè¯¥å¸§å°†å‘é€åˆ°ç½‘å…³è·¯ç”±å™¨ã€‚</li>
<li>DHCP è¿‡ç¨‹åªçŸ¥é“ç½‘å…³è·¯ç”±å™¨çš„ IP åœ°å€ï¼Œä¸ºäº†è·å–ç½‘å…³è·¯ç”±å™¨çš„ MAC åœ°å€ï¼Œéœ€è¦ä½¿ç”¨ ARP åè®®ã€‚</li>
<li>ä¸»æœºç”Ÿæˆä¸€ä¸ªåŒ…å«ç›®çš„åœ°å€ä¸ºç½‘å…³è·¯ç”±å™¨ IP åœ°å€çš„ ARP æŸ¥è¯¢æŠ¥æ–‡ï¼Œå°†è¯¥ ARP æŸ¥è¯¢æŠ¥æ–‡æ”¾å…¥ä¸€ä¸ªå…·æœ‰å¹¿æ’­ç›®çš„åœ°å€ï¼ˆFF:FF:FF:FF:FF:FFï¼‰çš„ä»¥å¤ªç½‘å¸§ä¸­ï¼Œå¹¶å‘äº¤æ¢æœºå‘é€è¯¥ä»¥å¤ªç½‘å¸§ï¼Œäº¤æ¢æœºå°†è¯¥å¸§è½¬å‘ç»™æ‰€æœ‰çš„è¿æ¥è®¾å¤‡ï¼ŒåŒ…æ‹¬ç½‘å…³è·¯ç”±å™¨ã€‚</li>
<li>ç½‘å…³è·¯ç”±å™¨æ¥æ”¶åˆ°è¯¥å¸§åï¼Œä¸æ–­å‘ä¸Šåˆ†è§£å¾—åˆ° ARP æŠ¥æ–‡ï¼Œå‘ç°å…¶ä¸­çš„ IP åœ°å€ä¸å…¶æ¥å£çš„ IP åœ°å€åŒ¹é…ï¼Œå› æ­¤å°±å‘é€ä¸€ä¸ª ARP å›ç­”æŠ¥æ–‡ï¼ŒåŒ…å«äº†å®ƒçš„ MAC åœ°å€ï¼Œå‘å›ç»™ä¸»æœºã€‚</li>
</ul>
<h3 id="DNS-è§£æåŸŸå"><a href="#DNS-è§£æåŸŸå" class="headerlink" title="DNS è§£æåŸŸå"></a>DNS è§£æåŸŸå</h3><ul>
<li>çŸ¥é“äº†ç½‘å…³è·¯ç”±å™¨çš„ MAC åœ°å€ä¹‹åï¼Œå°±å¯ä»¥ç»§ç»­ DNS çš„è§£æè¿‡ç¨‹äº†ã€‚</li>
<li>ç½‘å…³è·¯ç”±å™¨æ¥æ”¶åˆ°åŒ…å« DNS æŸ¥è¯¢æŠ¥æ–‡çš„ä»¥å¤ªç½‘å¸§åï¼ŒæŠ½å–å‡º IP æ•°æ®æŠ¥ï¼Œå¹¶æ ¹æ®è½¬å‘è¡¨å†³å®šè¯¥ IP æ•°æ®æŠ¥åº”è¯¥è½¬å‘çš„è·¯ç”±å™¨ã€‚</li>
<li>å› ä¸ºè·¯ç”±å™¨å…·æœ‰å†…éƒ¨ç½‘å…³åè®®ï¼ˆRIPã€OSPFï¼‰å’Œå¤–éƒ¨ç½‘å…³åè®®ï¼ˆBGPï¼‰è¿™ä¸¤ç§è·¯ç”±é€‰æ‹©åè®®ï¼Œå› æ­¤è·¯ç”±è¡¨ä¸­å·²ç»é…ç½®äº†ç½‘å…³è·¯ç”±å™¨åˆ°è¾¾ DNS æœåŠ¡å™¨çš„è·¯ç”±è¡¨é¡¹ã€‚</li>
<li>åˆ°è¾¾ DNS æœåŠ¡å™¨ä¹‹åï¼ŒDNS æœåŠ¡å™¨æŠ½å–å‡º DNS æŸ¥è¯¢æŠ¥æ–‡ï¼Œå¹¶åœ¨ DNS æ•°æ®åº“ä¸­æŸ¥æ‰¾å¾…è§£æçš„åŸŸåã€‚</li>
<li>æ‰¾åˆ° DNS è®°å½•ä¹‹åï¼Œå‘é€ DNS å›ç­”æŠ¥æ–‡ï¼Œå°†è¯¥å›ç­”æŠ¥æ–‡æ”¾å…¥ UDP æŠ¥æ–‡æ®µä¸­ï¼Œç„¶åæ”¾å…¥ IP æ•°æ®æŠ¥ä¸­ï¼Œé€šè¿‡è·¯ç”±å™¨åå‘è½¬å‘å›ç½‘å…³è·¯ç”±å™¨ï¼Œå¹¶ç»è¿‡ä»¥å¤ªç½‘äº¤æ¢æœºåˆ°è¾¾ä¸»æœºã€‚</li>
</ul>
<h3 id="HTTP-è¯·æ±‚é¡µé¢"><a href="#HTTP-è¯·æ±‚é¡µé¢" class="headerlink" title="HTTP è¯·æ±‚é¡µé¢"></a>HTTP è¯·æ±‚é¡µé¢</h3><ul>
<li>æœ‰äº† HTTP æœåŠ¡å™¨çš„ IP åœ°å€ä¹‹åï¼Œä¸»æœºå°±èƒ½å¤Ÿç”Ÿæˆ TCP å¥—æ¥å­—ï¼Œè¯¥å¥—æ¥å­—å°†ç”¨äºå‘ Web æœåŠ¡å™¨å‘é€ HTTP GET æŠ¥æ–‡ã€‚</li>
<li>åœ¨ç”Ÿæˆ TCP å¥—æ¥å­—ä¹‹å‰ï¼Œå¿…é¡»å…ˆä¸ HTTP æœåŠ¡å™¨è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹æ¥å»ºç«‹è¿æ¥ã€‚ç”Ÿæˆä¸€ä¸ªå…·æœ‰ç›®çš„ç«¯å£ 80 çš„ TCP SYN æŠ¥æ–‡æ®µï¼Œå¹¶å‘ HTTP æœåŠ¡å™¨å‘é€è¯¥æŠ¥æ–‡æ®µã€‚</li>
<li>HTTP æœåŠ¡å™¨æ”¶åˆ°è¯¥æŠ¥æ–‡æ®µä¹‹åï¼Œç”Ÿæˆ TCP SYN ACK æŠ¥æ–‡æ®µï¼Œå‘å›ç»™ä¸»æœºã€‚</li>
<li>è¿æ¥å»ºç«‹ä¹‹åï¼Œæµè§ˆå™¨ç”Ÿæˆ HTTP GET æŠ¥æ–‡ï¼Œå¹¶äº¤ä»˜ç»™ HTTP æœåŠ¡å™¨ã€‚</li>
<li>HTTP æœåŠ¡å™¨ä» TCP å¥—æ¥å­—è¯»å– HTTP GET æŠ¥æ–‡ï¼Œç”Ÿæˆä¸€ä¸ª HTTP å“åº”æŠ¥æ–‡ï¼Œå°† Web é¡µé¢å†…å®¹æ”¾å…¥æŠ¥æ–‡ä¸»ä½“ä¸­ï¼Œå‘å›ç»™ä¸»æœºã€‚</li>
<li>æµè§ˆå™¨æ”¶åˆ° HTTP å“åº”æŠ¥æ–‡åï¼ŒæŠ½å–å‡º Web é¡µé¢å†…å®¹ï¼Œä¹‹åè¿›è¡Œæ¸²æŸ“ï¼Œæ˜¾ç¤º Web é¡µé¢ã€‚</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/pages/414cba41/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="é’æ‚Ÿ â—¾ Dunwu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunwu Blog">
      <meta itemprop="description" content="é’æ‚Ÿçš„ä¸ªäººåšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Dunwu Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/pages/414cba41/" class="post-title-link" itemprop="url">è®¡ç®—æœºç½‘ç»œä¹‹ç½‘ç»œå±‚</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2019-02-25 18:05:00" itemprop="dateCreated datePublished" datetime="2019-02-25T18:05:00+08:00">2019-02-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-13 17:56:53" itemprop="dateModified" datetime="2025-09-13T17:56:53+08:00">2025-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">ç½‘ç»œ</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E7%BB%BC%E5%90%88/" itemprop="url" rel="index"><span itemprop="name">ç½‘ç»œç»¼åˆ</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>4.7k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>4 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="è®¡ç®—æœºç½‘ç»œä¹‹ç½‘ç»œå±‚"><a href="#è®¡ç®—æœºç½‘ç»œä¹‹ç½‘ç»œå±‚" class="headerlink" title="è®¡ç®—æœºç½‘ç»œä¹‹ç½‘ç»œå±‚"></a>è®¡ç®—æœºç½‘ç»œä¹‹ç½‘ç»œå±‚</h1><blockquote>
<p><strong>ç½‘ç»œå±‚ï¼ˆnetwork layerï¼‰</strong> - ä¸ºåˆ†ç»„äº¤æ¢ç½‘ä¸Šçš„ä¸åŒä¸»æœºæä¾›é€šä¿¡æœåŠ¡ã€‚åœ¨å‘é€æ•°æ®æ—¶ï¼Œç½‘ç»œå±‚æŠŠè¿è¾“å±‚äº§ç”Ÿçš„æŠ¥æ–‡æ®µæˆ–ç”¨æˆ·æ•°æ®æŠ¥å°è£…æˆåˆ†ç»„æˆ–åŒ…è¿›è¡Œä¼ é€ã€‚</p>
<ul>
<li>ä¸»è¦åè®®ï¼š<code>IP</code>ã€<code>ICMP</code>ã€‚</li>
<li>æ•°æ®å•å…ƒï¼šIP æ•°æ®æŠ¥ï¼ˆpacketï¼‰ã€‚</li>
<li>å…¸å‹è®¾å¤‡ï¼šç½‘å…³ã€è·¯ç”±å™¨ã€‚</li>
</ul>
</blockquote>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>ç½‘ç»œå±‚å‘ä¸Šåªæä¾›ç®€å•çµæ´»çš„ã€æ— è¿æ¥çš„ã€å°½æœ€å¤§åŠªåŠ›äº¤ä»˜çš„æ•°æ®æŠ¥æœåŠ¡ã€‚ç½‘ç»œå±‚ä¸æä¾›æœåŠ¡è´¨é‡çš„æ‰¿è¯ºï¼Œä¸ä¿è¯åˆ†ç»„äº¤ä»˜çš„æ—¶é™ï¼Œæ‰€ä¼ é€çš„åˆ†ç»„å¯èƒ½å‡ºé”™ã€ä¸¢å¤±ã€é‡å¤å’Œå¤±åºã€‚è¿›ç¨‹é—´é€šä¿¡çš„å¯é æ€§ç”±è¿è¾“å±‚è´Ÿè´£ã€‚</p>
<h2 id="IP-åè®®"><a href="#IP-åè®®" class="headerlink" title="IP åè®®"></a>IP åè®®</h2><p>ç½‘é™…åè®® IP (Internet Protocol) å®šä¹‰äº†ä¸‰ç§åŠŸèƒ½ï¼š</p>
<ol>
<li>IP å®šä¹‰äº†åœ¨ TCP&#x2F;IP äº’è”ç½‘ä¸Šæ•°æ®ä¼ é€çš„åŸºæœ¬å•å…ƒå’Œæ•°æ®æ ¼å¼ã€‚</li>
<li>IP è½¯ä»¶å®Œæˆè·¯ç”±é€‰æ‹©åŠŸèƒ½ï¼Œé€‰æ‹©æ•°æ®ä¼ é€çš„è·¯å¾„ã€‚</li>
<li>IP åŒ…å«äº†ä¸€ç»„ä¸å¯é åˆ†ç»„ä¼ é€çš„è§„åˆ™ï¼ŒæŒ‡æ˜äº†åˆ†ç»„å¤„ç†ã€å·®é”™ä¿¡æ¯å‘ç”Ÿä»¥åŠåˆ†ç»„çš„è§„åˆ™ã€‚</li>
</ol>
<h3 id="ç›¸å…³åè®®"><a href="#ç›¸å…³åè®®" class="headerlink" title="ç›¸å…³åè®®"></a>ç›¸å…³åè®®</h3><p>ä¸ IP åè®®é…å¥—ä½¿ç”¨çš„è¿˜æœ‰ä¸‰ä¸ªåè®®ï¼š</p>
<ul>
<li>åœ°å€è§£æåè®® ARPï¼ˆAddress Resolution Protocolï¼‰</li>
<li>ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®® ICMPï¼ˆInternet Control Message Protocolï¼‰</li>
<li>ç½‘é™…ç»„ç®¡ç†åè®® IGMPï¼ˆInternet Group Management Protocolï¼‰</li>
</ul>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1550912617336.png" alt="img"></p>
<h3 id="åˆ†ç±»çš„-IP-åœ°å€"><a href="#åˆ†ç±»çš„-IP-åœ°å€" class="headerlink" title="åˆ†ç±»çš„ IP åœ°å€"></a>åˆ†ç±»çš„ IP åœ°å€</h3><p>IP åœ°å€çš„ç¼–å€æ–¹å¼ç»å†äº†ä¸‰ä¸ªå†å²é˜¶æ®µï¼š</p>
<ul>
<li>åˆ†ç±»</li>
<li>å­ç½‘åˆ’åˆ†</li>
<li>æ— åˆ†ç±»</li>
</ul>
<h4 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h4><p>ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œç½‘ç»œå·å’Œä¸»æœºå·ï¼Œå…¶ä¸­ä¸åŒåˆ†ç±»å…·æœ‰ä¸åŒçš„ç½‘ç»œå·é•¿åº¦ï¼Œå¹¶ä¸”æ˜¯å›ºå®šçš„ã€‚</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IP åœ°å€ ::= &#123;&lt; ç½‘ç»œå· &gt;, &lt; ä¸»æœºå· &gt;&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1551086738403.png" alt="img"></p>
<h4 id="å­ç½‘åˆ’åˆ†"><a href="#å­ç½‘åˆ’åˆ†" class="headerlink" title="å­ç½‘åˆ’åˆ†"></a>å­ç½‘åˆ’åˆ†</h4><p>é€šè¿‡åœ¨ä¸»æœºå·å­—æ®µä¸­æ‹¿ä¸€éƒ¨åˆ†ä½œä¸ºå­ç½‘å·ï¼ŒæŠŠä¸¤çº§ IP åœ°å€åˆ’åˆ†ä¸ºä¸‰çº§ IP åœ°å€ã€‚</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IP åœ°å€ ::= &#123;&lt; ç½‘ç»œå· &gt;, &lt; å­ç½‘å· &gt;, &lt; ä¸»æœºå· &gt;&#125;</span><br></pre></td></tr></table></figure>

<p>è¦ä½¿ç”¨å­ç½‘ï¼Œå¿…é¡»é…ç½®å­ç½‘æ©ç ã€‚ä¸€ä¸ª B ç±»åœ°å€çš„é»˜è®¤å­ç½‘æ©ç ä¸º 255.255.0.0ï¼Œå¦‚æœ B ç±»åœ°å€çš„å­ç½‘å ä¸¤ä¸ªæ¯”ç‰¹ï¼Œé‚£ä¹ˆå­ç½‘æ©ç ä¸º 11111111 11111111 11000000 00000000ï¼Œä¹Ÿå°±æ˜¯ 255.255.192.0ã€‚</p>
<p>æ³¨æ„ï¼Œå¤–éƒ¨ç½‘ç»œçœ‹ä¸åˆ°å­ç½‘çš„å­˜åœ¨ã€‚</p>
<h4 id="æ— åˆ†ç±»"><a href="#æ— åˆ†ç±»" class="headerlink" title="æ— åˆ†ç±»"></a>æ— åˆ†ç±»</h4><p>æ— åˆ†ç±»ç¼–å€ CIDR æ¶ˆé™¤äº†ä¼ ç»Ÿ A ç±»ã€B ç±»å’Œ C ç±»åœ°å€ä»¥åŠåˆ’åˆ†å­ç½‘çš„æ¦‚å¿µï¼Œä½¿ç”¨ç½‘ç»œå‰ç¼€å’Œä¸»æœºå·æ¥å¯¹ IP åœ°å€è¿›è¡Œç¼–ç ï¼Œç½‘ç»œå‰ç¼€çš„é•¿åº¦å¯ä»¥æ ¹æ®éœ€è¦å˜åŒ–ã€‚</p>
<figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IP åœ°å€ ::= &#123;&lt; ç½‘ç»œå‰ç¼€å· &gt;, &lt; ä¸»æœºå· &gt;&#125;</span><br></pre></td></tr></table></figure>

<p>CIDR çš„è®°æ³•ä¸Šé‡‡ç”¨åœ¨ IP åœ°å€åé¢åŠ ä¸Šç½‘ç»œå‰ç¼€é•¿åº¦çš„æ–¹æ³•ï¼Œä¾‹å¦‚ 128.14.35.7&#x2F;20 è¡¨ç¤ºå‰ 20 ä½ä¸ºç½‘ç»œå‰ç¼€ã€‚</p>
<p>CIDR çš„åœ°å€æ©ç å¯ä»¥ç»§ç»­ç§°ä¸ºå­ç½‘æ©ç ï¼Œå­ç½‘æ©ç é¦– 1 é•¿åº¦ä¸ºç½‘ç»œå‰ç¼€çš„é•¿åº¦ã€‚</p>
<p>ä¸€ä¸ª CIDR åœ°å€å—ä¸­æœ‰å¾ˆå¤šåœ°å€ï¼Œä¸€ä¸ª CIDR è¡¨ç¤ºçš„ç½‘ç»œå°±å¯ä»¥è¡¨ç¤ºåŸæ¥çš„å¾ˆå¤šä¸ªç½‘ç»œï¼Œå¹¶ä¸”åœ¨è·¯ç”±è¡¨ä¸­åªéœ€è¦ä¸€ä¸ªè·¯ç”±å°±å¯ä»¥ä»£æ›¿åŸæ¥çš„å¤šä¸ªè·¯ç”±ï¼Œå‡å°‘äº†è·¯ç”±è¡¨é¡¹çš„æ•°é‡ã€‚æŠŠè¿™ç§é€šè¿‡ä½¿ç”¨ç½‘ç»œå‰ç¼€æ¥å‡å°‘è·¯ç”±è¡¨é¡¹çš„æ–¹å¼ç§°ä¸ºè·¯ç”±èšåˆï¼Œä¹Ÿç§°ä¸º <strong>æ„æˆè¶…ç½‘</strong> ã€‚</p>
<p>åœ¨è·¯ç”±è¡¨ä¸­çš„é¡¹ç›®ç”±â€œç½‘ç»œå‰ç¼€â€å’Œâ€œä¸‹ä¸€è·³åœ°å€â€ç»„æˆï¼Œåœ¨æŸ¥æ‰¾æ—¶å¯èƒ½ä¼šå¾—åˆ°ä¸æ­¢ä¸€ä¸ªåŒ¹é…ç»“æœï¼Œåº”å½“é‡‡ç”¨æœ€é•¿å‰ç¼€åŒ¹é…æ¥ç¡®å®šåº”è¯¥åŒ¹é…å“ªä¸€ä¸ªã€‚</p>
<h3 id="IP-åœ°å€ä¸ç‰©ç†åœ°å€"><a href="#IP-åœ°å€ä¸ç‰©ç†åœ°å€" class="headerlink" title="IP åœ°å€ä¸ç‰©ç†åœ°å€"></a>IP åœ°å€ä¸ç‰©ç†åœ°å€</h3><p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1551088476626.png" alt="img"></p>
<ul>
<li>ç‰©ç†åœ°å€æ˜¯æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚ä½¿ç”¨çš„åœ°å€ã€‚</li>
<li>IP åœ°å€æ˜¯ç½‘ç»œå±‚å’Œä»¥ä¸Šå„å±‚ä½¿ç”¨çš„åœ°å€ï¼Œæ˜¯ä¸€ç§é€»è¾‘åœ°å€ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1551088631948.png" alt="img"></p>
<h3 id="IP-æ•°æ®æŠ¥æ ¼å¼"><a href="#IP-æ•°æ®æŠ¥æ ¼å¼" class="headerlink" title="IP æ•°æ®æŠ¥æ ¼å¼"></a>IP æ•°æ®æŠ¥æ ¼å¼</h3><p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1550913213250.png" alt="img"></p>
<ul>
<li><strong>ç‰ˆæœ¬</strong> - æœ‰ 4ï¼ˆIPv4ï¼‰å’Œ 6ï¼ˆIPv6ï¼‰ä¸¤ä¸ªå€¼ã€‚</li>
<li><strong>é¦–éƒ¨é•¿åº¦</strong> - å  4 ä½ï¼Œå› æ­¤æœ€å¤§åè¿›åˆ¶æ•°å€¼ä¸º 15ã€‚å€¼ä¸º 1 è¡¨ç¤ºçš„æ˜¯ 1 ä¸ª 32 ä½å­—çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯ 4 å­—èŠ‚ã€‚å› ä¸ºé¦–éƒ¨å›ºå®šé•¿åº¦ä¸º 20 å­—èŠ‚ï¼Œå› æ­¤è¯¥å€¼æœ€å°ä¸º 5ã€‚å¦‚æœå¯é€‰å­—æ®µçš„é•¿åº¦ä¸æ˜¯ 4 å­—èŠ‚çš„æ•´æ•°å€ï¼Œå°±ç”¨å°¾éƒ¨çš„å¡«å……éƒ¨åˆ†æ¥å¡«å……ã€‚</li>
<li><strong>åŒºåˆ†æœåŠ¡</strong> - ç”¨æ¥è·å¾—æ›´å¥½çš„æœåŠ¡ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸ä½¿ç”¨ã€‚</li>
<li><strong>æ€»é•¿åº¦</strong> - åŒ…æ‹¬é¦–éƒ¨é•¿åº¦å’Œæ•°æ®éƒ¨åˆ†é•¿åº¦ã€‚å  16 ä½ï¼Œå› æ­¤æ•°æ®æŠ¥çš„æœ€å¤§é•¿åº¦ä¸º 2 <sup>16</sup> - 1 &#x3D; 65535 å­—èŠ‚ã€‚</li>
<li><strong>ç”Ÿå­˜æ—¶é—´</strong> - TTLï¼Œå®ƒçš„å­˜åœ¨æ˜¯ä¸ºäº†é˜²æ­¢æ— æ³•äº¤ä»˜çš„æ•°æ®æŠ¥åœ¨äº’è”ç½‘ä¸­ä¸æ–­å…œåœˆå­ã€‚ä»¥è·¯ç”±å™¨è·³æ•°ä¸ºå•ä½ï¼Œå½“ TTL ä¸º 0 æ—¶å°±ä¸¢å¼ƒæ•°æ®æŠ¥ã€‚</li>
<li><strong>åè®®</strong> - æŒ‡å‡ºæºå¸¦çš„æ•°æ®åº”è¯¥ä¸Šäº¤ç»™å“ªä¸ªåè®®è¿›è¡Œå¤„ç†ï¼Œä¾‹å¦‚ ICMPã€TCPã€UDP ç­‰ã€‚</li>
<li><strong>é¦–éƒ¨æ£€éªŒå’Œ</strong> - å› ä¸ºæ•°æ®æŠ¥æ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼Œéƒ½è¦é‡æ–°è®¡ç®—æ£€éªŒå’Œï¼Œå› æ­¤æ£€éªŒå’Œä¸åŒ…å«æ•°æ®éƒ¨åˆ†å¯ä»¥å‡å°‘è®¡ç®—çš„å·¥ä½œé‡ã€‚</li>
<li><strong>æ ‡è¯†</strong> - åœ¨æ•°æ®æŠ¥é•¿åº¦è¿‡é•¿ä»è€Œå‘ç”Ÿåˆ†ç‰‡çš„æƒ…å†µä¸‹ï¼Œç›¸åŒæ•°æ®æŠ¥çš„ä¸åŒåˆ†ç‰‡å…·æœ‰ç›¸åŒçš„æ ‡è¯†ç¬¦ã€‚</li>
<li><strong>ç‰‡åç§»</strong> - å’Œæ ‡è¯†ç¬¦ä¸€èµ·ï¼Œç”¨äºå‘ç”Ÿåˆ†ç‰‡çš„æƒ…å†µã€‚ç‰‡åç§»çš„å•ä½ä¸º 8 å­—èŠ‚ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1550913364479.png" alt="img"></p>
<h2 id="åœ°å€è§£æåè®®-ARP"><a href="#åœ°å€è§£æåè®®-ARP" class="headerlink" title="åœ°å€è§£æåè®® ARP"></a>åœ°å€è§£æåè®® ARP</h2><p>ç½‘ç»œå±‚å®ç°ä¸»æœºä¹‹é—´çš„é€šä¿¡ï¼Œè€Œé“¾è·¯å±‚å®ç°å…·ä½“æ¯æ®µé“¾è·¯ä¹‹é—´çš„é€šä¿¡ã€‚å› æ­¤åœ¨é€šä¿¡è¿‡ç¨‹ä¸­ï¼ŒIP æ•°æ®æŠ¥çš„æºåœ°å€å’Œç›®çš„åœ°å€å§‹ç»ˆä¸å˜ï¼Œè€Œ MAC åœ°å€éšç€é“¾è·¯çš„æ”¹å˜è€Œæ”¹å˜ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1551086787261.png" alt="img"></p>
<p>ARP å®ç°ç”± IP åœ°å€å¾—åˆ° MAC åœ°å€ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1551086769846.png" alt="img"></p>
<p>æ¯ä¸ªä¸»æœºéƒ½æœ‰ä¸€ä¸ª ARP é«˜é€Ÿç¼“å­˜ï¼Œé‡Œé¢æœ‰æœ¬å±€åŸŸç½‘ä¸Šçš„å„ä¸»æœºå’Œè·¯ç”±å™¨çš„ IP åœ°å€åˆ° MAC åœ°å€çš„æ˜ å°„è¡¨ã€‚</p>
<p>å¦‚æœä¸»æœº A çŸ¥é“ä¸»æœº B çš„ IP åœ°å€ï¼Œä½†æ˜¯ ARP é«˜é€Ÿç¼“å­˜ä¸­æ²¡æœ‰è¯¥ IP åœ°å€åˆ° MAC åœ°å€çš„æ˜ å°„ï¼Œæ­¤æ—¶ä¸»æœº A é€šè¿‡å¹¿æ’­çš„æ–¹å¼å‘é€ ARP è¯·æ±‚åˆ†ç»„ï¼Œä¸»æœº B æ”¶åˆ°è¯¥è¯·æ±‚åä¼šå‘é€ ARP å“åº”åˆ†ç»„ç»™ä¸»æœº A å‘ŠçŸ¥å…¶ MAC åœ°å€ï¼Œéšåä¸»æœº A å‘å…¶é«˜é€Ÿç¼“å­˜ä¸­å†™å…¥ä¸»æœº B çš„ IP åœ°å€åˆ° MAC åœ°å€çš„æ˜ å°„ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1551086833117.png" alt="img"></p>
<h2 id="ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®®-ICMP"><a href="#ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®®-ICMP" class="headerlink" title="ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®® ICMP"></a>ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®® ICMP</h2><p>ICMP æ˜¯ä¸ºäº†æ›´æœ‰æ•ˆåœ°è½¬å‘ IP æ•°æ®æŠ¥å’Œæé«˜äº¤ä»˜æˆåŠŸçš„æœºä¼šã€‚å®ƒå°è£…åœ¨ IP æ•°æ®æŠ¥ä¸­ï¼Œä½†æ˜¯ä¸å±äºé«˜å±‚åè®®ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1551086857345.png" alt="img"></p>
<p>ICMP æŠ¥æ–‡åˆ†ä¸ºå·®é”™æŠ¥å‘ŠæŠ¥æ–‡å’Œè¯¢é—®æŠ¥æ–‡ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1551086870897.png" alt="img"></p>
<h3 id="Ping"><a href="#Ping" class="headerlink" title="Ping"></a>Ping</h3><p>Ping æ˜¯ ICMP çš„ä¸€ä¸ªé‡è¦åº”ç”¨ï¼Œä¸»è¦ç”¨æ¥æµ‹è¯•ä¸¤å°ä¸»æœºä¹‹é—´çš„è¿é€šæ€§ã€‚</p>
<p>Ping çš„åŸç†æ˜¯é€šè¿‡å‘ç›®çš„ä¸»æœºå‘é€ ICMP Echo è¯·æ±‚æŠ¥æ–‡ï¼Œç›®çš„ä¸»æœºæ”¶åˆ°ä¹‹åä¼šå‘é€ Echo å›ç­”æŠ¥æ–‡ã€‚Ping ä¼šæ ¹æ®æ—¶é—´å’ŒæˆåŠŸå“åº”çš„æ¬¡æ•°ä¼°ç®—å‡ºæ•°æ®åŒ…å¾€è¿”æ—¶é—´ä»¥åŠä¸¢åŒ…ç‡ã€‚</p>
<h3 id="Traceroute"><a href="#Traceroute" class="headerlink" title="Traceroute"></a>Traceroute</h3><p>Traceroute æ˜¯ ICMP çš„å¦ä¸€ä¸ªåº”ç”¨ï¼Œç”¨æ¥è·Ÿè¸ªä¸€ä¸ªåˆ†ç»„ä»æºç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„ã€‚</p>
<p>Traceroute å‘é€çš„ IP æ•°æ®æŠ¥å°è£…çš„æ˜¯æ— æ³•äº¤ä»˜çš„ UDP ç”¨æˆ·æ•°æ®æŠ¥ï¼Œå¹¶ç”±ç›®çš„ä¸»æœºå‘é€ç»ˆç‚¹ä¸å¯è¾¾å·®é”™æŠ¥å‘ŠæŠ¥æ–‡ã€‚</p>
<ul>
<li>æºä¸»æœºå‘ç›®çš„ä¸»æœºå‘é€ä¸€è¿ä¸²çš„ IP æ•°æ®æŠ¥ã€‚ç¬¬ä¸€ä¸ªæ•°æ®æŠ¥ P1 çš„ç”Ÿå­˜æ—¶é—´ TTL è®¾ç½®ä¸º 1ï¼Œå½“ P1 åˆ°è¾¾è·¯å¾„ä¸Šçš„ç¬¬ä¸€ä¸ªè·¯ç”±å™¨ R1 æ—¶ï¼ŒR1 æ”¶ä¸‹å®ƒå¹¶æŠŠ TTL å‡ 1ï¼Œæ­¤æ—¶ TTL ç­‰äº 0ï¼ŒR1 å°±æŠŠ P1 ä¸¢å¼ƒï¼Œå¹¶å‘æºä¸»æœºå‘é€ä¸€ä¸ª ICMP æ—¶é—´è¶…è¿‡å·®é”™æŠ¥å‘ŠæŠ¥æ–‡ï¼›</li>
<li>æºä¸»æœºæ¥ç€å‘é€ç¬¬äºŒä¸ªæ•°æ®æŠ¥ P2ï¼Œå¹¶æŠŠ TTL è®¾ç½®ä¸º 2ã€‚P2 å…ˆåˆ°è¾¾ R1ï¼ŒR1 æ”¶ä¸‹åæŠŠ TTL å‡ 1 å†è½¬å‘ç»™ R2ï¼ŒR2 æ”¶ä¸‹åä¹ŸæŠŠ TTL å‡ 1ï¼Œç”±äºæ­¤æ—¶ TTL ç­‰äº 0ï¼ŒR2 å°±ä¸¢å¼ƒ P2ï¼Œå¹¶å‘æºä¸»æœºå‘é€ä¸€ä¸ª ICMP æ—¶é—´è¶…è¿‡å·®é”™æŠ¥æ–‡ã€‚</li>
<li>ä¸æ–­æ‰§è¡Œè¿™æ ·çš„æ­¥éª¤ï¼Œç›´åˆ°æœ€åä¸€ä¸ªæ•°æ®æŠ¥åˆšåˆšåˆ°è¾¾ç›®çš„ä¸»æœºï¼Œä¸»æœºä¸è½¬å‘æ•°æ®æŠ¥ï¼Œä¹Ÿä¸æŠŠ TTL å€¼å‡ 1ã€‚ä½†æ˜¯å› ä¸ºæ•°æ®æŠ¥å°è£…çš„æ˜¯æ— æ³•äº¤ä»˜çš„ UDPï¼Œå› æ­¤ç›®çš„ä¸»æœºè¦å‘æºä¸»æœºå‘é€ ICMP ç»ˆç‚¹ä¸å¯è¾¾å·®é”™æŠ¥å‘ŠæŠ¥æ–‡ã€‚</li>
<li>ä¹‹åæºä¸»æœºçŸ¥é“äº†åˆ°è¾¾ç›®çš„ä¸»æœºæ‰€ç»è¿‡çš„è·¯ç”±å™¨ IP åœ°å€ä»¥åŠåˆ°è¾¾æ¯ä¸ªè·¯ç”±å™¨çš„å¾€è¿”æ—¶é—´ã€‚</li>
</ul>
<h2 id="è™šæ‹Ÿä¸“ç”¨ç½‘-VPN"><a href="#è™šæ‹Ÿä¸“ç”¨ç½‘-VPN" class="headerlink" title="è™šæ‹Ÿä¸“ç”¨ç½‘ VPN"></a>è™šæ‹Ÿä¸“ç”¨ç½‘ VPN</h2><p>ç”±äº IP åœ°å€çš„ç´§ç¼ºï¼Œä¸€ä¸ªæœºæ„èƒ½ç”³è¯·åˆ°çš„ IP åœ°å€æ•°å¾€å¾€è¿œå°äºæœ¬æœºæ„æ‰€æ‹¥æœ‰çš„ä¸»æœºæ•°ã€‚å¹¶ä¸”ä¸€ä¸ªæœºæ„å¹¶ä¸éœ€è¦æŠŠæ‰€æœ‰çš„ä¸»æœºæ¥å…¥åˆ°å¤–éƒ¨çš„äº’è”ç½‘ä¸­ï¼Œæœºæ„å†…çš„è®¡ç®—æœºå¯ä»¥ä½¿ç”¨ä»…åœ¨æœ¬æœºæ„æœ‰æ•ˆçš„ IP åœ°å€ï¼ˆä¸“ç”¨åœ°å€ï¼‰ã€‚</p>
<p>æœ‰ä¸‰ä¸ªä¸“ç”¨åœ°å€å—ï¼š</p>
<ul>
<li>10.0.0.0 ~ 10.255.255.255</li>
<li>172.16.0.0 ~ 172.31.255.255</li>
<li>192.168.0.0 ~ 192.168.255.255</li>
</ul>
<p>VPN ä½¿ç”¨å…¬ç”¨çš„äº’è”ç½‘ä½œä¸ºæœ¬æœºæ„å„ä¸“ç”¨ç½‘ä¹‹é—´çš„é€šä¿¡è½½ä½“ã€‚ä¸“ç”¨æŒ‡æœºæ„å†…çš„ä¸»æœºåªä¸æœ¬æœºæ„å†…çš„å…¶å®ƒä¸»æœºé€šä¿¡ï¼›è™šæ‹ŸæŒ‡å¥½åƒæ˜¯ï¼Œè€Œå®é™…ä¸Šå¹¶ä¸æ˜¯ï¼Œå®ƒæœ‰ç»è¿‡å…¬ç”¨çš„äº’è”ç½‘ã€‚</p>
<p>ä¸‹å›¾ä¸­ï¼Œåœºæ‰€ A å’Œ B çš„é€šä¿¡ç»è¿‡äº’è”ç½‘ï¼Œå¦‚æœåœºæ‰€ A çš„ä¸»æœº X è¦å’Œå¦ä¸€ä¸ªåœºæ‰€ B çš„ä¸»æœº Y é€šä¿¡ï¼ŒIP æ•°æ®æŠ¥çš„æºåœ°å€æ˜¯ 10.1.0.1ï¼Œç›®çš„åœ°å€æ˜¯ 10.2.0.3ã€‚æ•°æ®æŠ¥å…ˆå‘é€åˆ°ä¸äº’è”ç½‘ç›¸è¿çš„è·¯ç”±å™¨ R1ï¼ŒR1 å¯¹å†…éƒ¨æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œç„¶åé‡æ–°åŠ ä¸Šæ•°æ®æŠ¥çš„é¦–éƒ¨ï¼Œæºåœ°å€æ˜¯è·¯ç”±å™¨ R1 çš„å…¨çƒåœ°å€ 125.1.2.3ï¼Œç›®çš„åœ°å€æ˜¯è·¯ç”±å™¨ R2 çš„å…¨çƒåœ°å€ 194.4.5.6ã€‚è·¯ç”±å™¨ R2 æ”¶åˆ°æ•°æ®æŠ¥åå°†æ•°æ®éƒ¨åˆ†è¿›è¡Œè§£å¯†ï¼Œæ¢å¤åŸæ¥çš„æ•°æ®æŠ¥ï¼Œæ­¤æ—¶ç›®çš„åœ°å€ä¸º 10.2.0.3ï¼Œå°±äº¤ä»˜ç»™ Yã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1551086901339.png" alt="img"></p>
<h2 id="ç½‘ç»œåœ°å€è½¬æ¢-NAT"><a href="#ç½‘ç»œåœ°å€è½¬æ¢-NAT" class="headerlink" title="ç½‘ç»œåœ°å€è½¬æ¢ NAT"></a>ç½‘ç»œåœ°å€è½¬æ¢ NAT</h2><p>ä¸“ç”¨ç½‘å†…éƒ¨çš„ä¸»æœºä½¿ç”¨æœ¬åœ° IP åœ°å€åˆæƒ³å’Œäº’è”ç½‘ä¸Šçš„ä¸»æœºé€šä¿¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ NAT æ¥å°†æœ¬åœ° IP è½¬æ¢ä¸ºå…¨çƒ IPã€‚</p>
<p>åœ¨ä»¥å‰ï¼ŒNAT å°†æœ¬åœ° IP å’Œå…¨çƒ IP ä¸€ä¸€å¯¹åº”ï¼Œè¿™ç§æ–¹å¼ä¸‹æ‹¥æœ‰ n ä¸ªå…¨çƒ IP åœ°å€çš„ä¸“ç”¨ç½‘å†…æœ€å¤šåªå¯ä»¥åŒæ—¶æœ‰ n å°ä¸»æœºæ¥å…¥äº’è”ç½‘ã€‚ä¸ºäº†æ›´æœ‰æ•ˆåœ°åˆ©ç”¨å…¨çƒ IP åœ°å€ï¼Œç°åœ¨å¸¸ç”¨çš„ NAT è½¬æ¢è¡¨æŠŠä¼ è¾“å±‚çš„ç«¯å£å·ä¹Ÿç”¨ä¸Šäº†ï¼Œä½¿å¾—å¤šä¸ªä¸“ç”¨ç½‘å†…éƒ¨çš„ä¸»æœºå…±ç”¨ä¸€ä¸ªå…¨çƒ IP åœ°å€ã€‚ä½¿ç”¨ç«¯å£å·çš„ NAT ä¹Ÿå«åšç½‘ç»œåœ°å€ä¸ç«¯å£è½¬æ¢ NAPTã€‚</p>
<h2 id="è·¯ç”±å™¨çš„ç»“æ„"><a href="#è·¯ç”±å™¨çš„ç»“æ„" class="headerlink" title="è·¯ç”±å™¨çš„ç»“æ„"></a>è·¯ç”±å™¨çš„ç»“æ„</h2><p>è·¯ç”±å™¨ä»åŠŸèƒ½ä¸Šå¯ä»¥åˆ’åˆ†ä¸ºï¼šè·¯ç”±é€‰æ‹©å’Œåˆ†ç»„è½¬å‘ã€‚</p>
<p>åˆ†ç»„è½¬å‘ç»“æ„ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼šäº¤æ¢ç»“æ„ã€ä¸€ç»„è¾“å…¥ç«¯å£å’Œä¸€ç»„è¾“å‡ºç«¯å£ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1551086930371.png" alt="img"></p>
<h2 id="è·¯ç”±å™¨åˆ†ç»„è½¬å‘æµç¨‹"><a href="#è·¯ç”±å™¨åˆ†ç»„è½¬å‘æµç¨‹" class="headerlink" title="è·¯ç”±å™¨åˆ†ç»„è½¬å‘æµç¨‹"></a>è·¯ç”±å™¨åˆ†ç»„è½¬å‘æµç¨‹</h2><ul>
<li>ä»æ•°æ®æŠ¥çš„é¦–éƒ¨æå–ç›®çš„ä¸»æœºçš„ IP åœ°å€ Dï¼Œå¾—åˆ°ç›®çš„ç½‘ç»œåœ°å€ Nã€‚</li>
<li>è‹¥ N å°±æ˜¯ä¸æ­¤è·¯ç”±å™¨ç›´æ¥ç›¸è¿çš„æŸä¸ªç½‘ç»œåœ°å€ï¼Œåˆ™è¿›è¡Œç›´æ¥äº¤ä»˜ï¼›</li>
<li>è‹¥è·¯ç”±è¡¨ä¸­æœ‰ç›®çš„åœ°å€ä¸º D çš„ç‰¹å®šä¸»æœºè·¯ç”±ï¼Œåˆ™æŠŠæ•°æ®æŠ¥ä¼ é€ç»™è¡¨ä¸­æ‰€æŒ‡æ˜çš„ä¸‹ä¸€è·³è·¯ç”±å™¨ï¼›</li>
<li>è‹¥è·¯ç”±è¡¨ä¸­æœ‰åˆ°è¾¾ç½‘ç»œ N çš„è·¯ç”±ï¼Œåˆ™æŠŠæ•°æ®æŠ¥ä¼ é€ç»™è·¯ç”±è¡¨ä¸­æ‰€æŒ‡æ˜çš„ä¸‹ä¸€è·³è·¯ç”±å™¨ï¼›</li>
<li>è‹¥è·¯ç”±è¡¨ä¸­æœ‰ä¸€ä¸ªé»˜è®¤è·¯ç”±ï¼Œåˆ™æŠŠæ•°æ®æŠ¥ä¼ é€ç»™è·¯ç”±è¡¨ä¸­æ‰€æŒ‡æ˜çš„é»˜è®¤è·¯ç”±å™¨ï¼›</li>
<li>æŠ¥å‘Šè½¬å‘åˆ†ç»„å‡ºé”™ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1551086952828.png" alt="img"></p>
<h2 id="è·¯ç”±é€‰æ‹©åè®®"><a href="#è·¯ç”±é€‰æ‹©åè®®" class="headerlink" title="è·¯ç”±é€‰æ‹©åè®®"></a>è·¯ç”±é€‰æ‹©åè®®</h2><p>è·¯ç”±é€‰æ‹©åè®®éƒ½æ˜¯è‡ªé€‚åº”çš„ï¼Œèƒ½éšç€ç½‘ç»œé€šä¿¡é‡å’Œæ‹“æ‰‘ç»“æ„çš„å˜åŒ–è€Œè‡ªé€‚åº”åœ°è¿›è¡Œè°ƒæ•´ã€‚</p>
<p>äº’è”ç½‘å¯ä»¥åˆ’åˆ†ä¸ºè®¸å¤šè¾ƒå°çš„è‡ªæ²»ç³»ç»Ÿ ASï¼Œä¸€ä¸ª AS å¯ä»¥ä½¿ç”¨ä¸€ç§å’Œåˆ«çš„ AS ä¸åŒçš„è·¯ç”±é€‰æ‹©åè®®ã€‚</p>
<p>å¯ä»¥æŠŠè·¯ç”±é€‰æ‹©åè®®åˆ’åˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p>
<ul>
<li>è‡ªæ²»ç³»ç»Ÿå†…éƒ¨çš„è·¯ç”±é€‰æ‹©ï¼šRIP å’Œ OSPF</li>
<li>è‡ªæ²»ç³»ç»Ÿé—´çš„è·¯ç”±é€‰æ‹©ï¼šBGP</li>
</ul>
<h3 id="å†…éƒ¨ç½‘å…³åè®®-RIP"><a href="#å†…éƒ¨ç½‘å…³åè®®-RIP" class="headerlink" title="å†…éƒ¨ç½‘å…³åè®® RIP"></a>å†…éƒ¨ç½‘å…³åè®® RIP</h3><p>RIP æ˜¯ä¸€ç§åŸºäºè·ç¦»å‘é‡çš„è·¯ç”±é€‰æ‹©åè®®ã€‚è·ç¦»æ˜¯æŒ‡è·³æ•°ï¼Œç›´æ¥ç›¸è¿çš„è·¯ç”±å™¨è·³æ•°ä¸º 1ã€‚è·³æ•°æœ€å¤šä¸º 15ï¼Œè¶…è¿‡ 15 è¡¨ç¤ºä¸å¯è¾¾ã€‚</p>
<p>RIP æŒ‰å›ºå®šçš„æ—¶é—´é—´éš”ä»…å’Œç›¸é‚»è·¯ç”±å™¨äº¤æ¢è‡ªå·±çš„è·¯ç”±è¡¨ï¼Œç»è¿‡è‹¥å¹²æ¬¡äº¤æ¢ä¹‹åï¼Œæ‰€æœ‰è·¯ç”±å™¨æœ€ç»ˆä¼šçŸ¥é“åˆ°è¾¾æœ¬è‡ªæ²»ç³»ç»Ÿä¸­ä»»ä½•ä¸€ä¸ªç½‘ç»œçš„æœ€çŸ­è·ç¦»å’Œä¸‹ä¸€è·³è·¯ç”±å™¨åœ°å€ã€‚</p>
<p>è·ç¦»å‘é‡ç®—æ³•ï¼š</p>
<ul>
<li>å¯¹åœ°å€ä¸º X çš„ç›¸é‚»è·¯ç”±å™¨å‘æ¥çš„ RIP æŠ¥æ–‡ï¼Œå…ˆä¿®æ”¹æŠ¥æ–‡ä¸­çš„æ‰€æœ‰é¡¹ç›®ï¼ŒæŠŠä¸‹ä¸€è·³å­—æ®µä¸­çš„åœ°å€æ”¹ä¸º Xï¼Œå¹¶æŠŠæ‰€æœ‰çš„è·ç¦»å­—æ®µåŠ  1ï¼›</li>
<li>å¯¹ä¿®æ”¹åçš„ RIP æŠ¥æ–‡ä¸­çš„æ¯ä¸€ä¸ªé¡¹ç›®ï¼Œè¿›è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</li>
<li>è‹¥åŸæ¥çš„è·¯ç”±è¡¨ä¸­æ²¡æœ‰ç›®çš„ç½‘ç»œ Nï¼Œåˆ™æŠŠè¯¥é¡¹ç›®æ·»åŠ åˆ°è·¯ç”±è¡¨ä¸­ï¼›</li>
<li>å¦åˆ™ï¼šè‹¥ä¸‹ä¸€è·³è·¯ç”±å™¨åœ°å€æ˜¯ Xï¼Œåˆ™æŠŠæ”¶åˆ°çš„é¡¹ç›®æ›¿æ¢åŸæ¥è·¯ç”±è¡¨ä¸­çš„é¡¹ç›®ï¼›å¦åˆ™ï¼šè‹¥æ”¶åˆ°çš„é¡¹ç›®ä¸­çš„è·ç¦» d å°äºè·¯ç”±è¡¨ä¸­çš„è·ç¦»ï¼Œåˆ™è¿›è¡Œæ›´æ–°ï¼ˆä¾‹å¦‚åŸå§‹è·¯ç”±è¡¨é¡¹ä¸º Net2, 5, Pï¼Œæ–°è¡¨é¡¹ä¸º Net2, 4, Xï¼Œåˆ™æ›´æ–°ï¼‰ï¼›å¦åˆ™ä»€ä¹ˆä¹Ÿä¸åšã€‚</li>
<li>è‹¥ 3 åˆ†é’Ÿè¿˜æ²¡æœ‰æ”¶åˆ°ç›¸é‚»è·¯ç”±å™¨çš„æ›´æ–°è·¯ç”±è¡¨ï¼Œåˆ™æŠŠè¯¥ç›¸é‚»è·¯ç”±å™¨æ ‡ä¸ºä¸å¯è¾¾ï¼Œå³æŠŠè·ç¦»ç½®ä¸º 16ã€‚</li>
</ul>
<p>RIP åè®®å®ç°ç®€å•ï¼Œå¼€é”€å°ã€‚ä½†æ˜¯ RIP èƒ½ä½¿ç”¨çš„æœ€å¤§è·ç¦»ä¸º 15ï¼Œé™åˆ¶äº†ç½‘ç»œçš„è§„æ¨¡ã€‚å¹¶ä¸”å½“ç½‘ç»œå‡ºç°æ•…éšœæ—¶ï¼Œè¦ç»è¿‡æ¯”è¾ƒé•¿çš„æ—¶é—´æ‰èƒ½å°†æ­¤æ¶ˆæ¯ä¼ é€åˆ°æ‰€æœ‰è·¯ç”±å™¨ã€‚</p>
<h3 id="å†…éƒ¨ç½‘å…³åè®®-OSPF"><a href="#å†…éƒ¨ç½‘å…³åè®®-OSPF" class="headerlink" title="å†…éƒ¨ç½‘å…³åè®® OSPF"></a>å†…éƒ¨ç½‘å…³åè®® OSPF</h3><p>å¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆ OSPFï¼Œæ˜¯ä¸ºäº†å…‹æœ RIP çš„ç¼ºç‚¹è€Œå¼€å‘å‡ºæ¥çš„ã€‚</p>
<p>å¼€æ”¾è¡¨ç¤º OSPF ä¸å—æŸä¸€å®¶å‚å•†æ§åˆ¶ï¼Œè€Œæ˜¯å…¬å¼€å‘è¡¨çš„ï¼›æœ€çŸ­è·¯å¾„ä¼˜å…ˆè¡¨ç¤ºä½¿ç”¨äº† Dijkstra æå‡ºçš„æœ€çŸ­è·¯å¾„ç®—æ³• SPFã€‚</p>
<p>OSPF å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å‘æœ¬è‡ªæ²»ç³»ç»Ÿä¸­çš„æ‰€æœ‰è·¯ç”±å™¨å‘é€ä¿¡æ¯ï¼Œè¿™ç§æ–¹æ³•æ˜¯æ´ªæ³›æ³•ã€‚</li>
<li>å‘é€çš„ä¿¡æ¯å°±æ˜¯ä¸ç›¸é‚»è·¯ç”±å™¨çš„é“¾è·¯çŠ¶æ€ï¼Œé“¾è·¯çŠ¶æ€åŒ…æ‹¬ä¸å“ªäº›è·¯ç”±å™¨ç›¸è¿ä»¥åŠé“¾è·¯çš„åº¦é‡ï¼Œåº¦é‡ç”¨è´¹ç”¨ã€è·ç¦»ã€æ—¶å»¶ã€å¸¦å®½ç­‰æ¥è¡¨ç¤ºã€‚</li>
<li>åªæœ‰å½“é“¾è·¯çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè·¯ç”±å™¨æ‰ä¼šå‘é€ä¿¡æ¯ã€‚</li>
</ul>
<p>æ‰€æœ‰è·¯ç”±å™¨éƒ½å…·æœ‰å…¨ç½‘çš„æ‹“æ‰‘ç»“æ„å›¾ï¼Œå¹¶ä¸”æ˜¯ä¸€è‡´çš„ã€‚ç›¸æ¯”äº RIPï¼ŒOSPF çš„æ›´æ–°è¿‡ç¨‹æ”¶æ•›çš„å¾ˆå¿«ã€‚</p>
<h3 id="å¤–éƒ¨ç½‘å…³åè®®-BGP"><a href="#å¤–éƒ¨ç½‘å…³åè®®-BGP" class="headerlink" title="å¤–éƒ¨ç½‘å…³åè®® BGP"></a>å¤–éƒ¨ç½‘å…³åè®® BGP</h3><p>BGPï¼ˆBorder Gateway Protocolï¼Œè¾¹ç•Œç½‘å…³åè®®ï¼‰</p>
<p>AS ä¹‹é—´çš„è·¯ç”±é€‰æ‹©å¾ˆå›°éš¾ï¼Œä¸»è¦æ˜¯ç”±äºï¼š</p>
<ul>
<li>äº’è”ç½‘è§„æ¨¡å¾ˆå¤§ï¼›</li>
<li>å„ä¸ª AS å†…éƒ¨ä½¿ç”¨ä¸åŒçš„è·¯ç”±é€‰æ‹©åè®®ï¼Œæ— æ³•å‡†ç¡®å®šä¹‰è·¯å¾„çš„åº¦é‡ï¼›</li>
<li>AS ä¹‹é—´çš„è·¯ç”±é€‰æ‹©å¿…é¡»è€ƒè™‘æœ‰å…³çš„ç­–ç•¥ï¼Œæ¯”å¦‚æœ‰äº› AS ä¸æ„¿æ„è®©å…¶å®ƒ AS ç»è¿‡ã€‚</li>
</ul>
<p>BGP åªèƒ½å¯»æ‰¾ä¸€æ¡æ¯”è¾ƒå¥½çš„è·¯ç”±ï¼Œè€Œä¸æ˜¯æœ€ä½³è·¯ç”±ã€‚</p>
<p>æ¯ä¸ª AS éƒ½å¿…é¡»é…ç½® BGP å‘è¨€äººï¼Œé€šè¿‡åœ¨ä¸¤ä¸ªç›¸é‚» BGP å‘è¨€äººä¹‹é—´å»ºç«‹ TCP è¿æ¥æ¥äº¤æ¢è·¯ç”±ä¿¡æ¯ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/network/1551086977310.png" alt="img"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/pages/ba212929/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/avatar.gif">
      <meta itemprop="name" content="é’æ‚Ÿ â—¾ Dunwu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunwu Blog">
      <meta itemprop="description" content="é’æ‚Ÿçš„ä¸ªäººåšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | Dunwu Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/pages/ba212929/" class="post-title-link" itemprop="url">è®¡ç®—æœºç½‘ç»œä¹‹æ•°æ®é“¾è·¯å±‚</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2019-02-21 14:58:00" itemprop="dateCreated datePublished" datetime="2019-02-21T14:58:00+08:00">2019-02-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-13 17:56:53" itemprop="dateModified" datetime="2025-09-13T17:56:53+08:00">2025-09-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">ç½‘ç»œ</span></a>
        </span>
          ï¼Œ
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E7%BB%BC%E5%90%88/" itemprop="url" rel="index"><span itemprop="name">ç½‘ç»œç»¼åˆ</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>2.5k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>2 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="è®¡ç®—æœºç½‘ç»œä¹‹æ•°æ®é“¾è·¯å±‚"><a href="#è®¡ç®—æœºç½‘ç»œä¹‹æ•°æ®é“¾è·¯å±‚" class="headerlink" title="è®¡ç®—æœºç½‘ç»œä¹‹æ•°æ®é“¾è·¯å±‚"></a>è®¡ç®—æœºç½‘ç»œä¹‹æ•°æ®é“¾è·¯å±‚</h1><blockquote>
<p><strong>æ•°æ®é“¾è·¯å±‚ï¼ˆData Link Layerï¼‰</strong> - ç½‘ç»œå±‚é’ˆå¯¹çš„è¿˜æ˜¯ä¸»æœºä¹‹é—´çš„æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œè€Œä¸»æœºä¹‹é—´å¯ä»¥æœ‰å¾ˆå¤šé“¾è·¯ï¼Œé“¾è·¯å±‚åè®®å°±æ˜¯ä¸ºåŒä¸€é“¾è·¯çš„ä¸»æœºæä¾›æ•°æ®ä¼ è¾“æœåŠ¡ã€‚æ•°æ®é“¾è·¯å±‚æŠŠç½‘ç»œå±‚ä¼ ä¸‹æ¥çš„åˆ†ç»„å°è£…æˆå¸§ã€‚</p>
<ul>
<li>ä¸»è¦åè®®ï¼š<code>PPP</code>ã€<code>CSMA/CD</code> ç­‰ã€‚</li>
<li>æ•°æ®å•å…ƒï¼šå¸§ï¼ˆframeï¼‰ã€‚</li>
<li>å…¸å‹è®¾å¤‡ï¼šäºŒå±‚äº¤æ¢æœºã€ç½‘æ¡¥ã€ç½‘å¡ã€‚</li>
</ul>
</blockquote>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><ul>
<li>é“¾è·¯æ˜¯ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°ç›¸é‚»èŠ‚ç‚¹çš„ä¸€æ®µç‰©ç†çº¿è·¯ï¼Œæ•°æ®é“¾è·¯åˆ™æ˜¯åœ¨é“¾è·¯çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€äº›å¿…è¦çš„ç¡¬ä»¶ï¼ˆç½‘ç»œé€‚é…å™¨ï¼‰å’Œè½¯ä»¶ï¼ˆåè®®ï¼‰ã€‚</li>
<li>æ•°æ®é“¾è·¯å±‚ä¸‰ä¸ªåŸºæœ¬é—®é¢˜ï¼šå°è£…æˆå¸§ã€é€æ˜ä¼ è¾“ã€å·®é”™æ£€æµ‹ã€‚</li>
<li>æ•°æ®é“¾è·¯å±‚æœ‰ä¸¤ç§ä¿¡é“ç±»å‹ï¼šç‚¹å¯¹ç‚¹ä¿¡é“ï¼ˆä¸»è¦ä½¿ç”¨ <code>PPP</code>ï¼‰å’Œå¹¿æ’­ä¿¡é“ï¼ˆä¸»è¦ä½¿ç”¨ <code>CSMA/CD</code>ï¼‰ã€‚</li>
<li>ä»¥å¤ªç½‘ MAC å±‚çš„åœ°å€ã€‚</li>
<li>é€‚é…å™¨ã€è½¬å‘å™¨ã€é›†çº¿å™¨ã€ç½‘æ¡¥ã€ä»¥å¤ªç½‘äº¤æ¢æœºçš„ä½œç”¨åŠä½¿ç”¨åœºåˆã€‚</li>
</ul>
<h2 id="åŸºæœ¬é—®é¢˜"><a href="#åŸºæœ¬é—®é¢˜" class="headerlink" title="åŸºæœ¬é—®é¢˜"></a>åŸºæœ¬é—®é¢˜</h2><h3 id="å°è£…æˆå¸§"><a href="#å°è£…æˆå¸§" class="headerlink" title="å°è£…æˆå¸§"></a>å°è£…æˆå¸§</h3><p>ä¸ºç½‘ç»œå±‚ä¼ ä¸‹æ¥çš„ IP æ•°æ®æŠ¥æ·»åŠ é¦–éƒ¨å’Œå°¾éƒ¨ï¼Œç”¨äºæ ‡è®°å¸§çš„å¼€å§‹å’Œç»“æŸã€‚</p>
<p>ä¸ºäº†æé«˜ä¼ è¾“æ•ˆç‡ï¼Œåº”è¯¥è®©æ•°æ®éƒ¨åˆ†é•¿åº¦å°½å¯èƒ½å¤§äºé¦–éƒ¨å’Œå°¾éƒ¨ã€‚ä½†æ˜¯ï¼Œæ¯ç§é“¾è·¯å±‚åè®®éƒ½é™åˆ¶äº†å¸§çš„æ•°æ®éƒ¨åˆ†é•¿åº¦ä¸Šçº¿â€”â€”æœ€å¤§ä¼ é€å•å…ƒ MTUï¼ˆMaximum Transfer Unitï¼‰</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/data-link/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B8%A7.png" alt="img"></p>
<h3 id="é€æ˜ä¼ è¾“"><a href="#é€æ˜ä¼ è¾“" class="headerlink" title="é€æ˜ä¼ è¾“"></a>é€æ˜ä¼ è¾“</h3><p><strong>é€æ˜</strong>è¡¨ç¤ºï¼šæŸä¸€ä¸ªå®é™…å­˜åœ¨çš„äº‹ç‰©çœ‹èµ·æ¥å¥½åƒä¸å­˜åœ¨ä¸€æ ·ã€‚</p>
<p>å¸§ä½¿ç”¨é¦–éƒ¨å’Œå°¾éƒ¨è¿›è¡Œå®šç•Œï¼Œå¦‚æœå¸§çš„æ•°æ®éƒ¨åˆ†å«æœ‰å’Œé¦–éƒ¨å°¾éƒ¨ç›¸åŒçš„å†…å®¹ï¼Œé‚£ä¹ˆå¸§çš„å¼€å§‹å’Œç»“æŸä½ç½®å°±ä¼šè¢«é”™è¯¯çš„åˆ¤å®šã€‚éœ€è¦åœ¨æ•°æ®éƒ¨åˆ†å‡ºç°é¦–éƒ¨å°¾éƒ¨ç›¸åŒçš„å†…å®¹å‰é¢æ’å…¥è½¬ä¹‰å­—ç¬¦ã€‚å¦‚æœæ•°æ®éƒ¨åˆ†å‡ºç°è½¬ä¹‰å­—ç¬¦ï¼Œé‚£ä¹ˆå°±åœ¨è½¬ä¹‰å­—ç¬¦å‰é¢å†åŠ ä¸ªè½¬ä¹‰å­—ç¬¦ã€‚åœ¨æ¥æ”¶ç«¯è¿›è¡Œå¤„ç†ä¹‹åå¯ä»¥è¿˜åŸå‡ºåŸå§‹æ•°æ®ã€‚è¿™ä¸ªè¿‡ç¨‹é€æ˜ä¼ è¾“çš„å†…å®¹æ˜¯è½¬ä¹‰å­—ç¬¦ï¼Œç”¨æˆ·å¯Ÿè§‰ä¸åˆ°è½¬ä¹‰å­—ç¬¦çš„å­˜åœ¨ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/data-link/%E7%BB%8F%E8%BF%87%E5%AD%97%E8%8A%82%E5%A1%AB%E5%85%85%E5%90%8E%E5%8F%91%E9%80%81%E7%9A%84%E6%95%B0%E6%8D%AE.png" alt="img"></p>
<h3 id="å·®é”™æ£€æµ‹"><a href="#å·®é”™æ£€æµ‹" class="headerlink" title="å·®é”™æ£€æµ‹"></a>å·®é”™æ£€æµ‹</h3><p>ç›®å‰æ•°æ®é“¾è·¯å±‚å¹¿æ³›ä½¿ç”¨äº†<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%BE%AA%E7%8E%AF%E5%86%97%E4%BD%99%E6%A3%80%E9%AA%8C"><strong>å¾ªç¯å†—ä½™æ£€éªŒ CRCï¼ˆCyclic redundancy checkï¼‰</strong></a>æ¥æ£€æŸ¥æ¯”ç‰¹å·®é”™ã€‚</p>
<h2 id="ç‚¹å¯¹ç‚¹ä¿¡é“"><a href="#ç‚¹å¯¹ç‚¹ä¿¡é“" class="headerlink" title="ç‚¹å¯¹ç‚¹ä¿¡é“"></a>ç‚¹å¯¹ç‚¹ä¿¡é“</h2><p>ç‚¹å¯¹ç‚¹ä¿¡é“ä½¿ç”¨ä¸€å¯¹ä¸€çš„ç‚¹å¯¹ç‚¹é€šä¿¡æ–¹å¼ã€‚</p>
<p>å¯¹äºç‚¹å¯¹ç‚¹çš„é“¾è·¯ï¼Œç‚¹å¯¹ç‚¹åè®® PPPï¼ˆPoint-to-Point Protocolï¼‰æ˜¯ä½¿ç”¨æœ€å¹¿æ³›çš„æ•°æ®é“¾è·¯å±‚åè®®ã€‚</p>
<h3 id="PPP-åè®®"><a href="#PPP-åè®®" class="headerlink" title="PPP åè®®"></a>PPP åè®®</h3><p>äº’è”ç½‘ç”¨æˆ·é€šå¸¸éƒ½è¦è¿æ¥åˆ°æŸä¸ª ISP ä¹‹åæ‰èƒ½æ¥å…¥åˆ°äº’è”ç½‘ï¼ŒPPP åè®®æ˜¯ç”¨æˆ·è®¡ç®—æœºå’Œ ISP è¿›è¡Œé€šä¿¡æ—¶æ‰€ä½¿ç”¨çš„æ•°æ®é“¾è·¯å±‚åè®®ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/data-link/PPP%E5%8D%8F%E8%AE%AE.png" alt="img"></p>
<p>PPPï¼ˆç‚¹åˆ°ç‚¹åè®®ï¼‰æ˜¯ä¸ºåœ¨åŒç­‰å•å…ƒä¹‹é—´ä¼ è¾“æ•°æ®åŒ…è¿™æ ·çš„ç®€å•é“¾è·¯è®¾è®¡çš„é“¾è·¯å±‚åè®®ã€‚è¿™ç§é“¾è·¯æä¾›å…¨åŒå·¥æ“ä½œï¼Œå¹¶æŒ‰ç…§é¡ºåºä¼ é€’æ•°æ®åŒ…ã€‚è®¾è®¡ç›®çš„ä¸»è¦æ˜¯ç”¨æ¥é€šè¿‡æ‹¨å·æˆ–ä¸“çº¿æ–¹å¼å»ºç«‹ç‚¹å¯¹ç‚¹è¿æ¥å‘é€æ•°æ®ï¼Œä½¿å…¶æˆä¸ºå„ç§ä¸»æœºã€ç½‘æ¡¥å’Œè·¯ç”±å™¨ä¹‹é—´ç®€å•è¿æ¥çš„ä¸€ç§å…±é€šçš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/data-link/PPP%E5%B8%A7.png" alt="img"></p>
<p>PPP çš„å¸§æ ¼å¼ï¼š</p>
<ul>
<li>F å­—æ®µä¸ºå¸§çš„å®šç•Œç¬¦</li>
<li>A å’Œ C å­—æ®µæš‚æ—¶æ²¡æœ‰æ„ä¹‰</li>
<li>FCS å­—æ®µæ˜¯ä½¿ç”¨ CRC çš„æ£€éªŒåºåˆ—</li>
<li>ä¿¡æ¯éƒ¨åˆ†çš„é•¿åº¦ä¸è¶…è¿‡ 1500</li>
</ul>
<h2 id="å¹¿æ’­ä¿¡é“"><a href="#å¹¿æ’­ä¿¡é“" class="headerlink" title="å¹¿æ’­ä¿¡é“"></a>å¹¿æ’­ä¿¡é“</h2><p>å¹¿æ’­ä¿¡é“(broadcast channel)æ˜¯é€šè¿‡å¹¿æ’­çš„æ–¹å¼ä¼ è¾“ä¿¡æ¯çš„ä¿¡æ¯é€šé“ã€‚</p>
<p>æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½åœ¨åŒä¸€ä¸ªå¹¿æ’­ä¿¡é“ä¸Šå‘é€æ•°æ®ï¼Œå› æ­¤éœ€è¦æœ‰ä¸“é—¨çš„æ§åˆ¶æ–¹æ³•è¿›è¡Œåè°ƒï¼Œé¿å…å‘ç”Ÿå†²çªï¼ˆå†²çªä¹Ÿå«ç¢°æ’ï¼‰ã€‚</p>
<p>ä¸»è¦æœ‰ä¸¤ç§æ§åˆ¶æ–¹æ³•è¿›è¡Œåè°ƒï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨ä¿¡é“å¤ç”¨æŠ€æœ¯ï¼Œä¸€æ˜¯ä½¿ç”¨ CSMA&#x2F;CD åè®®ã€‚</p>
<h3 id="CSMA-CD-åè®®"><a href="#CSMA-CD-åè®®" class="headerlink" title="CSMA&#x2F;CD åè®®"></a>CSMA&#x2F;CD åè®®</h3><p>CSMA&#x2F;CDï¼ˆCarrier Sense Multiple Access with Collision Detectionï¼‰å³å¸¦å†²çªæ£€æµ‹çš„è½½æ³¢ç›‘å¬å¤šè·¯è®¿é—®æŠ€æœ¯(è½½æ³¢ç›‘å¬å¤šç‚¹æ¥å…¥&#x2F;ç¢°æ’æ£€æµ‹)ã€‚</p>
<ul>
<li><strong>å¤šç‚¹æ¥å…¥</strong> ï¼šè¯´æ˜è¿™æ˜¯æ€»çº¿å‹ç½‘ç»œï¼Œè®¸å¤šè®¡ç®—æœºä»¥å¤šç‚¹æ¥å…¥çš„æ–¹å¼è¿æ¥åœ¨ä¸€æ ¹æ€»çº¿ä¸Šã€‚</li>
<li><strong>è½½æ³¢ç›‘å¬</strong> ï¼šæ¯ä¸ªä¸»æœºéƒ½å¿…é¡»ä¸åœåœ°ç›‘å¬ä¿¡é“ã€‚å‘é€å‰ç›‘å¬ï¼Œå¦‚æœå¿™åˆ™ç­‰å¾…ï¼Œå¦‚æœç©ºé—²åˆ™å‘é€ã€‚</li>
<li><strong>ç¢°æ’æ£€æµ‹</strong> ï¼šå³è¾¹å‘é€è¾¹æ£€æµ‹ã€‚è‹¥æ£€æµ‹åˆ°ä¿¡é“æœ‰å¹²æ‰°ä¿¡å·ï¼Œåˆ™è¡¨ç¤ºäº§ç”Ÿäº†ç¢°æ’ï¼Œäºæ˜¯å°±è¦åœæ­¢å‘é€æ•°æ®ï¼Œè®¡ç®—å‡ºé€€é¿ç­‰å¾…æ—¶é—´ï¼Œç„¶åä½¿ç”¨ CSMA æ–¹æ³•ç»§ç»­å°è¯•å‘é€ã€‚è®¡ç®—é€€é¿ç­‰å¾…æ—¶é—´é‡‡ç”¨çš„æ˜¯<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%8C%87%E6%95%B0%E9%80%80%E9%81%BF%E7%AE%97%E6%B3%95">äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ç®—æ³•</a>ã€‚</li>
</ul>
<h2 id="å±€åŸŸç½‘"><a href="#å±€åŸŸç½‘" class="headerlink" title="å±€åŸŸç½‘"></a>å±€åŸŸç½‘</h2><p>å±€åŸŸç½‘ LANï¼ˆLocal Area Networkï¼‰æ˜¯æŒ‡åœ¨æŸä¸€åŒºåŸŸå†…ç”±å¤šå°è®¡ç®—æœºäº’è”æˆçš„è®¡ç®—æœºç»„ã€‚</p>
<p>å±€åŸŸç½‘çš„æ‹“æ‰‘ç»“æ„é€šå¸¸ä¸ºæ€»çº¿å‹å’Œç¯å‹ã€‚</p>
<p>å±€åŸŸç½‘æŠ€æœ¯ä¸»è¦æœ‰ï¼šä»¥å¤ªç½‘ã€ä»¤ç‰Œç¯ç½‘ã€FDDI ç½‘å’Œæ— çº¿å±€åŸŸç½‘ç­‰ã€‚</p>
<h2 id="ä»¥å¤ªç½‘"><a href="#ä»¥å¤ªç½‘" class="headerlink" title="ä»¥å¤ªç½‘"></a>ä»¥å¤ªç½‘</h2><p>ä»¥å¤ªç½‘ï¼ˆEthernetï¼‰æ˜¯ä¸€ç§æ˜Ÿå‹æ‹“æ‰‘ç»“æ„å±€åŸŸç½‘ã€‚</p>
<p>ä»¥å¤ªç½‘æ˜¯ç›®å‰åº”ç”¨æœ€å¹¿æ³›çš„å±€åŸŸç½‘ã€‚</p>
<p>ä»¥å¤ªç½‘ä½¿ç”¨ CSMA&#x2F;CD åè®®ã€‚</p>
<h2 id="MAC-åœ°å€"><a href="#MAC-åœ°å€" class="headerlink" title="MAC åœ°å€"></a>MAC åœ°å€</h2><p>MAC åœ°å€ï¼ˆMedia Access Control Addressï¼‰ï¼Œä¹Ÿç§°ä¸ºä»¥å¤ªç½‘åœ°å€æˆ–ç‰©ç†åœ°å€ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨æ¥ç¡®è®¤ç½‘ä¸Šè®¾å¤‡ä½ç½®çš„åœ°å€ã€‚</p>
<p>MAC åœ°å€é•¿åº¦ä¸º 6 å­—èŠ‚ï¼ˆ48 ä½ï¼‰ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†ç½‘ç»œé€‚é…å™¨ï¼ˆç½‘å¡ï¼‰ã€‚</p>
<p>ä¸€å°ä¸»æœºæ‹¥æœ‰å¤šå°‘ä¸ªç½‘ç»œé€‚é…å™¨å°±æœ‰å¤šå°‘ä¸ª MAC åœ°å€ã€‚</p>
<p><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/data-link/MAC%E5%B8%A7.png" alt="img"></p>
<h2 id="è®¾å¤‡"><a href="#è®¾å¤‡" class="headerlink" title="è®¾å¤‡"></a>è®¾å¤‡</h2><h3 id="é€‚é…å™¨"><a href="#é€‚é…å™¨" class="headerlink" title="é€‚é…å™¨"></a>é€‚é…å™¨</h3><p>ç½‘ç»œé€‚é…å™¨ä¸€èˆ¬æŒ‡ç½‘å¡ã€‚</p>
<p>ç½‘å¡æ˜¯å·¥ä½œåœ¨é“¾è·¯å±‚çš„ç½‘ç»œç»„ä»¶ï¼Œæ˜¯å±€åŸŸç½‘ä¸­è¿æ¥è®¡ç®—æœºå’Œä¼ è¾“ä»‹è´¨çš„æ¥å£ï¼Œä¸ä»…èƒ½å®ç°ä¸å±€åŸŸç½‘ä¼ è¾“ä»‹è´¨ä¹‹é—´çš„ç‰©ç†è¿æ¥å’Œç”µä¿¡å·åŒ¹é…ï¼Œè¿˜æ¶‰åŠå¸§çš„å‘é€ä¸æ¥æ”¶ã€å¸§çš„å°è£…ä¸æ‹†å°ã€ä»‹è´¨è®¿é—®æ§åˆ¶ã€æ•°æ®çš„ç¼–ç ä¸è§£ç ä»¥åŠæ•°æ®ç¼“å­˜çš„åŠŸèƒ½ç­‰ã€‚</p>
<p>ç½‘å¡å’Œå±€åŸŸç½‘ä¹‹é—´çš„é€šä¿¡æ˜¯é€šè¿‡ç”µç¼†æˆ–åŒç»çº¿ä»¥ä¸²è¡Œä¼ è¾“æ–¹å¼è¿›è¡Œçš„ã€‚è€Œç½‘å¡å’Œè®¡ç®—æœºä¹‹é—´çš„é€šä¿¡åˆ™æ˜¯é€šè¿‡è®¡ç®—æœºä¸»æ¿ä¸Šçš„ I&#x2F;O æ€»çº¿ä»¥å¹¶è¡Œä¼ è¾“æ–¹å¼è¿›è¡Œã€‚</p>
<h3 id="é›†çº¿å™¨"><a href="#é›†çº¿å™¨" class="headerlink" title="é›†çº¿å™¨"></a>é›†çº¿å™¨</h3><p>é›†çº¿å™¨ï¼ˆHubï¼‰çš„ä¸»è¦åŠŸèƒ½æ˜¯å¯¹æ¥æ”¶åˆ°çš„ä¿¡å·è¿›è¡Œå†ç”Ÿæ•´å½¢æ”¾å¤§ï¼Œä»¥æ‰©å¤§ç½‘ç»œçš„ä¼ è¾“è·ç¦»ï¼ŒåŒæ—¶æŠŠæ‰€æœ‰èŠ‚ç‚¹é›†ä¸­åœ¨ä»¥å®ƒä¸ºä¸­å¿ƒçš„èŠ‚ç‚¹ä¸Šã€‚</p>
<p>ä½¿ç”¨é›†çº¿å™¨å¯ä»¥åœ¨ç‰©ç†å±‚æ‰©å±•ä»¥å¤ªç½‘ã€‚</p>
<h3 id="ç½‘æ¡¥"><a href="#ç½‘æ¡¥" class="headerlink" title="ç½‘æ¡¥"></a>ç½‘æ¡¥</h3><p>ç½‘æ¡¥ï¼ˆBridgeï¼‰æ˜¯æ—©æœŸçš„ä¸¤ç«¯å£äºŒå±‚ç½‘ç»œè®¾å¤‡ï¼Œç”¨æ¥è¿æ¥ä¸åŒç½‘æ®µã€‚ç½‘æ¡¥çš„ä¸¤ä¸ªç«¯å£åˆ†åˆ«æœ‰ä¸€æ¡ç‹¬ç«‹çš„äº¤æ¢ä¿¡é“ï¼Œä¸æ˜¯å…±äº«ä¸€æ¡èƒŒæ¿æ€»çº¿ï¼Œå¯éš”ç¦»å†²çªåŸŸã€‚ç½‘æ¡¥æ¯”é›†çº¿å™¨ï¼ˆHubï¼‰æ€§èƒ½æ›´å¥½ï¼Œé›†çº¿å™¨ä¸Šå„ç«¯å£éƒ½æ˜¯å…±äº«åŒä¸€æ¡èƒŒæ¿æ€»çº¿çš„ã€‚åæ¥ï¼Œç½‘æ¡¥è¢«å…·æœ‰æ›´å¤šç«¯å£ã€åŒæ—¶ä¹Ÿå¯éš”ç¦»å†²çªåŸŸçš„äº¤æ¢æœºï¼ˆSwitchï¼‰æ‰€å–ä»£ã€‚</p>
<h3 id="ä»¥å¤ªç½‘äº¤æ¢æœº"><a href="#ä»¥å¤ªç½‘äº¤æ¢æœº" class="headerlink" title="ä»¥å¤ªç½‘äº¤æ¢æœº"></a>ä»¥å¤ªç½‘äº¤æ¢æœº</h3><p>ä»¥å¤ªç½‘äº¤æ¢æœºæ˜¯åŸºäºä»¥å¤ªç½‘ä¼ è¾“æ•°æ®çš„äº¤æ¢æœºï¼Œä»¥å¤ªç½‘é‡‡ç”¨å…±äº«æ€»çº¿å‹ä¼ è¾“åª’ä½“æ–¹å¼çš„å±€åŸŸç½‘ã€‚ä»¥å¤ªç½‘äº¤æ¢æœºçš„ç»“æ„æ˜¯æ¯ä¸ªç«¯å£éƒ½ç›´æ¥ä¸ä¸»æœºç›¸è¿ï¼Œå¹¶ä¸”ä¸€èˆ¬éƒ½å·¥ä½œåœ¨å…¨åŒå·¥æ–¹å¼ã€‚äº¤æ¢æœºèƒ½åŒæ—¶è¿é€šè®¸å¤šå¯¹ç«¯å£ï¼Œä½¿æ¯ä¸€å¯¹ç›¸äº’é€šä¿¡çš„ä¸»æœºéƒ½èƒ½åƒç‹¬å é€šä¿¡åª’ä½“é‚£æ ·ï¼Œè¿›è¡Œæ— å†²çªåœ°ä¼ è¾“æ•°æ®ã€‚</p>
<ul>
<li>ä»¥å¤ªç½‘äº¤æ¢æœºçš„æ¯ä¸ªç«¯å£éƒ½ç›´æ¥ä¸ä¸»æœºç›¸è¿ï¼Œå¹¶ä¸”ä¸€èˆ¬éƒ½å·¥ä½œåœ¨å…¨åŒå·¥æ–¹å¼ã€‚</li>
<li>äº¤æ¢æœºèƒ½åŒæ—¶è¿é€šè®¸å¤šå¯¹çš„ç«¯å£ï¼Œä½¿æ¯ä¸€å¯¹ç›¸äº’é€šä¿¡çš„ä¸»æœºéƒ½èƒ½åƒç‹¬å é€šä¿¡åª’ä½“é‚£æ ·ï¼Œè¿›è¡Œæ— å†²çªåœ°ä¼ è¾“æ•°æ®ã€‚</li>
<li>ç”¨æˆ·ç‹¬å ä¼ è¾“åª’ä½“çš„å¸¦å®½ï¼Œè‹¥ä¸€ä¸ªæ¥å£åˆ°ä¸»æœºçš„å¸¦å®½æ˜¯ 10Mbit æ¯ç§’ï¼Œé‚£ä¹ˆæœ‰ 10 ä¸ªæ¥å£çš„äº¤æ¢æœºçš„æ€»å®¹é‡æ˜¯ 100Mbit æ¯ç§’ã€‚è¿™æ˜¯äº¤æ¢æœºçš„æœ€å¤§ä¼˜ç‚¹ã€‚</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="ä¸Šä¸€é¡µ" aria-label="ä¸Šä¸€é¡µ" href="/blog/page/41/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/41/">41</a><span class="page-number current">42</span><a class="page-number" href="/blog/page/43/">43</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/51/">51</a><a class="extend next" rel="next" title="ä¸‹ä¸€é¡µ" aria-label="ä¸‹ä¸€é¡µ" href="/blog/page/43/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2015 â€“ 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">é’æ‚Ÿ â—¾ Dunwu</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">4.5m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">68:08</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/dunwu/blog" class="github-corner" title="åœ¨ GitHub ä¸Šå…³æ³¨æˆ‘" aria-label="åœ¨ GitHub ä¸Šå…³æ³¨æˆ‘" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"dunwu","repo":"blog","client_id":"c45bc13ca1d3d3aa4836","client_secret":"1907a9f0c22087badad3938e1d7dcba9078f88ac","admin_user":"dunwu","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"zh-CN","js":{"url":"https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"3bfc2f06ddd48170428ef8dfe38c133b"}</script>
<script src="/blog/js/third-party/comments/gitalk.js" defer></script>

</body>
</html>
